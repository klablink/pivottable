"use strict";function _createForOfIteratorHelper(e,t){var r,n,o,i,u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(u)return n=!(r=!0),{s:function(){u=u.call(e)},n:function(){var e=u.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==u.return||u.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(u=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return u&&(e=u),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var callWithJQueryAndD3=function(e){return"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?e(require("jquery"),require("d3")):"function"==typeof define&&define.amd?define(["jquery","d3"],e):e(jQuery,d3)};callWithJQueryAndD3(function(y,s){return y.pivotUtilities.d3_renderers={Treemap:function(e,t){function l(e,t,r){if(0!==t.length){null==e.children&&(e.children=[]);var n,o=t.shift(),i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u.name===o)return void l(u,t,r)}}catch(e){i.e(e)}finally{i.f()}var a={name:o};return l(a,t,r),e.children.push(a)}e.value=r}t=y.extend(!0,{},{localeStrings:{},d3:{width:function(){return y(window).width()/1.4},height:function(){return y(window).height()/1.4}}},t);var r,n=y("<div>").css({width:"100%",height:"100%"}),o={name:"All",children:[]},i=_createForOfIteratorHelper(e.getRowKeys());try{for(i.s();!(r=i.n()).done;){var u,a=r.value;null!=(u=e.getAggregator(a,[]).value())&&l(o,a,u)}}catch(e){i.e(e)}finally{i.f()}var f=s.scale.category10(),c=t.d3.width(),t=t.d3.height(),d=s.layout.treemap().size([c,t]).sticky(!0).value(function(e){return e.size});return s.select(n[0]).append("div").style("position","relative").style("width",c+"px").style("height",t+"px").datum(o).selectAll(".node").data(d.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":f(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})}),n}}});
//# sourceMappingURL=d3_renderers.min.js.map
