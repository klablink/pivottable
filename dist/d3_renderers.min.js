"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var callWithJQueryAndD3=function(e){return"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?e(require("jquery"),require("d3")):"function"==typeof define&&define.amd?define(["jquery","d3"],e):e(jQuery,d3)};callWithJQueryAndD3(function(y,h){return y.pivotUtilities.d3_renderers={Treemap:function(e,t){t=y.extend(!0,{},{localeStrings:{},d3:{width:function(){return y(window).width()/1.4},height:function(){return y(window).height()/1.4}}},t);for(var n=y("<div>").css({width:"100%",height:"100%"}),r={name:"All",children:[]},i=function e(t,n,r){if(0!==n.length){null==t.children&&(t.children=[]);for(var i=n.shift(),o=0,u=Array.from(t.children);o<u.length;o++){var l=u[o];if(l.name===i)return void e(l,n,r)}var d={name:i};return e(d,n,r),t.children.push(d)}t.value=r},o=0,u=Array.from(e.getRowKeys());o<u.length;o++){var l,d=u[o];null!=(l=e.getAggregator(d,[]).value())&&i(r,d,l)}var f=h.scale.category10(),a=t.d3.width(),t=t.d3.height(),c=h.layout.treemap().size([a,t]).sticky(!0).value(function(e){return e.size});return h.select(n[0]).append("div").style("position","relative").style("width",a+"px").style("height",t+"px").datum(r).selectAll(".node").data(c.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":f(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})}),n}}});
//# sourceMappingURL=d3_renderers.min.js.map
