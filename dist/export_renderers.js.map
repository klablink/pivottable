{"version":3,"file":"export_renderers.js","names":["$","pivotUtilities","export_renderers","TSVExport","pivotData","opts","colKey","r","defaults","localeStrings","extend","rowKeys","getRowKeys","length","push","colKeys","getColKeys","rowAttrs","colAttrs","result","row","_i","_Array$from","Array","from","rowAttr","aggregatorName","_i2","_Array$from2","join","_i3","_Array$from3","rowKey","_i4","_Array$from4","_i5","_Array$from5","agg","getAggregator","value","text","_i6","_Array$from6","css","width","window","height","jQuery"],"sources":["export_renderers.js"],"sourcesContent":["// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n/*\n * decaffeinate suggestions:\n * DS101: Remove unnecessary use of Array.from\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\n($ => $.pivotUtilities.export_renderers = { \"TSV Export\"(pivotData, opts) {\n    let colKey, r;\n    const defaults = {localeStrings: {}};\n\n    opts = $.extend(true, {}, defaults, opts);\n\n    const rowKeys = pivotData.getRowKeys();\n    if (rowKeys.length === 0) { rowKeys.push([]); }\n    const colKeys = pivotData.getColKeys();\n    if (colKeys.length === 0) { colKeys.push([]); }\n    const {\n        rowAttrs\n    } = pivotData;\n    const {\n        colAttrs\n    } = pivotData;\n\n    const result = [];\n\n    let row = [];\n    for (var rowAttr of Array.from(rowAttrs)) {\n        row.push(rowAttr);\n    }\n    if ((colKeys.length === 1) && (colKeys[0].length === 0)) {\n        row.push(pivotData.aggregatorName);\n    } else {\n        for (colKey of Array.from(colKeys)) {\n            row.push(colKey.join(\"-\"));\n        }\n    }\n\n    result.push(row);\n\n    for (var rowKey of Array.from(rowKeys)) {\n        row = [];\n        for (r of Array.from(rowKey)) {\n            row.push(r);\n        }\n\n        for (colKey of Array.from(colKeys)) {\n            var agg = pivotData.getAggregator(rowKey, colKey);\n            if (agg.value() != null) {\n                row.push(agg.value());\n            } else {\n                row.push(\"\");\n            }\n        }\n        result.push(row);\n    }\n    let text = \"\";\n    for (r of Array.from(result)) {\n        text += r.join(\"\\t\")+\"\\n\";\n    }\n\n    return  $(\"<textarea>\").text(text).css({\n            width: ($(window).width() / 2) + \"px\",\n            height: ($(window).height() / 2) + \"px\"});\n}\n})(jQuery);\n"],"mappings":"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","ignoreList":[]}