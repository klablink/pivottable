"use strict";!function(T){function t(x,z){return function(t,r){null==(r=T.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},gchart:{}},r)).gchart.width&&(r.gchart.width=window.innerWidth/1.4),null==r.gchart.height&&(r.gchart.height=window.innerHeight/1.4);var a,e,n,o,i=t.getRowKeys(),l=(0===i.length&&i.push([]),t.getColKeys()),h=(0===l.length&&l.push([]),t.aggregatorName),s=(t.valAttrs.length&&(h+="(".concat(t.valAttrs.join(", "),")")),Array.from(i).map(function(t){return t.join("-")})),g=(s.unshift(""),0);if("ScatterChart"===x){for(var c in v=[],t.tree){var u,d=t.tree[c];for(u in d)y=d[u],v.push([parseFloat(u),parseFloat(c),h+": \n"+y.format(y.value())])}(a=new google.visualization.DataTable).addColumn("number",t.colAttrs.join("-")),a.addColumn("number",t.rowAttrs.join("-")),a.addColumn({type:"string",role:"tooltip"}),a.addRows(v),e=t.colAttrs.join("-"),o=t.rowAttrs.join("-"),n=""}else{for(var v=[s],p=0,C=Array.from(l);p<C.length;p++){var A=C[p],f=[A.join("-")];g+=f[0].length;for(var w=0,m=Array.from(i);w<m.length;w++){var y,S=m[w];null!=(y=t.getAggregator(S,A)).value()?(S=y.value(),T.isNumeric(S)?f.push(S<1?parseFloat(S.toPrecision(3)):parseFloat(S.toFixed(3))):f.push(S)):f.push(null)}v.push(f)}a=google.visualization.arrayToDataTable(v),n=o=h,""!==(e=t.colAttrs.join("-"))&&(n+=" ".concat(r.localeStrings.vs," ").concat(e));s=t.rowAttrs.join("-");""!==s&&(n+=" ".concat(r.localeStrings.by," ").concat(s))}var l={title:n,hAxis:{title:e,slantedText:50<g},vAxis:{title:o},tooltip:{textStyle:{fontName:"Arial",fontSize:12}}},b=("ColumnChart"===x&&(l.vAxis.minValue=0),"ScatterChart"===x?(l.legend={position:"none"},l.chartArea={width:"80%",height:"80%"}):2===v[0].length&&""===v[0][1]&&(l.legend={position:"none"}),l=T.extend(!0,{},l,r.gchart,z),T("<div>").css({width:"100%",height:"100%"})),j=new google.visualization.ChartWrapper({dataTable:a,chartType:x,options:l});return j.draw(b[0]),b.bind("dblclick",function(){var t=new google.visualization.ChartEditor;return google.visualization.events.addListener(t,"ok",function(){return t.getChartWrapper().draw(b[0])}),t.openDialog(j)}),b}}T.pivotUtilities.gchart_renderers={"Line Chart":t("LineChart"),"Bar Chart":t("ColumnChart"),"Stacked Bar Chart":t("ColumnChart",{isStacked:!0}),"Area Chart":t("AreaChart",{isStacked:!0}),"Scatter Chart":t("ScatterChart")}}(jQuery);
//# sourceMappingURL=gchart_renderers.min.js.map
