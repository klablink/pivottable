"use strict";callWithJQuery(function(q,D){function t(U){return null==U&&(U={}),function(t,r){null==(r=q.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},c3:{}},r)).c3.size&&(r.c3.size={}),null==r.c3.size.width&&(r.c3.size.width=window.innerWidth/1.4),null==r.c3.size.height&&(r.c3.size.height=window.innerHeight/1.4-50),null==U.type&&(U.type="line"),null==U.horizontal&&(U.horizontal=!1),null==U.stacked&&(U.stacked=!1);var o,e,l,n=t.getRowKeys(),i=(0===n.length&&n.push([]),t.getColKeys()),a=(0===i.length&&i.push([]),Array.from(i).map(function(t){return t.join("-")})),c=0,s=t.aggregatorName;if(t.valAttrs.length&&(s+="(".concat(t.valAttrs.join(", "),")")),"scatter"===U.type){var u={x:{},y:{},t:{}},h=t.rowAttrs.concat(t.colAttrs),g=null!=h[0]?h[0]:"",f=null!=h[1]?h[1]:"",h=h.slice(2).join("-"),p=g;""!==f&&(p+=" ".concat(r.localeStrings.vs," ").concat(f)),""!==h&&(p+=" ".concat(r.localeStrings.by," ").concat(h));for(var y=0,d=Array.from(n);y<d.length;y++)for(var v=d[y],x=0,m=Array.from(i);x<m.length;x++){var A,b,z=m[x],k=t.getAggregator(v,z);null!=k.value()&&(A=v.concat(z),""===(b=A.slice(2).join("-"))&&(b="series"),null==u.x[b]&&(u.x[b]=[]),null==u.y[b]&&(u.y[b]=[]),o=null!=A[0]?A[0]:0,l=null!=A[1]?A[1]:0,u.y[b].push(o),u.x[b].push(l),null==u.t[b]&&(u.t[b]={}),null==u.t[b][l]&&(u.t[b][l]={}),u.t[b][l][o]=k.value())}}else{for(var w=0,j=0,C=Array.from(a);j<C.length;j++)w+=(l=C[j]).length;50<w&&(c=45);for(var S=[],B=0,H=Array.from(n);B<H.length;B++){for(var _=(v=H[B]).join("-"),F=[""===_?s:_],K=0,L=Array.from(i);K<L.length;K++){z=L[K];var N=parseFloat(t.getAggregator(v,z).value());isFinite(N)?F.push(N):F.push(null)}S.push(F)}g=s,h=(U.horizontal?(f=t.rowAttrs.join("-"),t.colAttrs):(f=t.colAttrs.join("-"),t.rowAttrs)).join("-"),p=s,""!==f&&(p+=" ".concat(r.localeStrings.vs," ").concat(f)),""!==h&&(p+=" ".concat(r.localeStrings.by," ").concat(h))}var h=q("<p>",{style:"text-align: center; font-weight: bold"}),T=(h.text(p),t.getAggregator([],[]).format),p={axis:{rotated:U.horizontal,y:{label:g,tick:{}},x:{label:f,tick:{rotate:c,multiline:!1}}},data:{type:U.type,order:null},tooltip:{grouped:!1},color:{pattern:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}},p=q.extend(!0,{},p,r.c3);if("scatter"===U.type){var W,Q={},R=0,J=[];for(W in u.x)R+=1,Q[W]=W+"_x",J.push([W+"_x"].concat(u.x[W])),J.push([W].concat(u.y[W]));p.data.xs=Q,p.data.columns=J,p.axis.x.tick={fit:!1},1===R&&(p.legend={show:!1}),p.tooltip.format={title:function(){return s},name:function(){return""},value:function(t,r,a,e,n){n=n[0];return b=n.name,o=n.value,l=n.x,T(u.t[b][l][o])}}}else p.axis.x.type="category",null==p.axis.y.tick.format&&(p.axis.y.tick.format=function(t){return T(t)}),p.tooltip.format={value:function(t){return T(t)}},U.horizontal?(1===(g=function(){for(var t=[],r=0,a=Array.from(S);r<a.length;r++)e=a[r],t.push(e.shift());return t}()).length&&g[0]===s&&(g=[""]),p.axis.x.categories=g,1===a.length&&""===a[0]&&(a=[s]),S.unshift(a),p.data.rows=S):(p.axis.x.categories=a,p.data.columns=S);U.stacked&&(U.horizontal?p.data.groups=[function(){for(var t=[],r=0,a=Array.from(i);r<a.length;r++)l=a[r],t.push(l.join("-"));return t}()]:p.data.groups=[function(){for(var t=[],r=0,a=Array.from(n);r<a.length;r++)l=a[r],t.push(l.join("-"));return t}()]);f=q("<div>",{style:"display:none;"}).appendTo(q("body")),c=q("<div>").appendTo(f);return p.bindto=c[0],D.generate(p),c.detach(),f.remove(),q("<div>").append(h,c)}}return q.pivotUtilities.c3_renderers={"Horizontal Bar Chart":t({type:"bar",horizontal:!0}),"Horizontal Stacked Bar Chart":t({type:"bar",stacked:!0,horizontal:!0}),"Bar Chart":t({type:"bar"}),"Stacked Bar Chart":t({type:"bar",stacked:!0}),"Line Chart":t(),"Area Chart":t({type:"area",stacked:!0}),"Scatter Chart":t({type:"scatter"})}});
//# sourceMappingURL=c3_renderers.min.js.map
