"use strict";!function(F){let K;"object"==typeof exports&&"object"==typeof module?K=require("c3"):"function"==typeof define&&define.amd?define(["c3"],t=>K=t):K=window.c3;function t(_){return null==_&&(_={}),function(e,a){let r,o,l,n,i,s,c,u,d,f,p,h;null==(a=F.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},c3:{}},a)).c3.size&&(a.c3.size={}),null==a.c3.size.width&&(a.c3.size.width=window.innerWidth/1.4),null==a.c3.size.height&&(a.c3.size.height=window.innerHeight/1.4-50),null==_.type&&(_.type="line"),null==_.horizontal&&(_.horizontal=!1),null==_.stacked&&(_.stacked=!1);var g=e.getRowKeys(),y=(0===g.length&&g.push([]),e.getColKeys());0===y.length&&y.push([]);let x=y.map(t=>t.join("-")),v=0,m=e.aggregatorName;if(e.valAttrs.length&&(m+=`(${e.valAttrs.join(", ")})`),"scatter"===_.type){s={x:{},y:{},t:{}};var t=e.rowAttrs.concat(e.colAttrs);d=null!=t[0]?t[0]:"",n=null!=t[1]?t[1]:"",l=t.slice(2).join("-"),u=d,""!==n&&(u+=` ${a.localeStrings.vs} `+n),""!==l&&(u+=` ${a.localeStrings.by} `+l);for(i of g)for(r of y){var b,z=e.getAggregator(i,r);null!=z.value()&&(b=i.concat(r),""===(c=b.slice(2).join("-"))&&(c="series"),null==s.x[c]&&(s.x[c]=[]),null==s.y[c]&&(s.y[c]=[]),f=null!=b[0]?b[0]:0,h=null!=b[1]?b[1]:0,s.y[c].push(f),s.x[c].push(h),null==s.t[c]&&(s.t[c]={}),null==s.t[c][h]&&(s.t[c][h]={}),s.t[c][h][f]=z.value())}}else{let t=0;for(h of Array.from(x))t+=h.length;50<t&&(v=45),o=[];for(i of g){var A=i.join("-"),w=[""===A?m:A];for(r of Array.from(y)){var j=parseFloat(e.getAggregator(i,r).value());isFinite(j)?w.push(j):w.push(null)}o.push(w)}d=m,l=(_.horizontal?(n=e.rowAttrs.join("-"),e.colAttrs):(n=e.colAttrs.join("-"),e.rowAttrs)).join("-"),u=m,""!==n&&(u+=` ${a.localeStrings.vs} `+n),""!==l&&(u+=` ${a.localeStrings.by} `+l)}t=F("<p>",{style:"text-align: center; font-weight: bold"});t.text(u);const k=e.getAggregator([],[]).format;var C={axis:{rotated:_.horizontal,y:{label:d,tick:{}},x:{label:n,tick:{rotate:v,multiline:!1}}},data:{type:_.type,order:null},tooltip:{grouped:!1},color:{pattern:["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac"]}},C=F.extend(!0,{},C,a.c3);if("scatter"===_.type){var S={};let t=0;var $,B=[];for($ in s.x)t+=1,S[$]=$+"_x",B.push([$+"_x"].concat(s.x[$])),B.push([$].concat(s.y[$]));C.data.xs=S,C.data.columns=B,C.axis.x.tick={fit:!1},1===t&&(C.legend={show:!1}),C.tooltip.format={title(){return m},name(){return""},value(t,e,a,r,o){return{name:c,value:f,x:h}=o[0],k(s.t[c][h][f])}}}else{let t;if(C.axis.x.type="category",null==C.axis.y.tick.format&&(C.axis.y.tick.format=t=>k(t)),C.tooltip.format={value(t){return k(t)}},_.horizontal){t=[];for(p of Array.from(o))t.push(p.shift());1===t.length&&t[0]===m&&(t=[""]),C.axis.x.categories=t,1===x.length&&""===x[0]&&(x=[m]),o.unshift(x),C.data.rows=o}else C.axis.x.categories=x,C.data.columns=o}if(_.stacked)if(_.horizontal){const H=[];for(h of Array.from(y))H.push(h.join("-"));C.data.groups=[H]}else{const H=[];for(h of g)H.push(h.join("-"));C.data.groups=[H]}a=F("<div>",{style:"display:none;"}).appendTo(F("body"));const H=F("<div>").appendTo(a);return C.bindto=H[0],K.generate(C),H.detach(),a.remove(),F("<div>").append(t,H)}}F.pivotUtilities.c3_renderers={"Horizontal Bar Chart":t({type:"bar",horizontal:!0}),"Horizontal Stacked Bar Chart":t({type:"bar",stacked:!0,horizontal:!0}),"Bar Chart":t({type:"bar"}),"Stacked Bar Chart":t({type:"bar",stacked:!0}),"Line Chart":t(),"Area Chart":t({type:"area",stacked:!0}),"Scatter Chart":t({type:"scatter"})}}(jQuery);
//# sourceMappingURL=c3_renderers.min.js.map
