"use strict";const callWithJQueryAndPlotty=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("plotly.js")):"function"==typeof define&&define.amd?define(["jquery","plotly.js"],t):t(jQuery,Plotly)};callWithJQueryAndPlotty(function(f,m){function t(d,c,v){return null==d&&(d={}),null==c&&(c={}),null==v&&(v=!1),function(i,t){let e,o;t=f.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},t);var r=i.getRowKeys(),l=i.getColKeys(),n=v?l:r;0===n.length&&n.push([]);const a=v?r:l;0===a.length&&a.push([]);let s=i.aggregatorName;i.valAttrs.length&&(s+=`(${i.valAttrs.join(", ")})`);var u=n.map(function(t){var e,o=[],r=[];for(e of Array.from(a)){var l=parseFloat(i.getAggregator(v?e:t,v?t:e).value());o.push(isFinite(l)?l:null),r.push(e.join("-")||" ")}var n={name:t.join("-")||s};return"pie"===d.type?(n.values=o,n.labels=1<r.length?r:[s]):(n.x=v?o:r,n.y=v?r:o),f.extend(n,d)});e=(v?(o=i.rowAttrs.join("-"),i.colAttrs):(o=i.colAttrs.join("-"),i.rowAttrs)).join("-");let h=s;""!==o&&(h+=` ${t.localeStrings.vs} `+o),""!==e&&(h+=` ${t.localeStrings.by} `+e);r={title:h,hovermode:"closest",width:window.innerWidth/1.4,height:window.innerHeight/1.4-50};if("pie"===d.type){var y,p=Math.ceil(Math.sqrt(u.length)),l=Math.ceil(u.length/p);for(y in r.grid={columns:p,rows:l},u){var g=u[y];g.domain={row:Math.floor(y/p),column:y-p*Math.floor(y/p)},1<u.length&&(g.title=g.name)}1===u[0].labels.length&&(r.showlegend=!1)}else r.xaxis={title:v?s:null,automargin:!0},r.yaxis={title:v?null:s,automargin:!0};n=f("<div>").appendTo(f("body"));return m.newPlot(n[0],u,f.extend(r,c,t.plotly),t.plotlyConfig),n.detach()}}return f.pivotUtilities.plotly_renderers={"Horizontal Bar Chart":t({type:"bar",orientation:"h"},{barmode:"group"},!0),"Horizontal Stacked Bar Chart":t({type:"bar",orientation:"h"},{barmode:"relative"},!0),"Bar Chart":t({type:"bar"},{barmode:"group"}),"Stacked Bar Chart":t({type:"bar"},{barmode:"relative"}),"Line Chart":t(),"Area Chart":t({stackgroup:1}),"Scatter Chart":function(t,e){e=f.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},e);var o,r=t.getRowKeys(),l=(0===r.length&&r.push([]),t.getColKeys()),n=(0===l.length&&l.push([]),{x:[],y:[],text:[],type:"scatter",mode:"markers"});for(o of Array.from(r))for(var i of Array.from(l)){var a=t.getAggregator(o,i).value();null!=a&&(n.x.push(i.join("-")),n.y.push(o.join("-")),n.text.push(a))}var r={title:t.rowAttrs.join("-")+" vs "+t.colAttrs.join("-"),hovermode:"closest",xaxis:{title:t.colAttrs.join("-"),automargin:!0},yaxis:{title:t.rowAttrs.join("-"),automargin:!0},width:window.innerWidth/1.5,height:window.innerHeight/1.4-50},s=f("<div>",{style:"display:none;"}).appendTo(f("body")),u=f("<div>").appendTo(s);return m.newPlot(u[0],[n],f.extend(r,e.plotly),e.plotlyConfig),u.detach(),s.remove(),u},"Multiple Pie Chart":t({type:"pie",scalegroup:1,hoverinfo:"label+value",textinfo:"none"},{},!0)}});
//# sourceMappingURL=plotly_renderers.min.js.map
