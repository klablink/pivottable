"use strict";!function(d,v){function t(u,y,c){return null==u&&(u={}),null==y&&(y={}),null==c&&(c=!1),function(s,t){t=d.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},t);var e=s.getRowKeys(),o=s.getColKeys(),r=c?o:e,h=(0===r.length&&r.push([]),c?e:o),g=(0===h.length&&h.push([]),s.aggregatorName),n=(s.valAttrs.length&&(g+="(".concat(s.valAttrs.join(", "),")")),r.map(function(t){for(var e=[],o=[],r=0,n=Array.from(h);r<n.length;r++){var l=n[r],a=parseFloat(s.getAggregator(c?l:t,c?t:l).value());e.push(isFinite(a)?a:null),o.push(l.join("-")||" ")}var i={name:t.join("-")||g};return"pie"===u.type?(i.values=e,i.labels=1<o.length?o:[g]):(i.x=c?e:o,i.y=c?o:e),d.extend(i,u)})),e=(c?(i=s.rowAttrs.join("-"),s.colAttrs):(i=s.colAttrs.join("-"),s.rowAttrs)).join("-"),o=g,r=(""!==i&&(o+=" ".concat(t.localeStrings.vs," ").concat(i)),""!==e&&(o+=" ".concat(t.localeStrings.by," ").concat(e)),{title:o,hovermode:"closest",width:window.innerWidth/1.4,height:window.innerHeight/1.4-50});if("pie"===u.type){var l,a=Math.ceil(Math.sqrt(n.length)),i=Math.ceil(n.length/a);for(l in r.grid={columns:a,rows:i},n){var p=n[l];p.domain={row:Math.floor(l/a),column:l-a*Math.floor(l/a)},1<n.length&&(p.title=p.name)}1===n[0].labels.length&&(r.showlegend=!1)}else r.xaxis={title:c?g:null,automargin:!0},r.yaxis={title:c?null:g,automargin:!0};e=d("<div>").appendTo(d("body"));return v.newPlot(e[0],n,d.extend(r,y,t.plotly),t.plotlyConfig),e.detach()}}d.pivotUtilities.plotly_renderers={"Horizontal Bar Chart":t({type:"bar",orientation:"h"},{barmode:"group"},!0),"Horizontal Stacked Bar Chart":t({type:"bar",orientation:"h"},{barmode:"relative"},!0),"Bar Chart":t({type:"bar"},{barmode:"group"}),"Stacked Bar Chart":t({type:"bar"},{barmode:"relative"}),"Line Chart":t(),"Area Chart":t({stackgroup:1}),"Scatter Chart":function(t,e){e=d.extend(!0,{},{localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},e);for(var o=t.getRowKeys(),r=(0===o.length&&o.push([]),t.getColKeys()),n=(0===r.length&&r.push([]),{x:[],y:[],text:[],type:"scatter",mode:"markers"}),l=0,a=Array.from(o);l<a.length;l++)for(var i=a[l],s=0,h=Array.from(r);s<h.length;s++){var g=h[s],p=t.getAggregator(i,g).value();null!=p&&(n.x.push(g.join("-")),n.y.push(i.join("-")),n.text.push(p))}var o={title:t.rowAttrs.join("-")+" vs "+t.colAttrs.join("-"),hovermode:"closest",xaxis:{title:t.colAttrs.join("-"),automargin:!0},yaxis:{title:t.rowAttrs.join("-"),automargin:!0},width:window.innerWidth/1.5,height:window.innerHeight/1.4-50},u=d("<div>",{style:"display:none;"}).appendTo(d("body")),y=d("<div>").appendTo(u);return v.newPlot(y[0],[n],d.extend(o,e.plotly),e.plotlyConfig),y.detach(),u.remove(),y},"Multiple Pie Chart":t({type:"pie",scalegroup:1,hoverinfo:"label+value",textinfo:"none"},{},!0)}}(jQuery,Plotly);
//# sourceMappingURL=plotly_renderers.min.js.map
