{"version":3,"file":"pivot.js","names":["$","expandWithSpan","cell","rows","keys","nth","parent","table","closest","span","dft","Math","max","aggregator","length","_ref","_span","change","object","parentKeysIndices","i","p","getHeader","expandRowCol","getExpandAllHandler","localeGlobal","addSeparators","nStr","thousandsSep","decimalSep","x","split","x1","x2","rgx","test","replace","numberFormat","opts","defaults","digitsAfterDecimal","scaler","prefix","suffix","extend","isNaN","isFinite","result","toFixed","cellRenderers","text","value","document","createTextNode","byType","def","type","apply","arguments","toDate","date","options","year","month","day","Date","toLocaleDateString","e","pivotUtilities","usFmt","usFmtInt","usFmtPct","aggregatorTemplates","count","formatter","data","rowKey","colKey","push","format","uniques","fn","_ref2","undefined","_ref3","_slicedToArray","attr","uniq","record","includes","numInputs","sum","_ref4","_ref5","parseFloat","extremes","mode","_ref6","_ref7","val","sorter","getSort","sorters","quantile","q","_ref8","_ref9","vals","sort","a","b","floor","ceil","runningStat","ddof","_ref10","_ref11","n","m","s","m_new","sqrt","sumOverSum","_ref12","_ref13","num","denom","sumNum","sumDenom","sumOverSumBound80","upper","_ref14","_ref15","sign","fractionOf","wrapped","_len","Array","_key","selector","total","row","col","inner","_toConsumableArray","id","agg","getAggregator","concat","countUnique","f","listUnique","naturalSort","join","min","first","last","median","average","var","stdev","makeAggregators","fmt","fmtInt","fmtPct","defaultAggregators","renderers","Table","pivotTableRenderer","TableBarchart","barchart","Heatmap","heatmap","RowHeatmap","ColHeatmap","locales","en","formatters","formatInt","formatPct","localeStrings","renderError","computeError","uiRenderError","selectAll","selectNone","tooMany","filterResults","cancel","totals","vs","by","rendererLabel","valuesLabel","fieldsLabel","colsLabel","rowsLabel","groupsLabel","_i","_Object$keys","Object","mthNamesEn","dayNamesEn","zeroPad","number","substr","derivers","bin","binWidth","dateFormat","formatString","utcOutput","mthNames","dayNames","utc","parse","rx","rd","rz","as","bs","nulls_first","nf","nas","nbs","String","match","a1","shift","b1","sortAs","order","mapping","l_mapping","toLowerCase","isFunction","filterByLength","filter","subarrays","array","map","d","slice","normalizeData","entries","forEach","_ref16","_ref17","key","toISOString","PivotData","input","_this","_classCallCheck","arrSort","bind","sortKeys","getColKeys","getRowKeys","isArray","aggregatorName","colAttrs","cols","rowAttrs","valAttrs","rowOrder","colOrder","derivedAttributes","tree","rowKeys","colKeys","rowTotals","colTotals","allTotal","sorted","aggregatorsLabel","grouping","rowGroupBefore","colGroupBefore","forEachRecord","processRecord","_createClass","forEachMatchingRecord","criteria","callback","_this2","k","v","attrs","sortersArr","_iterator","_createForOfIteratorHelper","_step","done","err","_i2","_Object$keys2","comparison","_this3","r","c","all_keys","_this4","_iterator2","_step2","_iterator3","_step3","_loop","j","flatRowKey","fromCharCode","result1","_loop2","flatColKey","addRecord","isEmptyObject","left","_i3","_Object$keys3","compactRecord","_i4","_Object$keys4","_iterator4","_step4","tblCols","each","Error","renameAggregators","aggregators","displayName","toUpperCase","pivotData","getClickHandler","td","th","totalAggregator","tr","clickCallback","typeCellRenderer","headCellRenderer","dataCellRenderer","rowValues","colValues","filters","_i5","_Object$keys5","_i6","_Object$keys6","compactLayout","rowExpandHandler","expandRowsGroupAfter","rowsExpandHandler","getExpandHandler","colsExpandHandler","createElement","className","spanSize","arr","asc","end","noDraw","len","asc1","end1","stop","thead","_i7","_Object$keys7","parseInt","setAttribute","appendChild","onclick","_i8","_Object$keys8","innerHTML","_i9","_Object$keys9","tbody","lbl","colspan","_i10","_Object$keys10","_iterator5","_step5","textContent","_iterator6","_step6","_i11","_Object$keys11","rowGap","_i12","_Object$keys12","txt","colSpan","style","paddingLeft","_i13","_Object$keys13","_aggregator","_totalAggregator","append","_i14","_Object$keys14","_totalAggregator2","_totalAggregator3","pivot","inputOpts","locale","dataClass","renderer","localeDefaults","rendererOptions","error","console","stack","html","error1","hasChildNodes","removeChild","lastChild","pivotUI","overwrite","_this5","hiddenAttributes","hiddenFromAggregators","hiddenFromDragDrop","menuLimit","exclusions","inclusions","unusedAttrsVertical","autoSortUnusedAttrs","onRefresh","showUI","multiple","parametersActive","itemsId","existingOpts","unusedAttrsVerticalAutoCutoff","attrValues","materializedInput","recordsProcessed","_i15","_Object$keys15","uiContainer","addClass","uiMenu","uiParameters","uiPivotContainer","uiButtonColumns","on","show","removeClass","hide","appendTo","uiButtonGroups","refresh","pvtRenderType","_i16","_Object$keys16","unused","shownAttributes","shownInAggregators","_i17","_shownAttributes","shownInDragDrop","_i18","_shownAttributes2","unusedAttrsVerticalAutoOverride","attrLength","_iterator7","_step7","_loop3","_Object$keys17","_i19","values","hasExcludedItem","valueList","controls","placeholder","class","trim","accept_gen","accepted","real_filter","substring","needle","accept","indexOf","find","prop","toggleClass","checkContainer","_iterator8","_step8","valueCount","filterItem","filterItemExcluded","closeFilterBox","attrElem","finalButtons","triangleLink","_$$position","currentTarget","position","top","css","divAggregator","remove","_i20","_Object$keys18","role","ordering","key_a_to_z","rowSymbol","colSymbol","next","value_a_to_z","value_z_to_a","rowOrderArrow","colOrderArrow","pvVals","pivotTable","initialRender","refreshDelayed","subopts","numInputsToProcess","aggVals","idx","_loop4","aggregatorType","_typeof","aggIdx","initialVals","pvtVals","container","found","labelAggregator","newDropdown","_i21","_shownInAggregators","_this6","instance","findIndex","splice","not","excludedItems","pivotUIOptions","inclusionsInfo","rendererName","currentPivotData","unusedAttrsContainer","children","setTimeout","_iterator9","_step9","inArray","_iterator10","_step10","sortable","update","ui","sender","connectWith","items","scope","_opts$heatmap","_this7","numRows","numCols","colorScaleGenerator","nonRed","round","heatmapper","forEachCell","colorScale","elem","_this8","barcharter","range","wrapper","bgColor","bBase","childIndex","el","prototype","call","parentNode","childKeysIndices","up","levelKeysIndices","level","getAxis","rowGetter","selecttion","colGetter","showHide","getter","offset","hasClass","initIndex","insertPoint","_old","prepend","parentIndex","rowSpan","expandAll","expand","levels","start","trigger","handler","ev","target","jQuery"],"sources":["pivot.js"],"sourcesContent":["// TODO: This file was created by bulk-decaffeinate.\n// Sanity-check the conversion and remove this comment.\n// noinspection JSUnresolvedReference\n\n/*\n * decaffeinate suggestions:\n * DS201: Simplify complex destructure assignments\n * DS202: Simplify dynamic range loops\n * DS203: Remove `|| {}` from converted for-own loops\n * DS204: Change includes calls to have a more natural evaluation order\n * DS205: Consider reworking code to avoid use of IIFEs\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/main/docs/suggestions.md\n */\n\n(function ($) {\n\n    const expandWithSpan = function (cell, rows, keys, nth) {\n        let parent;\n        const table = $(cell).closest('table');\n        const span = rows ? 'rowSpan' : 'colSpan';\n\n        const dft = !rows ? Math.max(1, this.aggregator.length) : 1;\n        [cell._span, cell[span]] = [cell[span], cell._span != null ? cell._span : dft];\n        const change = cell[span] - cell._span;\n\n        const object = parentKeysIndices(keys, nth);\n        for (let i in object) {\n            const p = object[i];\n            parent = (getHeader(table, rows, p))[0];\n            if (parent[span] === 1) {\n                parent._span += change;\n                break;\n            }\n            parent[span] += change;\n        }\n\n        return expandRowCol(cell, rows, keys, nth, parent);\n    };\n    /*\n        Utilities\n        */\n\n    let getExpandAllHandler;\n    let localeGlobal = 'en';\n\n    const addSeparators = function (nStr, thousandsSep, decimalSep) {\n        nStr += '';\n        const x = nStr.split('.');\n        let x1 = x[0];\n        const x2 = x.length > 1 ? decimalSep + x[1] : '';\n        const rgx = /(\\d+)(\\d{3})/;\n        while (rgx.test(x1)) {\n            x1 = x1.replace(rgx, '$1' + thousandsSep + '$2');\n        }\n        return x1 + x2;\n    };\n\n    const numberFormat = function (opts) {\n        const defaults = {\n            digitsAfterDecimal: 2, scaler: 1,\n            thousandsSep: ',', decimalSep: '.',\n            prefix: '', suffix: '',\n        };\n        opts = $.extend({}, defaults, opts);\n        return function (x) {\n            if (isNaN(x) || !isFinite(x)) {\n                return '';\n            }\n            const result = addSeparators((opts.scaler * x).toFixed(opts.digitsAfterDecimal), opts.thousandsSep, opts.decimalSep);\n            return '' + opts.prefix + result + opts.suffix;\n        };\n    };\n\n    const cellRenderers = {\n        text: function (value) {\n            value = value || '';\n            return document.createTextNode(value);\n        },\n        byType: function (opts, def) {\n            return function (value, type) {\n                return (opts[type] || def || cellRenderers.text).apply(this, arguments);\n            };\n        },\n        toDate(value, opts) {\n            let date = '';\n\n            if (value) {\n                try {\n                    const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\n                    date = (new Date(value)).toLocaleDateString(localeGlobal, options);\n                } catch (e) {\n                    date = value;\n                }\n            }\n\n            return $.pivotUtilities.cellRenderers.text(date);\n        },\n    };\n\n    //aggregator templates default to US number formatting, but this is overrideable\n    const usFmt = numberFormat();\n    const usFmtInt = numberFormat({ digitsAfterDecimal: 0 });\n    const usFmtPct = numberFormat({ digitsAfterDecimal: 1, scaler: 100, suffix: '%' });\n\n    const aggregatorTemplates = {\n        count(formatter) {\n            if (formatter == null) {\n                formatter = usFmtInt;\n            }\n            return () => (function (data, rowKey, colKey) {\n                return {\n                    count: 0,\n                    push() {\n                        return this.count++;\n                    },\n                    value() {\n                        return this.count;\n                    },\n                    format: formatter,\n                };\n            });\n        },\n\n        uniques(fn, formatter) {\n            if (formatter == null) {\n                formatter = usFmtInt;\n            }\n            return function (...args) {\n                const [attr] = args[0];\n                return function (data, rowKey, colKey) {\n                    return {\n                        attr,\n                        uniq: [],\n                        push(record) {\n                            if (!this.uniq.includes(record[attr])) {\n                                return this.uniq.push(record[attr]);\n                            }\n                        },\n                        value() {\n                            return fn(this.uniq);\n                        },\n                        format: formatter,\n                        numInputs: (attr != null) ? 0 : 1,\n                    };\n                };\n            };\n        },\n\n        sum(formatter) {\n            if (formatter == null) {\n                formatter = usFmt;\n            }\n            return function (...args) {\n                const [attr] = args[0];\n                return function (data, rowKey, colKey) {\n                    return {\n                        attr,\n                        sum: 0,\n                        push(record) {\n                            if (!isNaN(parseFloat(record[attr]))) {\n                                return this.sum += parseFloat(record[attr]);\n                            }\n                        },\n                        value() {\n                            return this.sum;\n                        },\n                        format: formatter,\n                        numInputs: (attr != null) ? 0 : 1,\n                    };\n                };\n            };\n        },\n\n        extremes(mode, formatter) {\n            if (formatter == null) {\n                formatter = usFmt;\n            }\n            return function (...args) {\n                const [attr] = args[0];\n                return function (data, rowKey, colKey) {\n                    return {\n                        attr,\n                        val: null,\n                        sorter: getSort(data != null ? data.sorters : undefined, attr),\n                        push(record) {\n                            let x = record[attr];\n                            if (['min', 'max'].includes(mode)) {\n                                x = parseFloat(x);\n                                if (!isNaN(x)) {\n                                    this.val = Math[mode](x, this.val != null ? this.val : x);\n                                }\n                            }\n                            if (mode === 'first') {\n                                if (this.sorter(x, this.val != null ? this.val : x) <= 0) {\n                                    this.val = x;\n                                }\n                            }\n                            if (mode === 'last') {\n                                if (this.sorter(x, this.val != null ? this.val : x) >= 0) {\n                                    return this.val = x;\n                                }\n                            }\n                        },\n                        value() {\n                            return this.val;\n                        },\n                        format(x) {\n                            if (isNaN(x)) {\n                                return x;\n                            } else {\n                                return formatter(x);\n                            }\n                        },\n                        numInputs: (attr != null) ? 0 : 1,\n                    };\n                };\n            };\n        },\n\n        quantile(q, formatter) {\n            if (formatter == null) {\n                formatter = usFmt;\n            }\n            return function (...args) {\n                const [attr] = args[0];\n                return function (data, rowKey, colKey) {\n                    return {\n                        attr,\n                        vals: [],\n                        push(record) {\n                            const x = parseFloat(record[attr]);\n                            if (!isNaN(x)) {\n                                return this.vals.push(x);\n                            }\n                        },\n                        value() {\n                            if (this.vals.length === 0) {\n                                return null;\n                            }\n                            this.vals.sort((a, b) => a - b);\n                            const i = (this.vals.length - 1) * q;\n                            return (this.vals[Math.floor(i)] + this.vals[Math.ceil(i)]) / 2.0;\n                        },\n                        format: formatter,\n                        numInputs: (attr != null) ? 0 : 1,\n                    };\n                };\n            };\n        },\n\n        runningStat(mode, ddof, formatter) {\n            if (mode == null) {\n                mode = 'mean';\n            }\n            if (ddof == null) {\n                ddof = 1;\n            }\n            if (formatter == null) {\n                formatter = usFmt;\n            }\n            return function (...args) {\n                const [attr] = args[0];\n                return function (data, rowKey, colKey) {\n                    return {\n                        attr,\n                        n: 0.0, m: 0.0, s: 0.0,\n                        push(record) {\n                            const x = parseFloat(record[attr]);\n                            if (isNaN(x)) {\n                                return;\n                            }\n                            this.n += 1.0;\n                            if (this.n === 1.0) {\n                                return this.m = x;\n                            } else {\n                                const m_new = this.m + ((x - this.m) / this.n);\n                                this.s = this.s + ((x - this.m) * (x - m_new));\n                                return this.m = m_new;\n                            }\n                        },\n                        value() {\n                            if (mode === 'mean') {\n                                if (this.n === 0) {\n                                    return 0 / 0;\n                                } else {\n                                    return this.m;\n                                }\n                            }\n                            if (this.n <= ddof) {\n                                return 0;\n                            }\n                            switch (mode) {\n                                case 'var':\n                                    return this.s / (this.n - ddof);\n                                case 'stdev':\n                                    return Math.sqrt(this.s / (this.n - ddof));\n                            }\n                        },\n                        format: formatter,\n                        numInputs: (attr != null) ? 0 : 1,\n                    };\n                };\n            };\n        },\n\n        sumOverSum(formatter) {\n            if (formatter == null) {\n                formatter = usFmt;\n            }\n            return function (...args) {\n                const [num, denom] = args[0];\n                return function (data, rowKey, colKey) {\n                    return {\n                        sumNum: 0,\n                        sumDenom: 0,\n                        push(record) {\n                            if (!isNaN(parseFloat(record[num]))) {\n                                this.sumNum += parseFloat(record[num]);\n                            }\n                            if (!isNaN(parseFloat(record[denom]))) {\n                                return this.sumDenom += parseFloat(record[denom]);\n                            }\n                        },\n                        value() {\n                            return this.sumNum / this.sumDenom;\n                        },\n                        format: formatter,\n                        numInputs: (num != null) && (denom != null) ? 0 : 2,\n                    };\n                };\n            };\n        },\n\n        sumOverSumBound80(upper, formatter) {\n            if (upper == null) {\n                upper = true;\n            }\n            if (formatter == null) {\n                formatter = usFmt;\n            }\n            return function (...args) {\n                const [num, denom] = args[0];\n                return function (data, rowKey, colKey) {\n                    return {\n                        sumNum: 0,\n                        sumDenom: 0,\n                        push(record) {\n                            if (!isNaN(parseFloat(record[num]))) {\n                                this.sumNum += parseFloat(record[num]);\n                            }\n                            if (!isNaN(parseFloat(record[denom]))) {\n                                return this.sumDenom += parseFloat(record[denom]);\n                            }\n                        },\n                        value() {\n                            const sign = upper ? 1 : -1;\n                            return ((0.821187207574908 / this.sumDenom) + (this.sumNum / this.sumDenom) + (1.2815515655446004 * sign *\n                                    Math.sqrt((0.410593603787454 / (this.sumDenom * this.sumDenom)) + ((this.sumNum * (1 - (this.sumNum / this.sumDenom))) / (this.sumDenom * this.sumDenom))))) /\n                                (1 + (1.642374415149816 / this.sumDenom));\n                        },\n                        format: formatter,\n                        numInputs: (num != null) && (denom != null) ? 0 : 2,\n                    };\n                };\n            };\n        },\n\n        fractionOf(wrapped, type, formatter) {\n            if (type == null) {\n                type = 'total';\n            }\n            if (formatter == null) {\n                formatter = usFmtPct;\n            }\n            return (...x) => (function (data, rowKey, colKey) {\n                return {\n                    selector: { total: [[], []], row: [rowKey, []], col: [[], colKey] }[type],\n                    inner: wrapped(...(x || []))(data, rowKey, colKey),\n                    push(record) {\n                        return this.inner.push(record);\n                    },\n                    format: formatter,\n                    value(id) {\n                        const agg = data.getAggregator(...([...this.selector, id] || []));\n                        return this.inner.value() / agg.inner.value();\n                    },\n                    numInputs: wrapped(...(x || []))().numInputs,\n                };\n            });\n        },\n    };\n\n    aggregatorTemplates.countUnique = f => aggregatorTemplates.uniques((x => x.length), f);\n    aggregatorTemplates.listUnique = s => aggregatorTemplates.uniques((x => x.sort(naturalSort).join(s)), (x => x));\n    aggregatorTemplates.max = f => aggregatorTemplates.extremes('max', f);\n    aggregatorTemplates.min = f => aggregatorTemplates.extremes('min', f);\n    aggregatorTemplates.first = f => aggregatorTemplates.extremes('first', f);\n    aggregatorTemplates.last = f => aggregatorTemplates.extremes('last', f);\n    aggregatorTemplates.median = f => aggregatorTemplates.quantile(0.5, f);\n    aggregatorTemplates.average = f => aggregatorTemplates.runningStat('mean', 1, f);\n    aggregatorTemplates.var = (ddof, f) => aggregatorTemplates.runningStat('var', ddof, f);\n    aggregatorTemplates.stdev = (ddof, f) => aggregatorTemplates.runningStat('stdev', ddof, f);\n\n    function makeAggregators(fmt, fmtInt, fmtPct) {\n        return {\n            'Count': aggregatorTemplates.count(fmtInt),\n            'Count Unique Values': aggregatorTemplates.countUnique(fmtInt),\n            'List Unique Values': aggregatorTemplates.listUnique(', '),\n            'Sum': aggregatorTemplates.sum(fmt),\n            'Integer Sum': aggregatorTemplates.sum(fmtInt),\n            'Average': aggregatorTemplates.average(fmt),\n            'Median': aggregatorTemplates.median(fmt),\n            'Sample Variance': aggregatorTemplates.var(1, fmt),\n            'Sample Standard Deviation': aggregatorTemplates.stdev(1, fmt),\n            'Minimum': aggregatorTemplates.min(fmt),\n            'Maximum': aggregatorTemplates.max(fmt),\n            'First': aggregatorTemplates.first(fmt),\n            'Last': aggregatorTemplates.last(fmt),\n            'Sum over Sum': aggregatorTemplates.sumOverSum(fmt),\n            '80% Upper Bound': aggregatorTemplates.sumOverSumBound80(true, fmt),\n            '80% Lower Bound': aggregatorTemplates.sumOverSumBound80(false, fmt),\n            'Sum as Fraction of Total': aggregatorTemplates.fractionOf(aggregatorTemplates.sum(), 'total', fmtPct),\n            'Sum as Fraction of Rows': aggregatorTemplates.fractionOf(aggregatorTemplates.sum(), 'row', fmtPct),\n            'Sum as Fraction of Columns': aggregatorTemplates.fractionOf(aggregatorTemplates.sum(), 'col', fmtPct),\n            'Count as Fraction of Total': aggregatorTemplates.fractionOf(aggregatorTemplates.count(), 'total', fmtPct),\n            'Count as Fraction of Rows': aggregatorTemplates.fractionOf(aggregatorTemplates.count(), 'row', fmtPct),\n            'Count as Fraction of Columns': aggregatorTemplates.fractionOf(aggregatorTemplates.count(), 'col', fmtPct),\n        };\n    }\n\n    //default aggregators & renderers use US naming and number formatting\n    const defaultAggregators = makeAggregators(usFmt, usFmtInt, usFmtPct);\n\n    const renderers = {\n        'Table'(data, opts) {\n            return pivotTableRenderer(data, opts);\n        },\n        'Table Barchart'(data, opts) {\n            return $(pivotTableRenderer(data, opts)).barchart();\n        },\n        'Heatmap'(data, opts) {\n            return $(pivotTableRenderer(data, opts)).heatmap('heatmap', opts);\n        },\n        'Row Heatmap'(data, opts) {\n            return $(pivotTableRenderer(data, opts)).heatmap('rowheatmap', opts);\n        },\n        'Col Heatmap'(data, opts) {\n            return $(pivotTableRenderer(data, opts)).heatmap('colheatmap', opts);\n        },\n    };\n\n    const locales = {\n        en: {\n            formatters: {\n                format: usFmt,\n                formatInt: usFmtInt,\n                formatPct: usFmtPct,\n            },\n            renderers,\n            localeStrings: {\n                renderError: 'An error occurred rendering the PivotTable results.',\n                computeError: 'An error occurred computing the PivotTable results.',\n                uiRenderError: 'An error occurred rendering the PivotTable UI.',\n                selectAll: 'Select All',\n                selectNone: 'Select None',\n                tooMany: '(too many to list)',\n                filterResults: 'Filter values',\n                apply: 'Apply',\n                cancel: 'Cancel',\n                totals: 'Totals', //for table renderer\n                vs: 'vs', //for gchart renderer\n                by: 'by', //for gchart renderer\n                rendererLabel: 'Renderer',\n                valuesLabel: 'Values',\n                fieldsLabel: 'Fields',\n                colsLabel: 'Columns',\n                rowsLabel: 'Rows',\n                groupsLabel: 'Groups',\n            },\n        },\n    };\n\n    for (const agg of Object.keys(defaultAggregators)) {\n        locales.en.localeStrings[agg] = agg;\n    }\n\n    //dateFormat deriver l10n requires month and day names to be passed in directly\n    const mthNamesEn = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    const dayNamesEn = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n    const zeroPad = number => ('0' + number).substr(-2, 2);\n\n    const derivers = {\n        bin(col, binWidth) {\n            return record => record[col] - (record[col] % binWidth);\n        },\n        dateFormat(col, formatString, utcOutput, mthNames, dayNames) {\n            if (utcOutput == null) {\n                utcOutput = false;\n            }\n            if (mthNames == null) {\n                mthNames = mthNamesEn;\n            }\n            if (dayNames == null) {\n                dayNames = dayNamesEn;\n            }\n            const utc = utcOutput ? 'UTC' : '';\n            return function (record) { //thanks http://stackoverflow.com/a/12213072/112871\n                const date = new Date(Date.parse(record[col]));\n                if (isNaN(date)) {\n                    return '';\n                }\n                return formatString.replace(/%(.)/g, function (m, p) {\n                    switch (p) {\n                        case 'y':\n                            return date[`get${utc}FullYear`]();\n                        case 'm':\n                            return zeroPad(date[`get${utc}Month`]() + 1);\n                        case 'n':\n                            return mthNames[date[`get${utc}Month`]()];\n                        case 'd':\n                            return zeroPad(date[`get${utc}Date`]());\n                        case 'w':\n                            return dayNames[date[`get${utc}Day`]()];\n                        case 'x':\n                            return date[`get${utc}Day`]();\n                        case 'H':\n                            return zeroPad(date[`get${utc}Hours`]());\n                        case 'M':\n                            return zeroPad(date[`get${utc}Minutes`]());\n                        case 'S':\n                            return zeroPad(date[`get${utc}Seconds`]());\n                        default:\n                            return '%' + p;\n                    }\n                });\n            };\n        },\n    };\n\n    const rx = /(\\d+)|(\\D+)/g;\n    const rd = /\\d/;\n    const rz = /^0/;\n    const naturalSort = (as, bs, nulls_first) => {\n        //nulls first\n        if (nulls_first == null) {\n            nulls_first = true;\n        }\n        const nf = nulls_first ? 1 : -1;\n        if ((bs != null) && (as == null)) {\n            return -1 * nf;\n        }\n        if ((as != null) && (bs == null)) {\n            return 1 * nf;\n        }\n\n        //then raw NaNs\n        if ((typeof as === 'number') && isNaN(as)) {\n            return -1;\n        }\n        if ((typeof bs === 'number') && isNaN(bs)) {\n            return 1;\n        }\n\n        //numbers and numbery strings group together\n        const nas = +as;\n        const nbs = +bs;\n        if (nas < nbs) {\n            return -1;\n        }\n        if (nas > nbs) {\n            return 1;\n        }\n\n        //within that, true numbers before numbery strings\n        if ((typeof as === 'number') && (typeof bs !== 'number')) {\n            return -1;\n        }\n        if ((typeof bs === 'number') && (typeof as !== 'number')) {\n            return 1;\n        }\n        if ((typeof as === 'number') && (typeof bs === 'number')) {\n            return 0;\n        }\n\n        // 'Infinity' is a textual number, so less than 'A'\n        if (isNaN(nbs) && !isNaN(nas)) {\n            return -1;\n        }\n        if (isNaN(nas) && !isNaN(nbs)) {\n            return 1;\n        }\n\n        //finally, \"smart\" string sorting per http://stackoverflow.com/a/4373421/112871\n        let a = String(as);\n        let b = String(bs);\n        if (a === b) {\n            return 0;\n        }\n        if (!rd.test(a) || !rd.test(b)) {\n            return (a > b ? 1 : -1);\n        }\n\n        //special treatment for strings containing digits\n        a = a.match(rx); //create digits vs. non-digit chunks and iterate through\n        b = b.match(rx);\n        while (a.length && b.length) {\n            const a1 = a.shift();\n            const b1 = b.shift();\n            if (a1 !== b1) {\n                if (rd.test(a1) && rd.test(b1)) { //both are digit chunks\n                    return a1.replace(rz, '.0') - b1.replace(rz, '.0');\n                } else {\n                    return (a1 > b1 ? 1 : -1);\n                }\n            }\n        }\n        return a.length - b.length;\n    };\n\n    const sortAs = function (order) {\n        const mapping = {};\n        const l_mapping = {}; // sort lowercased keys similarly\n        for (let i in order) {\n            const x = order[i];\n            mapping[x] = i;\n            if (typeof x === 'string') {\n                l_mapping[x.toLowerCase()] = i;\n            }\n        }\n        return function (a, b) {\n            if ((mapping[a] != null) && (mapping[b] != null)) {\n                return mapping[a] - mapping[b];\n            } else if (mapping[a] != null) {\n                return -1;\n            } else if (mapping[b] != null) {\n                return 1;\n            } else if ((l_mapping[a] != null) && (l_mapping[b] != null)) {\n                return l_mapping[a] - l_mapping[b];\n            } else if (l_mapping[a] != null) {\n                return -1;\n            } else if (l_mapping[b] != null) {\n                return 1;\n            } else {\n                return naturalSort(a, b);\n            }\n        };\n    };\n\n    function getSort(sorters, attr) {\n        if (sorters != null) {\n            if ($.isFunction(sorters)) {\n                const sort = sorters(attr);\n                if ($.isFunction(sort)) {\n                    return sort;\n                }\n            } else if (sorters[attr] != null) {\n                return sorters[attr];\n            }\n        }\n        return naturalSort;\n    }\n\n    const filterByLength = (keys, length) => keys.filter(x => x.length === length);\n\n    const subarrays = array => array.map((d, i) => array.slice(0, i + 1));  // [1,2,3] => [[1], [1,2], [1,2,3]]\n\n    function normalizeData(data) {\n        Object.entries(data).forEach(([key, value]) => {\n            if (value instanceof Date) {\n                data[key] = value.toISOString();\n            }\n        })\n\n        return data;\n    }\n\n    /*\n    Data Model class\n    */\n\n    class PivotData {\n        constructor(input, opts) {\n            this.arrSort = this.arrSort.bind(this);\n            this.sortKeys = this.sortKeys.bind(this);\n            this.getColKeys = this.getColKeys.bind(this);\n            this.getRowKeys = this.getRowKeys.bind(this);\n            this.getAggregator = this.getAggregator.bind(this);\n            if (opts == null) {\n                opts = {};\n            }\n            this.input = input;\n            if (!Array.isArray(opts.aggregator)) {\n                opts.aggregator = opts.aggregator != null ? opts.aggregator : aggregatorTemplates.count()();\n                opts.aggregator = [opts.aggregator];\n            }\n            this.aggregator = opts.aggregator != null ? opts.aggregator : [aggregatorTemplates.count()()];\n            this.aggregatorName = opts.aggregatorName != null ? opts.aggregatorName : 'Count';\n            this.colAttrs = opts.cols != null ? opts.cols : [];\n            this.rowAttrs = opts.rows != null ? opts.rows : [];\n            this.valAttrs = opts.vals != null ? opts.vals : [];\n            this.sorters = opts.sorters != null ? opts.sorters : {};\n            this.rowOrder = opts.rowOrder != null ? opts.rowOrder : 'key_a_to_z';\n            this.colOrder = opts.colOrder != null ? opts.colOrder : 'key_a_to_z';\n            this.derivedAttributes = opts.derivedAttributes != null ? opts.derivedAttributes : {};\n            this.filter = opts.filter != null ? opts.filter : (() => true);\n            this.tree = {};\n            this.rowKeys = [];\n            this.colKeys = [];\n            this.rowTotals = {};\n            this.colTotals = {};\n            this.allTotal = this.aggregator.map(agg => agg(this, [], []));\n            this.sorted = false;\n            this.aggregatorsLabel = opts.aggregatorsLabel != null ? opts.aggregatorsLabel : [];\n            this.grouping = opts.grouping != null ? opts.grouping : false;\n            this.rowGroupBefore = (opts.grouping != null ? opts.grouping.rowGroupBefore : undefined) != null ? (opts.grouping != null ? opts.grouping.rowGroupBefore : undefined) : true;\n            this.colGroupBefore = (opts.grouping != null ? opts.grouping.colGroupBefore : undefined) != null ? (opts.grouping != null ? opts.grouping.colGroupBefore : undefined) : false;\n\n            // iterate through input, accumulating data for cells\n            PivotData.forEachRecord(this.input, this.derivedAttributes, record => {\n                if (this.filter(record)) {\n                    return this.processRecord(normalizeData(record));\n                }\n            });\n        }\n\n        //can handle arrays or jQuery selections of tables\n        static forEachRecord(input, derivedAttributes, f) {\n            let addRecord;\n            if ($.isEmptyObject(derivedAttributes)) {\n                addRecord = f;\n            } else {\n                addRecord = function (record) {\n                    for (let k in derivedAttributes) {\n                        const v = derivedAttributes[k];\n                        const left = v(record);\n                        if (left != null) {\n                            record[k] = left;\n                        }\n                    }\n                    return f(record);\n                };\n            }\n\n            //if it's a function, have its calls us back\n            if ($.isFunction(input)) {\n                return input(addRecord);\n            } else if ($.isArray(input)) {\n                if ($.isArray(input[0])) { //array of arrays\n                    return (() => {\n                        const result = [];\n                        for (let i of Object.keys(input || {})) {\n                            const compactRecord = input[i];\n                            if (i > 0) {\n                                const record = {};\n                                for (let j of Object.keys(input[0] || {})) {\n                                    const k = input[0][j];\n                                    record[k] = compactRecord[j];\n                                }\n                                result.push(addRecord(record));\n                            }\n                        }\n                        return result;\n                    })();\n                } else { //array of objects\n                    return (() => {\n                        const result1 = [];\n                        for (let record of input) {\n                            result1.push(addRecord(record));\n                        }\n                        return result1;\n                    })();\n                }\n            } else if (input instanceof $) {\n                const tblCols = [];\n                $('thead > tr > th', input).each(function (i) {\n                    return tblCols.push($(this).text());\n                });\n                return $('tbody > tr', input).each(function (i) {\n                    const record = {};\n                    $('td', this).each(function (j) {\n                        return record[tblCols[j]] = $(this).text();\n                    });\n                    return addRecord(record);\n                });\n            } else {\n                throw new Error('unknown input format');\n            }\n        }\n\n        forEachMatchingRecord(criteria, callback) {\n            return PivotData.forEachRecord(this.input, this.derivedAttributes, record => {\n                if (!this.filter(record)) {\n                    return;\n                }\n                for (let k in criteria) {\n                    const v = criteria[k];\n                    if (v !== (record[k] != null ? record[k] : 'null')) {\n                        return;\n                    }\n                }\n                return callback(record);\n            });\n        }\n\n        arrSort(attrs, nulls_first) {\n\n            const sortersArr = [];\n            for (const a of attrs) {\n                sortersArr.push(getSort(this.sorters, a));\n            }\n\n            return function (a, b) {\n                for (let i of Object.keys(sortersArr || {})) {\n                    const sorter = sortersArr[i];\n                    const comparison = sorter(a[i], b[i], nulls_first);\n                    if (comparison !== 0) {\n                        return comparison;\n                    }\n                }\n                return 0;\n            };\n        }\n\n        sortKeys() {\n            if (!this.sorted) {\n                this.sorted = true;\n                const v = (r, c) => this.getAggregator(r, c).value();\n                switch (this.rowOrder) {\n                    case 'value_a_to_z':\n                        this.rowKeys.sort((a, b) => naturalSort(v(a, []), v(b, [])));\n                        break;\n                    case 'value_z_to_a':\n                        this.rowKeys.sort((a, b) => -naturalSort(v(a, []), v(b, [])));\n                        break;\n                    default:\n                        this.rowKeys.sort(this.arrSort(this.rowAttrs, this.rowGroupBefore));\n                }\n                switch (this.colOrder) {\n                    case 'value_a_to_z':\n                        return this.colKeys.sort((a, b) => naturalSort(v([], a), v([], b)));\n                    case 'value_z_to_a':\n                        return this.colKeys.sort((a, b) => -naturalSort(v([], a), v([], b)));\n                    default:\n                        return this.colKeys.sort(this.arrSort(this.colAttrs, this.colGroupBefore));\n                }\n            }\n        }\n\n        getColKeys(all_keys) {\n            if (all_keys == null) {\n                all_keys = false;\n            }\n            this.sortKeys();\n            if (all_keys) {\n                return this.colKeys;\n            } else {\n                return filterByLength(this.colKeys, this.colAttrs.length);\n            }\n        }\n\n        getRowKeys(all_keys) {\n            if (all_keys == null) {\n                all_keys = false;\n            }\n            this.sortKeys();\n            if (all_keys) {\n                return this.rowKeys;\n            } else {\n                return filterByLength(this.rowKeys, this.rowAttrs.length);\n            }\n        }\n\n        processRecord(record) { //this code is called in a tight loop\n            let x;\n            let colKeys = [];\n            let rowKeys = [];\n            for (x of this.colAttrs) {\n                colKeys.push(record[x] != null ? record[x] : 'null');\n            }\n            for (x of this.rowAttrs) {\n                rowKeys.push(record[x] != null ? record[x] : 'null');\n            }\n            colKeys = this.grouping && colKeys.length ? subarrays(colKeys) : [colKeys];\n            rowKeys = this.grouping && rowKeys.length ? subarrays(rowKeys) : [rowKeys];\n\n            this.aggregator.forEach((agg, id) => {\n                return this.allTotal[id].push(record);\n            });\n\n            const result = [];\n            for (let j in rowKeys) {\n                const rowKey = rowKeys[j];\n                const flatRowKey = rowKey.join(String.fromCharCode(0));\n\n                const result1 = [];\n                for (let i in colKeys) {\n                    const colKey = colKeys[i];\n                    const flatColKey = colKey.join(String.fromCharCode(0));\n\n                    if (rowKey.length !== 0) {\n                        if (!this.rowTotals[flatRowKey]) {\n                            this.rowKeys.push(rowKey);\n                            this.rowTotals[flatRowKey] = this.aggregator.map(agg => agg(this, rowKey, []));\n                        }\n                        this.rowTotals[flatRowKey].forEach((agg, id) => {\n                            if (!this.grouping || (colKey.length === 1)) {\n                                return agg.push(record);\n                            }\n                        });\n                    }\n\n                    if (colKey.length !== 0) {\n                        if (!this.colTotals[flatColKey]) {\n                            this.colKeys.push(colKey);\n                            this.colTotals[flatColKey] = this.aggregator.map(agg => agg(this, [], colKey));\n                        }\n                        this.colTotals[flatColKey].forEach((agg, id) => {\n                            if (!this.grouping || (rowKey.length === 1)) {\n                                return agg.push(record);\n                            }\n                        });\n                    }\n\n                    if ((colKey.length !== 0) && (rowKey.length !== 0)) {\n                        if (!this.tree[flatRowKey]) {\n                            this.tree[flatRowKey] = {};\n                        }\n                        if (!this.tree[flatRowKey][flatColKey]) {\n                            this.tree[flatRowKey][flatColKey] = this.aggregator.map(agg => agg(this, rowKey, colKey));\n                        }\n                        result1.push(this.tree[flatRowKey][flatColKey].forEach((agg, id) => agg.push(record)));\n                    } else {\n                        result1.push(undefined);\n                    }\n                }\n                result.push(result1);\n            }\n            return result;\n        }\n\n        getAggregator(rowKey, colKey, id) {\n            let agg;\n            if (id == null) {\n                id = 0;\n            }\n            const flatRowKey = rowKey.join(String.fromCharCode(0));\n            const flatColKey = colKey.join(String.fromCharCode(0));\n            if ((rowKey.length === 0) && (colKey.length === 0)) {\n                agg = this.allTotal[id];\n            } else if (rowKey.length === 0) {\n                agg = this.colTotals[flatColKey] && this.colTotals[flatColKey][id];\n            } else if (colKey.length === 0) {\n                agg = this.rowTotals[flatRowKey] && this.rowTotals[flatRowKey][id];\n            } else {\n                agg = this.tree[flatRowKey][flatColKey] && this.tree[flatRowKey][flatColKey][id];\n            }\n            return agg != null ? agg : {\n                value() {\n                    return null;\n                }, format() {\n                    return '';\n                },\n            };\n        }\n    }\n\n    const renameAggregators = (aggregators) => aggregators.map((agg, id) =>\n        (agg.displayName = String.fromCharCode(97 + id).toUpperCase()));\n\n    //expose these to the outside world\n    $.pivotUtilities = {\n        aggregatorTemplates, aggregators: defaultAggregators, renderers, cellRenderers, derivers, locales,\n        naturalSort, numberFormat, sortAs, PivotData,\n    };\n\n    /*\n    Default Renderer for hierarchical table layout\n    */\n\n    function pivotTableRenderer(pivotData, opts) {\n\n        let agg, aggregator, colKey, getClickHandler, i, id, j, td, th, totalAggregator, tr, val, x;\n        const defaults = {\n            table: {\n                clickCallback: null,\n                rowTotals: true,\n                colTotals: true,\n            },\n            localeStrings: {\n                totals: 'Totals',\n            },\n\n            typeCellRenderer: cellRenderers.text,\n            headCellRenderer: cellRenderers.text,\n            dataCellRenderer: cellRenderers.text,\n        };\n\n        opts = $.extend(true, {}, defaults, opts);\n\n        const {\n            colAttrs,\n        } = pivotData;\n        const {\n            rowAttrs,\n        } = pivotData;\n        const rowKeys = pivotData.getRowKeys(true);\n        const colKeys = pivotData.getColKeys(true);\n\n        if (opts.table.clickCallback) {\n            getClickHandler = function (value, rowValues, colValues) {\n                let attr, i;\n                const filters = {};\n                for (i of Object.keys(colAttrs || {})) {\n                    attr = colAttrs[i];\n                    if (colValues[i] != null) {\n                        filters[attr] = colValues[i];\n                    }\n                }\n                for (i of Object.keys(rowAttrs || {})) {\n                    attr = rowAttrs[i];\n                    if (rowValues[i] != null) {\n                        filters[attr] = rowValues[i];\n                    }\n                }\n                return e => opts.table.clickCallback(e, value, filters, pivotData);\n            };\n        }\n\n        const compactLayout = (opts.table.compactLayout != null ? opts.table.compactLayout : true) && pivotData.grouping;\n        const rowExpandHandler = compactLayout ? expandRowCol : pivotData.rowGroupBefore ? expandWithSpan : expandRowsGroupAfter;\n\n        const rowsExpandHandler = getExpandHandler(rowKeys, true, rowExpandHandler.bind(pivotData));\n        const colsExpandHandler = getExpandHandler(colKeys, false, expandWithSpan.bind(pivotData));\n\n        //now actually build the outpu\n        const result = document.createElement('table');\n        result.className = 'pvtTable';\n\n        //helper function for setting row/col-span in pivotTableRenderer\n        const spanSize = function (arr, i, j) {\n            let x;\n            if (i !== 0) {\n                let asc, end;\n                let noDraw = true;\n                for (x = 0, end = j, asc = 0 <= end; asc ? x <= end : x >= end; asc ? x++ : x--) {\n                    if (arr[i - 1][x] !== arr[i][x]) {\n                        noDraw = false;\n                    }\n                }\n                if (noDraw) {\n                    return -1; //do not draw cell\n                }\n            }\n            let len = 0;\n            while ((i + len) < arr.length) {\n                let asc1, end1;\n                let stop = false;\n                for (x = 0, end1 = j, asc1 = 0 <= end1; asc1 ? x <= end1 : x >= end1; asc1 ? x++ : x--) {\n                    if (arr[i][x] !== arr[i + len][x]) {\n                        stop = true;\n                    }\n                }\n                if (stop) {\n                    break;\n                }\n                len++;\n            }\n            return len;\n        };\n\n        //the first few rows are for col headers\n        const thead = document.createElement('thead');\n        for (j of Object.keys(colAttrs || {})) {\n            const c = colAttrs[j];\n            tr = document.createElement('tr');\n            if ((parseInt(j) === 0) && (rowAttrs.length !== 0)) {\n                th = document.createElement('th');\n                th.setAttribute('colspan', rowAttrs.length);\n                th.setAttribute('rowspan', colAttrs.length);\n                tr.appendChild(th);\n            }\n            th = document.createElement('th');\n            th.className = 'pvtAxisLabel';\n            th.appendChild(opts.typeCellRenderer(c))\n            if (pivotData.grouping && (j < (colAttrs.length - 1))) {\n                th.onclick = getExpandAllHandler(pivotData, +j, false);\n                th.className += ` open level${j}`;\n            }\n            tr.appendChild(th);\n            for (i of Object.keys(colKeys || {})) {\n                colKey = colKeys[i];\n                x = spanSize(colKeys, parseInt(i), parseInt(j));\n                if (x !== -1) {\n                    th = document.createElement('th');\n                    th.className = 'pvtColLabel';\n                    th.className += ` col${pivotData.colGroupBefore ? +i : (+i + x) - 1}`;\n                    th.appendChild(opts.headCellRenderer(colKey[j], c))\n                    th.setAttribute('colspan', x * Math.max(1, pivotData.aggregator.length));\n                    if ((parseInt(j) === (colAttrs.length - 1)) && (rowAttrs.length !== 0)) {\n                        th.setAttribute('rowspan', 2);\n                    }\n                    if (pivotData.grouping && (j < (colAttrs.length - 1)) && colKey[j]) {\n                        th.className += ' pvtSubtotal open';\n                        th.setAttribute('colspan', x * Math.max(1, pivotData.aggregator.length));\n                        th.onclick = colsExpandHandler;\n                    }\n                    tr.appendChild(th);\n                }\n            }\n            if ((parseInt(j) === 0) && opts.table.rowTotals) {\n                th = document.createElement('th');\n                th.className = 'pvtTotalLabel pvtRowTotalLabel';\n                th.innerHTML = opts.localeStrings.totals;\n                th.setAttribute('colspan', Math.max(1, pivotData.aggregator.length));\n                th.setAttribute('rowspan', colAttrs.length + (rowAttrs.length === 0 ? 0 : 1));\n                tr.appendChild(th);\n            }\n            thead.appendChild(tr);\n        }\n\n        //then a row for row header headers\n        if (rowAttrs.length !== 0) {\n            tr = document.createElement('tr');\n            for (i of Object.keys(rowAttrs || {})) {\n                const r = rowAttrs[i];\n                th = document.createElement('th');\n                th.className = 'pvtAxisLabel';\n                th.appendChild(opts.typeCellRenderer(r))\n                if (pivotData.grouping && (i < (rowAttrs.length - 1))) {\n                    th.className += ` open level${i}`;\n                    th.onclick = getExpandAllHandler(pivotData, +i, true);\n                }\n                tr.appendChild(th);\n            }\n            th = document.createElement('th');\n            if (colAttrs.length === 0) {\n                th.className = 'pvtTotalLabel pvtRowTotalLabel';\n                th.innerHTML = opts.localeStrings.totals;\n                th.setAttribute('colspan', pivotData.aggregator.length);\n            }\n            tr.appendChild(th);\n            thead.appendChild(tr);\n        }\n        result.appendChild(thead);\n\n        //now the actual data rows, with their row headers and totals\n        const tbody = document.createElement('tbody');\n\n        if (pivotData.aggregatorsLabel && (pivotData.aggregatorsLabel.length > 1)) {\n            let lbl;\n            tr = document.createElement('tr');\n            th = document.createElement('th');\n            const colspan = rowAttrs.length + (colAttrs.length === 0 ? 0 : 1);\n            th.setAttribute('colspan', colspan);\n            tr.appendChild(th);\n\n            for (j of Object.keys(colKeys || {})) { //this is a tight loop\n                colKey = colKeys[j];\n                for (lbl of pivotData.aggregatorsLabel) {\n                    th = document.createElement('th');\n                    th.className = `pvtAggregatorLabel col${j}`;\n                    th.textContent = lbl;\n                    tr.appendChild(th);\n                }\n            }\n\n            for (lbl of pivotData.aggregatorsLabel) {\n                th = document.createElement('th');\n                th.className = 'pvtAggregatorLabel';\n                th.textContent = lbl;\n                tr.appendChild(th);\n            }\n\n            tbody.appendChild(tr);\n        }\n\n\n        for (i of Object.keys(rowKeys || {})) {\n            const rowKey = rowKeys[i];\n            tr = document.createElement('tr');\n            const rowGap = rowAttrs.length - rowKey.length;\n            tr.className = rowGap ? `pvtSubtotal level${rowKey.length}` : 'pvtData';\n            for (j of Object.keys(rowKey || {})) {\n                const txt = rowKey[j];\n                if (compactLayout && (j < (rowKey.length - 1))) {\n                    continue;\n                }\n                x = compactLayout ? 1 : spanSize(rowKeys, parseInt(i), parseInt(j));\n                if (x !== -1) {\n                    th = document.createElement('th');\n                    th.className = 'pvtRowLabel';\n                    th.className += ` row${pivotData.rowGroupBefore ? +i : (+i + x) - 1}`;\n                    th.appendChild(opts.headCellRenderer(txt, rowAttrs[j]))\n                    th.setAttribute('rowspan', x);\n                    if (compactLayout) {\n                        th.colSpan = rowAttrs.length;\n                        th.style.paddingLeft = 5 + (parseInt(j) * 20) + 'px';\n                    }\n                    if (pivotData.grouping && (j < (rowAttrs.length - 1))) {\n                        th.className += ' open';\n                        th.onclick = rowsExpandHandler;\n                    }\n                    tr.appendChild(th);\n                }\n            }\n\n            if (!compactLayout && rowGap) {\n                th = document.createElement('th');\n                th.colSpan = rowGap;\n                th.textContent = `Total (${rowKey[j]})`;\n                tr.appendChild(th);\n            }\n\n            if (colAttrs.length) {\n                th.colSpan++;\n            }\n\n            for (j of Object.keys(colKeys || {})) { //this is a tight loop\n                colKey = colKeys[j];\n                for (id = 0; id < pivotData.aggregator.length; id++) {\n                    agg = pivotData.aggregator[id];\n                    aggregator = pivotData.getAggregator(rowKey, colKey, id);\n                    val = aggregator.value(id);\n                    td = document.createElement('td');\n                    if (!rowGap) {\n                        td.className = 'pvtVal ';\n                    }\n                    td.className += `row${i} col${j}`;\n                    if (colAttrs.length - colKey.length) {\n                        td.className = `pvtSubtotal level${colKey.length} row${i} col${j}`;\n                    }\n                    td.appendChild(opts.dataCellRenderer(aggregator.format(val), aggregator?.attr, rowKey, colKey))\n                    td.setAttribute('data-value', val);\n                    if (getClickHandler != null) {\n                        td.onclick = getClickHandler(val, rowKey, colKey);\n                    }\n                    tr.appendChild(td);\n                }\n            }\n\n            if (opts.table.rowTotals || (colAttrs.length === 0)) {\n                for (id = 0; id < pivotData.aggregator.length; id++) {\n                    agg = pivotData.aggregator[id];\n                    totalAggregator = pivotData.getAggregator(rowKey, [], id);\n                    val = totalAggregator.value(id);\n                    td = document.createElement('td');\n                    td.className = 'pvtTotal rowTotal';\n                    td.append(opts.dataCellRenderer(totalAggregator.format(val), totalAggregator?.attr, rowKey, []))\n                    td.setAttribute('data-value', val);\n                    if (getClickHandler != null) {\n                        td.onclick = getClickHandler(val, rowKey, []);\n                    }\n                    td.setAttribute('data-for', 'row' + i);\n                    tr.appendChild(td);\n                }\n            }\n            tbody.appendChild(tr);\n        }\n\n        //finally, the row for col totals, and a grand total\n        if (opts.table.colTotals || (rowAttrs.length === 0)) {\n            tr = document.createElement('tr');\n            if (opts.table.colTotals || (rowAttrs.length === 0)) {\n                th = document.createElement('th');\n                th.className = 'pvtTotalLabel pvtColTotalLabel';\n                th.innerHTML = opts.localeStrings.totals;\n                th.setAttribute('colspan', rowAttrs.length + (colAttrs.length === 0 ? 0 : 1));\n                tr.appendChild(th);\n            }\n            for (j of Object.keys(colKeys || {})) {\n                colKey = colKeys[j];\n                for (id = 0; id < pivotData.aggregator.length; id++) {\n                    agg = pivotData.aggregator[id];\n                    totalAggregator = pivotData.getAggregator([], colKey, id);\n                    val = totalAggregator.value(id);\n                    td = document.createElement('td');\n                    td.className = `pvtTotal colTotal col${j}`;\n                    if (colKey.length !== colAttrs.length) {\n                        td.className += ` pvtSubtotal level${colKey.length}`;\n                    }\n                    td.append(opts.dataCellRenderer(totalAggregator.format(val), totalAggregator?.attr, [], colKey))\n                    td.setAttribute('data-value', val);\n                    if (getClickHandler != null) {\n                        td.onclick = getClickHandler(val, [], colKey);\n                    }\n                    td.setAttribute('data-for', 'col' + j);\n                    tr.appendChild(td);\n                }\n            }\n            if (opts.table.rowTotals || (colAttrs.length === 0)) {\n                for (id = 0; id < pivotData.aggregator.length; id++) {\n                    agg = pivotData.aggregator[id];\n                    totalAggregator = pivotData.getAggregator([], [], id);\n                    val = totalAggregator.value(id);\n                    td = document.createElement('td');\n                    td.className = 'pvtGrandTotal';\n                    td.append(opts.dataCellRenderer(totalAggregator.format(val), totalAggregator?.attr, [], []))\n                    td.setAttribute('data-value', val);\n                    if (getClickHandler != null) {\n                        td.onclick = getClickHandler(val, [], []);\n                    }\n                    tr.appendChild(td);\n                }\n            }\n            tbody.appendChild(tr);\n        }\n        result.appendChild(tbody);\n\n        //squirrel this away for later\n        result.setAttribute('data-numrows', rowKeys.length);\n        result.setAttribute('data-numcols', colKeys.length);\n\n        return result;\n    }\n\n    /*\n    Pivot Table core: create PivotData object and call Renderer on it\n    */\n\n    $.fn.pivot = function (input, inputOpts, locale) {\n        let e;\n        if (locale == null) {\n            locale = 'en';\n        }\n        if ((locales[locale] == null)) {\n            locale = 'en';\n        }\n        localeGlobal = locale;\n        inputOpts = inputOpts || {};\n        const defaults = {\n            cols: [], rows: [], vals: [],\n            rowOrder: 'key_a_to_z', colOrder: 'key_a_to_z',\n            dataClass: PivotData,\n            filter() {\n                return true;\n            },\n            aggregator: aggregatorTemplates.count()(),\n            aggregatorName: 'Count',\n            sorters: {},\n            derivedAttributes: {},\n            renderer: pivotTableRenderer,\n        };\n\n        const localeStrings = $.extend(true, {}, locales.en.localeStrings, locales[locale].localeStrings);\n        const localeDefaults = {\n            rendererOptions: { localeStrings },\n            localeStrings,\n        };\n\n        const opts = $.extend(true, {}, localeDefaults, $.extend({}, defaults, inputOpts));\n\n        let result;\n        inputOpts.pivotData = null;\n        try {\n            const pivotData = new opts.dataClass(input, opts);\n            try {\n                result = opts.renderer(pivotData, opts.rendererOptions);\n                inputOpts.pivotData = pivotData;\n            } catch (error) {\n                e = error;\n                if (typeof console !== 'undefined' && console !== null) {\n                    console.error(e.stack);\n                }\n                result = $('<span>').html(opts.localeStrings.renderError);\n            }\n        } catch (error1) {\n            e = error1;\n            if (typeof console !== 'undefined' && console !== null) {\n                console.error(e.stack);\n            }\n            result = $('<span>').html(opts.localeStrings.computeError);\n        }\n\n        const x = this[0];\n        while (x.hasChildNodes()) {\n            x.removeChild(x.lastChild);\n        }\n        return this.append(result);\n    };\n\n    /*\n    Pivot Table UI: calls the Pivot Table core above with options set by user\n    */\n\n    $.fn.pivotUI = function (input, inputOpts, overwrite, locale) {\n        let opts;\n        let a, c;\n        if (overwrite == null) {\n            overwrite = false;\n        }\n        if (locale == null) {\n            locale = 'fr';\n        }\n        if ((locales[locale] == null)) {\n            locale = 'en';\n        }\n\n        const defaults = {\n            derivedAttributes: {},\n            aggregators: defaultAggregators,\n            renderers: locales[locale].renderers,\n            hiddenAttributes: [],\n            hiddenFromAggregators: [],\n            hiddenFromDragDrop: [],\n            menuLimit: 500,\n            cols: [], rows: [], vals: [],\n            rowOrder: 'key_a_to_z', colOrder: 'key_a_to_z',\n            dataClass: PivotData,\n            exclusions: {},\n            inclusions: {},\n            unusedAttrsVertical: 85,\n            autoSortUnusedAttrs: false,\n            onRefresh: null,\n            showUI: true,\n            filter() {\n                return true;\n            },\n            sorters: {},\n            multiple: true,\n            parametersActive: false,\n        };\n\n        let itemsId = 0;\n        let aggregators = [];\n        const localeStrings = $.extend(true, {}, locales.en.localeStrings, locales[locale].localeStrings);\n        const localeDefaults = {\n            rendererOptions: { localeStrings },\n            localeStrings,\n        };\n\n        const existingOpts = this.data('pivotUIOptions');\n        if ((existingOpts == null) || overwrite) {\n            opts = $.extend(true, {}, localeDefaults, $.extend({}, defaults, inputOpts));\n        } else {\n            opts = existingOpts;\n        }\n\n        if (!inputOpts?.aggregators && locales[locale].formatters) {\n            opts.aggregators = makeAggregators(\n                locales[locale].formatters.format,\n                locales[locale].formatters.formatInt,\n                locales[locale].formatters.formatPct);\n        }\n\n        try {\n            // do a first pass on the data to cache a materialized copy of any\n            // function-valued inputs and to compute dimension cardinalities\n            let attr, i, unusedAttrsVerticalAutoCutoff, x;\n            const attrValues = {};\n            const materializedInput = [];\n            let recordsProcessed = 0;\n            PivotData.forEachRecord(input, opts.derivedAttributes, function (record) {\n                let attr;\n                if (!opts.filter(record)) {\n                    return;\n                }\n                materializedInput.push(record);\n                for (attr of Object.keys(record || {})) {\n                    if ((attrValues[attr] == null)) {\n                        attrValues[attr] = {};\n                        if (recordsProcessed > 0) {\n                            attrValues[attr]['null'] = recordsProcessed;\n                        }\n                    }\n                }\n                for (attr in attrValues) {\n                    const value = record[attr] != null ? record[attr] : 'null';\n                    if (attrValues[attr][value] == null) {\n                        attrValues[attr][value] = 0;\n                    }\n                    attrValues[attr][value]++;\n                }\n                return recordsProcessed++;\n            });\n\n            const uiContainer = $('<div>').addClass('pvtUi');\n\n            const uiMenu = $('<div>').addClass('pvtUiMenu');\n            const uiParameters = $('<div>').addClass('pvtUiParameters');\n            const uiPivotContainer = $('<div>').addClass('pvtUiContainer');\n\n            const uiButtonColumns = $('<div>')\n                .addClass('pvtUiVerticalButton')\n                .addClass('pvtUiButtonColumns')\n                .addClass('active')\n                .text(localeStrings.colsLabel)\n                .on('click', function () {\n                    opts.parametersActive = !opts.parametersActive;\n                    if (opts.parametersActive) {\n                        uiButtonColumns.addClass('active');\n                        return uiParameters.show();\n                    } else {\n                        uiButtonColumns.removeClass('active');\n                        return uiParameters.hide();\n                    }\n                })\n                .appendTo(uiMenu);\n\n            const uiButtonGroups = $('<div>')\n                .addClass('pvtUiVerticalButton')\n                .addClass('pvtUiButtonGroups')\n                .text(localeStrings.groupsLabel)\n                .on('click', function () {\n                    if (opts.grouping) {\n                        uiButtonGroups.removeClass('active');\n                        opts.grouping = false;\n                    } else {\n                        uiButtonGroups.addClass('active');\n                        opts.grouping = {\n                            colGroupBefore: false,\n                        };\n                    }\n                    return refresh();\n                })\n                .appendTo(uiMenu);\n\n            uiContainer\n                .append(uiMenu)\n                .append(uiParameters)\n                .append(uiPivotContainer);\n\n            //# Render type\n            $('<div>')\n                .addClass('pvtParameterLabel')\n                .appendTo(uiParameters)\n                .text(localeStrings.rendererLabel);\n            let pvtRenderType = $('<div>')\n                .addClass('pvtRendererType')\n                .addClass('pvtParameter')\n                .appendTo(uiParameters);\n            const renderer = $('<select>')\n                .addClass('pvtRenderer')\n                .appendTo(pvtRenderType)\n                .bind('change', () => refresh()); //capture reference\n            for (x of Object.keys(opts.renderers || {})) {\n                $('<option>').val(x).html(x).appendTo(renderer);\n            }\n\n\n            //axis list, including the double click menu\n            const unused = $('<div>').addClass('pvtAxisContainer pvtUnused');\n            const shownAttributes = [];\n            for (a in attrValues) {\n                if (!opts.hiddenAttributes.includes(a)) {\n                    shownAttributes.push(a);\n                }\n            }\n            const shownInAggregators = [];\n            for (c of shownAttributes) {\n                if (!opts.hiddenFromAggregators.includes(c)) {\n                    shownInAggregators.push(c);\n                }\n            }\n            const shownInDragDrop = [];\n            for (c of shownAttributes) {\n                if (!opts.hiddenFromDragDrop.includes(c)) {\n                    shownInDragDrop.push(c);\n                }\n            }\n\n            let unusedAttrsVerticalAutoOverride = false;\n            if (opts.unusedAttrsVertical === 'auto') {\n                unusedAttrsVerticalAutoCutoff = 120; // legacy support\n            } else {\n                unusedAttrsVerticalAutoCutoff = parseInt(opts.unusedAttrsVertical);\n            }\n\n            if (!isNaN(unusedAttrsVerticalAutoCutoff)) {\n                let attrLength = 0;\n                for (a of shownInDragDrop) {\n                    attrLength += a.length;\n                }\n                unusedAttrsVerticalAutoOverride = attrLength > unusedAttrsVerticalAutoCutoff;\n            }\n\n            for (i of Object.keys(shownInDragDrop || {})) {\n                attr = shownInDragDrop[i];\n                const values = [];\n                for (const v in attrValues[attr]) {\n                    values.push(v);\n                }\n                let hasExcludedItem = false;\n                const valueList = $('<div>').addClass('pvtFilterBox').hide();\n\n                valueList.append($('<h4>').append(\n                        $('<span>').text(attr),\n                        $('<span>').addClass('count').text(`(${values.length})`),\n                    ),\n                );\n                if (values.length > opts.menuLimit) {\n                    valueList.append($('<p>').html(opts.localeStrings.tooMany));\n                } else {\n                    if (values.length > 5) {\n                        const controls = $('<p>').appendTo(valueList);\n                        const sorter = getSort(opts.sorters, attr);\n                        const placeholder = opts.localeStrings.filterResults;\n                        $('<input>', { type: 'text' }).appendTo(controls)\n                            .attr({ placeholder, class: 'pvtSearch' })\n                            .bind('keyup', function () {\n                                const filter = $(this).val().toLowerCase().trim();\n                                const accept_gen = (prefix, accepted) => (function (v) {\n                                    const real_filter = filter.substring(prefix.length).trim();\n                                    if (real_filter.length === 0) {\n                                        return true;\n                                    }\n                                    let needle = Math.sign(sorter(v.toLowerCase(), real_filter));\n                                    return accepted.includes(needle);\n                                });\n                                const accept =\n                                    filter.indexOf('>=') === 0 ? accept_gen('>=', [1, 0])\n                                        : filter.indexOf('<=') === 0 ? accept_gen('<=', [-1, 0])\n                                            : filter.indexOf('>') === 0 ? accept_gen('>', [1])\n                                                : filter.indexOf('<') === 0 ? accept_gen('<', [-1])\n                                                    : filter.indexOf('~') === 0 ? function (v) {\n                                                            if (filter.substring(1).trim().length === 0) {\n                                                                return true;\n                                                            }\n                                                            return v.toLowerCase().match(filter.substring(1));\n                                                        }\n                                                        : v => v.toLowerCase().indexOf(filter) !== -1;\n\n                                return valueList.find('.pvtCheckContainer p label span.value').each(function () {\n                                    if (accept($(this).text())) {\n                                        return $(this).parent().parent().show();\n                                    } else {\n                                        return $(this).parent().parent().hide();\n                                    }\n                                });\n                            });\n                        controls.append($('<br>'));\n                        $('<button>', { type: 'button' }).appendTo(controls)\n                            .html(opts.localeStrings.selectAll)\n                            .bind('click', function () {\n                                valueList.find('input:visible:not(:checked)')\n                                    .prop('checked', true).toggleClass('changed');\n                                return false;\n                            });\n                        $('<button>', { type: 'button' }).appendTo(controls)\n                            .html(opts.localeStrings.selectNone)\n                            .bind('click', function () {\n                                valueList.find('input:visible:checked')\n                                    .prop('checked', false).toggleClass('changed');\n                                return false;\n                            });\n                    }\n\n                    const checkContainer = $('<div>').addClass('pvtCheckContainer').appendTo(valueList);\n\n                    for (let value of values.sort(getSort(opts.sorters, attr))) {\n                        const valueCount = attrValues[attr][value];\n                        const filterItem = $('<label>');\n                        let filterItemExcluded = false;\n                        if (opts.inclusions[attr]) {\n                            filterItemExcluded = (!opts.inclusions[attr].includes(value));\n                        } else if (opts.exclusions[attr]) {\n                            filterItemExcluded = (opts.exclusions[attr].includes(value));\n                        }\n                        if (!hasExcludedItem) {\n                            hasExcludedItem = filterItemExcluded;\n                        }\n                        $('<input>')\n                            .attr('type', 'checkbox').addClass('pvtFilter')\n                            .attr('checked', !filterItemExcluded).data('filter', [attr, value])\n                            .appendTo(filterItem)\n                            .bind('change', function () {\n                                return $(this).toggleClass('changed');\n                            });\n                        filterItem.append($('<span>').addClass('value').text(value));\n                        filterItem.append($('<span>').addClass('count').text('(' + valueCount + ')'));\n                        checkContainer.append($('<p>').append(filterItem));\n                    }\n                }\n\n                const closeFilterBox = function () {\n                    if (valueList.find('[type=\\'checkbox\\']').length >\n                        valueList.find('[type=\\'checkbox\\']:checked').length) {\n                        attrElem.addClass('pvtFilteredAttribute');\n                    } else {\n                        attrElem.removeClass('pvtFilteredAttribute');\n                    }\n\n                    valueList.find('.pvtSearch').val('');\n                    valueList.find('.pvtCheckContainer p').show();\n                    return valueList.hide();\n                };\n\n\n                const finalButtons = $('<p>').appendTo(valueList);\n\n                if (values.length <= opts.menuLimit) {\n                    $('<button>', { type: 'button' }).text(opts.localeStrings.apply)\n                        .appendTo(finalButtons).bind('click', function () {\n                        if (valueList.find('.changed').removeClass('changed').length) {\n                            refresh();\n                        }\n                        return closeFilterBox();\n                    });\n                }\n\n                $('<button>', { type: 'button' }).text(opts.localeStrings.cancel)\n                    .appendTo(finalButtons).bind('click', function () {\n                    valueList.find('.changed:checked')\n                        .removeClass('changed').prop('checked', false);\n                    valueList.find('.changed:not(:checked)')\n                        .removeClass('changed').prop('checked', true);\n                    return closeFilterBox();\n                });\n\n                const triangleLink = $('<span>').addClass('pvtTriangle')\n                    .html(' &#x25BE;').bind('click', function (e) {\n                        const { left, top } = $(e.currentTarget).position();\n                        return valueList.css({ left: left + 10, top: top + 10 }).show();\n                    });\n\n                const attrElem = $('<li>').addClass(`axis_${i}`)\n                    .append($('<span>').addClass('pvtAttr').text(attr).data('attrName', attr).append(triangleLink));\n\n                if (hasExcludedItem) {\n                    attrElem.addClass('pvtFilteredAttribute');\n                }\n                unused.append(attrElem).append(valueList);\n            }\n\n            $('<div>')\n                .addClass('pvtParameterLabel')\n                .appendTo(uiParameters)\n                .text(localeStrings.valuesLabel);\n\n            //aggregator menu and value area\n            const divAggregator = $('<div>')\n                .addClass('pvtAggregatorChoose')\n                .addClass('pvtParameter')\n                .appendTo(uiParameters);\n\n            const aggregator = $('<select>')\n                .addClass('pvtAggregator')\n                .appendTo(divAggregator)\n                .bind('change', () => {\n                    if (!opts.multiple) {\n                        this.find('.pvtVals .pvtAttrDropdown').each(function () {\n                            return this.remove();\n                        });\n                        aggregators = [{ id: 1, value: aggregator.val() }];\n                        return refresh();\n                    }\n                }); //capture reference\n\n            for (x of Object.keys(opts.aggregators || {})) {\n                aggregator.append($('<option>').val(x).html(locales[locale].localeStrings[x] || locales['en'].localeStrings[x] || x));\n            }\n\n            if (opts.multiple) {\n                $('<a>', { role: 'button' })\n                    .addClass('pvtAddAggregator')\n                    .addClass('pvtToolButton')\n                    .appendTo(divAggregator)\n                    .html('+')\n                    .bind('click', function () {\n                        aggregators.push({ id: ++itemsId, value: aggregator.val() });\n                        renameAggregators(aggregators);\n                        return refresh();\n                    });\n            }\n\n            const ordering = {\n                key_a_to_z: { rowSymbol: '&varr;', colSymbol: '&harr;', next: 'value_a_to_z' },\n                value_a_to_z: { rowSymbol: '&darr;', colSymbol: '&rarr;', next: 'value_z_to_a' },\n                value_z_to_a: { rowSymbol: '&uarr;', colSymbol: '&larr;', next: 'key_a_to_z' },\n            };\n\n            const rowOrderArrow = $('<a>', { role: 'button' })\n                .addClass('pvtRowOrder')\n                .addClass('pvtToolButton')\n                .appendTo(divAggregator)\n                .data('order', opts.rowOrder).html(ordering[opts.rowOrder].rowSymbol)\n                .bind('click', function () {\n                    $(this).data('order', ordering[$(this).data('order')].next);\n                    $(this).html(ordering[$(this).data('order')].rowSymbol);\n                    return refresh();\n                });\n\n            const colOrderArrow = $('<a>', { role: 'button' })\n                .addClass('pvtColOrder')\n                .addClass('pvtToolButton')\n                .appendTo(divAggregator)\n                .data('order', opts.colOrder).html(ordering[opts.colOrder].colSymbol)\n                .bind('click', function () {\n                    $(this).data('order', ordering[$(this).data('order')].next);\n                    $(this).html(ordering[$(this).data('order')].colSymbol);\n                    return refresh();\n                });\n\n            const pvVals = $('<div>').addClass('pvtVals')\n                .addClass('pvtParameter')\n                .appendTo(uiParameters);\n\n            uiParameters.append(pvVals);\n\n            // Available fields\n            $('<div>')\n                .addClass('pvtParameterLabel')\n                .appendTo(uiParameters)\n                .text(localeStrings.fieldsLabel);\n\n            uiParameters.append(unused);\n\n            //column axes\n            $('<div>')\n                .addClass('pvtParameterLabel')\n                .appendTo(uiParameters)\n                .text(localeStrings.colsLabel);\n\n            $('<div>').addClass('pvtAxisContainer pvtCols').appendTo(uiParameters);\n\n            //row axes\n            $('<div>')\n                .addClass('pvtParameterLabel')\n                .appendTo(uiParameters)\n                .text(localeStrings.rowsLabel);\n            $('<div>').addClass('pvtAxisContainer pvtRows').appendTo(uiParameters);\n\n            //the actual pivot table container\n            const pivotTable = $('<div>')\n                .addClass('pvtRendererArea')\n                .appendTo(uiPivotContainer);\n\n            //render the UI in its default state\n            this.html(uiContainer);\n\n            if (!opts.parametersActive) {\n                uiButtonColumns.removeClass('active');\n                uiParameters.hide();\n            }\n\n            //set up the UI initial state as requested by moving elements around\n\n            let initialRender = true;\n\n            //set up for refreshing\n            const refreshDelayed = () => {\n                let vals;\n                const subopts = {\n                    derivedAttributes: opts.derivedAttributes,\n                    localeStrings: opts.localeStrings,\n                    rendererOptions: opts.rendererOptions,\n                    sorters: opts.sorters,\n                    cols: [], rows: [],\n                    dataClass: opts.dataClass,\n                    grouping: opts.grouping,\n                };\n\n                this.find('.pvtRows li span.pvtAttr').each(function () {\n                    return subopts.rows.push($(this).data('attrName'));\n                });\n                this.find('.pvtCols li span.pvtAttr').each(function () {\n                    return subopts.cols.push($(this).data('attrName'));\n                });\n\n                let numInputsToProcess = 0;\n\n                const aggVals = [];\n                let j = 0, idx = j;\n                for (; j < aggregators.length; j++, idx = j) {\n                    let aggregatorType;\n                    const agg = aggregators[idx];\n                    if (typeof agg === 'object') {\n                        aggregatorType = agg.value;\n                    }\n                    const aggIdx = agg.id;\n                    const initialVals = agg.vals;\n\n                    const left = opts.aggregators[aggregatorType]([])().numInputs;\n                    if (left != null) {\n                        numInputsToProcess = left;\n                    } else {\n                        numInputsToProcess = 0;\n                    }\n                    vals = [];\n                    this.find('.pvtVals select.pvtAttrDropdown' + aggIdx).each(function () {\n                        if (numInputsToProcess !== 0) {\n                            numInputsToProcess--;\n                            if ($(this).val() !== '') {\n                                return vals.push($(this).val());\n                            }\n                        }\n                    });\n\n\n                    const pvtVals = this.find('.pvtVals');\n                    let container = this.find('.pvtVals .pvtAttrDropdownContainer' + aggIdx);\n                    const found = container.length > 0;\n                    if (opts.multiple) {\n                        let labelAggregator;\n                        if (!found) {\n                            container = $('<div>')\n                                .addClass('pvtAttrDropdownContainer')\n                                .addClass('pvtAttrDropdownContainer' + aggIdx)\n                                .appendTo(pvtVals);\n                            labelAggregator = locales[locale].localeStrings[aggregatorType] || locales['en'].localeStrings[aggregatorType] || aggregatorType;\n                            $('<label>')\n                                .addClass('pvtAttrDropdown')\n                                .addClass('pvtAttrDropdown' + aggIdx)\n                                .appendTo(container)\n                                .html('<b>' + agg.displayName + '</b>) ' + labelAggregator);\n                            initialRender = true;\n                        }\n\n                        if (!initialRender) {\n                            this.find('.pvtVals .pvtAttrDropdownContainer' + aggIdx + ' label.pvtAttrDropdown')\n                                .each(function () {\n                                    labelAggregator = locales[locale].localeStrings[aggregatorType] || locales['en'].localeStrings[aggregatorType] || aggregatorType;\n                                    return $(this).html('<b>' + agg.displayName + '</b>) ' + labelAggregator);\n                                });\n                        }\n                    } else {\n                        container = pvtVals;\n                    }\n\n                    if (numInputsToProcess !== 0) {\n                        let asc, end;\n                        for (x = 0, end = numInputsToProcess, asc = 0 <= end; asc ? x < end : x > end; asc ? x++ : x--) {\n                            const newDropdown = $('<select>')\n                                .addClass('pvtAttrDropdown' + aggIdx)\n                                .addClass('pvtAttrDropdown')\n                                .append($('<option>'))\n                                .bind('change', () => refresh());\n                            for (attr of shownInAggregators) {\n                                newDropdown.append($('<option>').val(attr).text(attr));\n                            }\n                            container.append(newDropdown);\n                        }\n                    }\n\n\n                    if (opts.multiple && !found) {\n                        $('<a>')\n                            .html('x')\n                            .addClass('pvtRemoveAggregator')\n                            .addClass('pvtToolButton')\n                            .addClass('pvtAttrDropdown' + aggIdx)\n                            .appendTo(container)\n                            .bind('click', (function () {\n                                    this.instance.find('.pvtVals .pvtAttrDropdownContainer' + this.aggIdx).remove();\n                                    idx = aggregators.findIndex(agg => agg.id === this.aggIdx);\n                                    aggregators.splice(idx, 1);\n                                    renameAggregators(aggregators);\n                                    return refresh();\n                                }).bind({ instance: this, aggIdx }),\n                            );\n                    }\n\n                    if (initialRender) {\n                        vals = initialVals != null ? initialVals : opts.vals;\n                        i = 0;\n                        this.find('.pvtVals select.pvtAttrDropdown' + aggIdx).each(function () {\n                            $(this).val(vals[i]);\n                            return i++;\n                        });\n                        initialRender = false;\n                    }\n\n                    aggVals.push(vals);\n                }\n\n                subopts.aggregatorName = aggregators.map(agg => agg.value);\n                subopts.vals = aggVals;\n                subopts.aggregator = aggregators.map((agg, i) => opts.aggregators[agg.value](aggVals[i]));\n                subopts.renderer = opts.renderers[renderer.val()];\n                subopts.rowOrder = rowOrderArrow.data('order');\n                subopts.colOrder = colOrderArrow.data('order');\n                if (opts.multiple) {\n                    subopts.aggregatorsLabel = aggregators.map(agg => agg.displayName);\n                }\n\n                //construct filter here\n                const exclusions = {};\n                this.find('input.pvtFilter').not(':checked').each(function () {\n                    const filter = $(this).data('filter');\n                    if (exclusions[filter[0]] != null) {\n                        return exclusions[filter[0]].push(filter[1]);\n                    } else {\n                        return exclusions[filter[0]] = [filter[1]];\n                    }\n                });\n                //include inclusions when exclusions present\n                const inclusions = {};\n                this.find('input.pvtFilter:checked').each(function () {\n                    const filter = $(this).data('filter');\n                    if (exclusions[filter[0]] != null) {\n                        if (inclusions[filter[0]] != null) {\n                            return inclusions[filter[0]].push(filter[1]);\n                        } else {\n                            return inclusions[filter[0]] = [filter[1]];\n                        }\n                    }\n                });\n\n                subopts.filter = function (record) {\n                    if (!opts.filter(record)) {\n                        return false;\n                    }\n                    for (let k in exclusions) {\n                        const excludedItems = exclusions[k];\n                        if (excludedItems.includes('' + (record[k] != null ? record[k] : 'null'))) {\n                            return false;\n                        }\n                    }\n                    return true;\n                };\n\n                pivotTable.pivot(materializedInput, subopts, locale);\n                const pivotUIOptions = $.extend({}, opts, {\n                        cols: subopts.cols,\n                        rows: subopts.rows,\n                        colOrder: subopts.colOrder,\n                        rowOrder: subopts.rowOrder,\n                        vals: aggVals,\n                        exclusions,\n                        inclusions,\n                        aggregator: subopts.aggregator,\n                        inclusionsInfo: inclusions, //duplicated for backwards-compatibility\n                        aggregatorName: subopts.aggregatorName,\n                        rendererName: renderer.val(),\n                    },\n                );\n\n                const currentPivotData = subopts.pivotData;\n                delete subopts.pivotData;\n                this.data('pivotUIOptions', pivotUIOptions);\n\n                // if requested, make sure unused columns are in alphabetical order\n                if (opts.autoSortUnusedAttrs) {\n                    const unusedAttrsContainer = this.find('td.pvtUnused.pvtAxisContainer');\n                    $(unusedAttrsContainer).children('li')\n                        .sort((a, b) => naturalSort($(a).text(), $(b).text()))\n                        .appendTo(unusedAttrsContainer);\n                }\n\n                pivotTable.css('opacity', 1);\n                if (opts.onRefresh != null) {\n                    return opts.onRefresh(pivotUIOptions, currentPivotData);\n                }\n            };\n\n            const refresh = () => {\n                pivotTable.css('opacity', 0.5);\n                return setTimeout(refreshDelayed, 10);\n            };\n\n            for (x of opts.cols) {\n                this.find('.pvtCols').append(this.find(`.axis_${$.inArray(x, shownInDragDrop)}`));\n            }\n            for (x of opts.rows) {\n                this.find('.pvtRows').append(this.find(`.axis_${$.inArray(x, shownInDragDrop)}`));\n            }\n            if (opts.aggregatorName != null) {\n                if (opts.multiple) {\n                    opts.aggregatorName = Array.isArray(opts.aggregatorName) ? opts.aggregatorName : [opts.aggregatorName];\n                    for (let idx = 0; idx < opts.aggregatorName.length; idx++) {\n                        const agg = opts.aggregatorName[idx];\n                        aggregators.push({\n                            id: ++itemsId,\n                            value: agg,\n                            vals: (opts.vals != null ? opts.vals[idx] : undefined),\n                        });\n                        renameAggregators(aggregators);\n                    }\n                } else {\n                    this.find('.pvtVals').append(this.find('.pvtAttrDropdown'));\n                    this.find('.pvtAggregator').val(opts.aggregatorName).change();\n                }\n            } else {\n                this.find('.pvtAggregator').change();\n            }\n            if (opts.rendererName != null) {\n                this.find('.pvtRenderer').val(opts.rendererName);\n            }\n\n            if (!opts.showUI) {\n                this.find('.pvtUiCell').hide();\n            }\n\n            //the very first refresh will actually display the table\n            refresh();\n\n            this.find('.pvtAxisContainer').sortable({\n                update(e, ui) {\n                    if ((ui.sender == null)) {\n                        return refresh();\n                    }\n                },\n                connectWith: this.find('.pvtAxisContainer'),\n                items: 'li',\n                placeholder: 'pvtPlaceholder',\n            });\n        } catch (error) {\n            console.error(error);\n            this.html(opts.localeStrings.uiRenderError);\n        }\n        return this;\n    };\n\n    /*\n    Heatmap post-processing\n    */\n\n    $.fn.heatmap = function (scope, opts) {\n        if (scope == null) {\n            scope = 'heatmap';\n        }\n        const numRows = this.data('numrows');\n        const numCols = this.data('numcols');\n\n        // given a series of values\n        // must return a function to map a given value to a CSS color\n        let colorScaleGenerator = opts?.heatmap?.colorScaleGenerator;\n        if (colorScaleGenerator == null) {\n            colorScaleGenerator = function (values) {\n                const min = Math.min(...(values || []));\n                const max = Math.max(...(values || []));\n                return function (x) {\n                    const nonRed = 255 - Math.round((255 * (x - min)) / (max - min));\n                    return `rgb(255,${nonRed},${nonRed})`;\n                };\n            };\n        }\n\n        const heatmapper = scope => {\n            const forEachCell = f => {\n                return this.find(scope).each(function () {\n                    const x = $(this).data('value');\n                    if ((x != null) && isFinite(x)) {\n                        return f(x, $(this));\n                    }\n                });\n            };\n\n            const values = [];\n            forEachCell(x => values.push(x));\n            const colorScale = colorScaleGenerator(values);\n            return forEachCell((x, elem) => elem.css('background-color', colorScale(x)));\n        };\n\n        switch (scope) {\n            case 'heatmap':\n                heatmapper('.pvtVal');\n                break;\n            case 'rowheatmap':\n                for (let i = 0, end = numRows, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n                    heatmapper(`.pvtVal.row${i}`);\n                }\n                break;\n            case 'colheatmap':\n                for (let j = 0, end1 = numCols, asc1 = 0 <= end1; asc1 ? j < end1 : j > end1; asc1 ? j++ : j--) {\n                    heatmapper(`.pvtVal.col${j}`);\n                }\n                break;\n        }\n\n        heatmapper('.pvtTotal.rowTotal');\n        heatmapper('.pvtTotal.colTotal');\n\n        return this;\n    };\n\n    /*\n    Barchart post-processing\n    */\n\n    $.fn.barchart = function (opts) {\n        const numRows = this.data('numrows');\n        const numCols = this.data('numcols');\n\n        const barcharter = scope => {\n            const forEachCell = f => {\n                return this.find(scope).each(function () {\n                    const x = $(this).data('value');\n                    if ((x != null) && isFinite(x)) {\n                        return f(x, $(this));\n                    }\n                });\n            };\n\n            const values = [];\n            forEachCell(x => values.push(x));\n            let max = Math.max(...(values || []));\n            if (max < 0) {\n                max = 0;\n            }\n            let range = max;\n            const min = Math.min(...(values || []));\n            if (min < 0) {\n                range = max - min;\n            }\n            const scaler = x => (100 * x) / (1.4 * range);\n            return forEachCell(function (x, elem) {\n                const text = elem.text();\n                const wrapper = $('<div>').css({\n                    'position': 'relative',\n                    'height': '55px',\n                });\n                let bgColor = 'gray';\n                let bBase = 0;\n                if (min < 0) {\n                    bBase = scaler(-min);\n                }\n                if (x < 0) {\n                    bBase += scaler(x);\n                    bgColor = 'darkred';\n                    x = -x;\n                }\n                wrapper.append($('<div>').css({\n                        'position': 'absolute',\n                        'bottom': bBase + '%',\n                        'left': 0,\n                        'right': 0,\n                        'height': scaler(x) + '%',\n                        'background-color': bgColor,\n                    }),\n                );\n                wrapper.append($('<div>').text(text).css({\n                        'position': 'relative',\n                        'padding-left': '5px',\n                        'padding-right': '5px',\n                    }),\n                );\n\n                return elem.css({ 'padding': 0, 'padding-top': '5px', 'text-align': 'center' }).html(wrapper);\n            });\n        };\n\n        for (let i = 0, end = numRows, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\n            barcharter(`.pvtVal.row${i}`);\n        }\n        barcharter('.pvtTotal.colTotal');\n\n        return this;\n    };\n\n    /*\n    Grouping fold/expand rows and cols\n    */\n\n    const childIndex = el => Array.prototype.indexOf.call(el.parentNode.children, el);\n\n    const childKeysIndices = function (keys, n) {\n        const up = keys[0].length === 1 ? 1 : -1;\n        const len = keys[n].length;\n\n        const result = [];\n        n = n + up;\n        let key = keys[n];\n        while (key && key.length > len) {\n            if (key.length === (len + 1)) {\n                result.push(n);\n            } else {\n                continue;\n            }\n            n = n + up;\n            key = keys[n];\n        }\n        return result;\n    };\n\n    const parentKeysIndices = function (keys, n) {\n        const up = keys[0].length === 1 ? 1 : -1;\n        const result = [];\n        let len = keys[n].length;\n        while (len > 1) {\n            let key;\n            n = n - up;\n            key = keys[n];\n            while (key && key.length >= len) {\n                n = n - up;\n                key = keys[n];\n            }\n            result.push(n);\n\n            len = keys[n].length;\n        }\n        return result;\n    };\n\n    const levelKeysIndices = (keys, level) => (keys.filter(d => d.length === level)).map(keys.indexOf.bind(keys));\n\n    const getAxis = function (table, rows, level) {\n        if (rows) {\n            return table.find(`thead tr:last-child th.pvtAxisLabel:nth-of-type(${level})`);\n        } else {\n            return table.find(`thead tr:nth-child(${level}) th.pvtAxisLabel`);\n        }\n    };\n\n    const getHeader = (table, rows, n) => table.find(rows ? `tbody tr th.row${n}` : `thead th.col${n}`);\n\n    const rowGetter = function (table) {\n        const selecttion = table.find('tbody tr');\n        return n => $(selecttion[n]);\n    };\n\n    const colGetter = function (table) {\n        const selecttion = table.find('tr');\n        return n => selecttion.find(`.col${n}`);\n    };\n\n    const showHide = function (getter, keys, nth, offset, show) {\n        const object = childKeysIndices(keys, nth);\n        for (let i in object) {\n            const n = object[i];\n            const row = getter(n + offset);\n            const fn = show ? $.fn.show : $.fn.hide;\n            fn.call(row);\n            if (!row.hasClass('collapsed')) {\n                showHide(getter, keys, n, offset, show);\n            }\n        }\n        return true;\n    };\n\n    const expandRowsGroupAfter = function (cell, rows, keys, nth) {\n        const table = $(cell).closest('table');\n        const initIndex = childIndex(cell.parentNode);\n        const getter = rowGetter(table);\n        const row = getter(nth);\n\n        const insertPoint = row.hasClass('collapsed') ? getter(cell._old) : row;\n        if (!row.hasClass('collapsed')) {\n            cell._old = childIndex(cell.parentNode);\n        }\n        insertPoint.prepend(cell);\n\n        const object = parentKeysIndices(keys, nth);\n        for (let i in object) {\n            const p = object[i];\n            const parent = (getHeader(table, rows, p))[0];\n            const parentIndex = childIndex(parent.parentNode);\n            parent._old = parent._old != null ? parent._old : parentIndex;\n            if ((parent._old === initIndex) && (parent.rowSpan === 1)) {\n                parent._old -= initIndex - childIndex(cell.parentNode);\n            }\n\n            if (initIndex === parentIndex) {\n                insertPoint.prepend(parent);\n            }\n        }\n\n        return expandWithSpan(cell, rows, keys, nth);\n    };\n\n    const expandRowCol = function (cell, rows, keys, nth, parent) {\n        const table = $(cell).closest('table');\n        const getter = rows ? rowGetter(table) : colGetter(table);\n        const span = rows ? 'rowSpan' : 'colSpan';\n\n        const offset = rows && (this.aggregator.length > 1) ? 1 : 0;\n        if ((parent != null ? parent[span] : undefined) !== 1) {\n            showHide(getter, keys, nth, offset, getter(nth + offset).hasClass('collapsed'));\n        }\n        getter(nth + offset).toggleClass('collapsed');\n        return $(cell).toggleClass('open close');\n    };\n\n    const expandAll = function (pivotData, table, level, rows, expand) {\n        let i;\n        if (expand && (level > 1)) {\n            getAxis(table, rows, level - 1).removeClass('close').addClass('open');\n            expandAll(pivotData, table, level - 1, rows, expand);\n        }\n\n        const levels = (rows ? pivotData.rowAttrs : pivotData.colAttrs).length - 1;\n        if (!expand && (level < levels)) {\n            let asc, end, start;\n            for (start = level + 1, i = start, end = levels, asc = start <= end; asc ? i <= end : i >= end; asc ? i++ : i--) {\n                getAxis(table, rows, i).removeClass('open').addClass('close');\n            }\n        }\n\n        const keys = rows ? pivotData.rowKeys : pivotData.colKeys;\n        const object = levelKeysIndices(keys, level);\n        for (i in object) {\n            const n = object[i];\n            const el = getHeader(table, rows, n);\n            if (expand === el.hasClass('close')) {\n                el.trigger('click');\n            }\n        }\n        return null;\n    };\n\n    const getExpandHandler = (keys, rows, handler) => (function (ev) {\n        const match = ev.target.className.match(rows ? /row(\\d+)/ : /col(\\d+)/);\n        if (match) {\n            return handler(ev.target, rows, keys, +match[1]);\n        }\n    });\n\n    return getExpandAllHandler = (pivotData, level, rows) => (function (ev) {\n        expandAll(pivotData, $(ev.target).closest('table'), level + 1, rows, $(ev.target).hasClass('close'));\n        return $(ev.target).toggleClass('open close');\n    });\n})(jQuery);\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,UAAUA,CAAC,EAAE;EAEV,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAaC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAE;IACpD,IAAIC,MAAM;IACV,IAAMC,KAAK,GAAGP,CAAC,CAACE,IAAI,CAAC,CAACM,OAAO,CAAC,OAAO,CAAC;IACtC,IAAMC,IAAI,GAAGN,IAAI,GAAG,SAAS,GAAG,SAAS;IAEzC,IAAMO,GAAG,GAAG,CAACP,IAAI,GAAGQ,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,CAACC,UAAU,CAACC,MAAM,CAAC,GAAG,CAAC;IAAC,IAAAC,IAAA,GACjC,CAACb,IAAI,CAACO,IAAI,CAAC,EAAEP,IAAI,CAACc,KAAK,IAAI,IAAI,GAAGd,IAAI,CAACc,KAAK,GAAGN,GAAG,CAAC;IAA7ER,IAAI,CAACc,KAAK,GAAAD,IAAA;IAAEb,IAAI,CAACO,IAAI,CAAC,GAAAM,IAAA;IACvB,IAAME,MAAM,GAAGf,IAAI,CAACO,IAAI,CAAC,GAAGP,IAAI,CAACc,KAAK;IAEtC,IAAME,MAAM,GAAGC,iBAAiB,CAACf,IAAI,EAAEC,GAAG,CAAC;IAC3C,KAAK,IAAIe,CAAC,IAAIF,MAAM,EAAE;MAClB,IAAMG,CAAC,GAAGH,MAAM,CAACE,CAAC,CAAC;MACnBd,MAAM,GAAIgB,SAAS,CAACf,KAAK,EAAEJ,IAAI,EAAEkB,CAAC,CAAC,CAAE,CAAC,CAAC;MACvC,IAAIf,MAAM,CAACG,IAAI,CAAC,KAAK,CAAC,EAAE;QACpBH,MAAM,CAACU,KAAK,IAAIC,MAAM;QACtB;MACJ;MACAX,MAAM,CAACG,IAAI,CAAC,IAAIQ,MAAM;IAC1B;IAEA,OAAOM,YAAY,CAACrB,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAEC,MAAM,CAAC;EACtD,CAAC;EACD;AACJ;AACA;;EAEI,IAAIkB,mBAAmB;EACvB,IAAIC,YAAY,GAAG,IAAI;EAEvB,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAaC,IAAI,EAAEC,YAAY,EAAEC,UAAU,EAAE;IAC5DF,IAAI,IAAI,EAAE;IACV,IAAMG,CAAC,GAAGH,IAAI,CAACI,KAAK,CAAC,GAAG,CAAC;IACzB,IAAIC,EAAE,GAAGF,CAAC,CAAC,CAAC,CAAC;IACb,IAAMG,EAAE,GAAGH,CAAC,CAAChB,MAAM,GAAG,CAAC,GAAGe,UAAU,GAAGC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;IAChD,IAAMI,GAAG,GAAG,cAAc;IAC1B,OAAOA,GAAG,CAACC,IAAI,CAACH,EAAE,CAAC,EAAE;MACjBA,EAAE,GAAGA,EAAE,CAACI,OAAO,CAACF,GAAG,EAAE,IAAI,GAAGN,YAAY,GAAG,IAAI,CAAC;IACpD;IACA,OAAOI,EAAE,GAAGC,EAAE;EAClB,CAAC;EAED,IAAMI,YAAY,GAAG,SAAfA,YAAYA,CAAaC,IAAI,EAAE;IACjC,IAAMC,QAAQ,GAAG;MACbC,kBAAkB,EAAE,CAAC;MAAEC,MAAM,EAAE,CAAC;MAChCb,YAAY,EAAE,GAAG;MAAEC,UAAU,EAAE,GAAG;MAClCa,MAAM,EAAE,EAAE;MAAEC,MAAM,EAAE;IACxB,CAAC;IACDL,IAAI,GAAGtC,CAAC,CAAC4C,MAAM,CAAC,CAAC,CAAC,EAAEL,QAAQ,EAAED,IAAI,CAAC;IACnC,OAAO,UAAUR,CAAC,EAAE;MAChB,IAAIe,KAAK,CAACf,CAAC,CAAC,IAAI,CAACgB,QAAQ,CAAChB,CAAC,CAAC,EAAE;QAC1B,OAAO,EAAE;MACb;MACA,IAAMiB,MAAM,GAAGrB,aAAa,CAAC,CAACY,IAAI,CAACG,MAAM,GAAGX,CAAC,EAAEkB,OAAO,CAACV,IAAI,CAACE,kBAAkB,CAAC,EAAEF,IAAI,CAACV,YAAY,EAAEU,IAAI,CAACT,UAAU,CAAC;MACpH,OAAO,EAAE,GAAGS,IAAI,CAACI,MAAM,GAAGK,MAAM,GAAGT,IAAI,CAACK,MAAM;IAClD,CAAC;EACL,CAAC;EAED,IAAMM,aAAa,GAAG;IAClBC,IAAI,EAAE,SAAAA,KAAUC,KAAK,EAAE;MACnBA,KAAK,GAAGA,KAAK,IAAI,EAAE;MACnB,OAAOC,QAAQ,CAACC,cAAc,CAACF,KAAK,CAAC;IACzC,CAAC;IACDG,MAAM,EAAE,SAAAA,OAAUhB,IAAI,EAAEiB,GAAG,EAAE;MACzB,OAAO,UAAUJ,KAAK,EAAEK,IAAI,EAAE;QAC1B,OAAO,CAAClB,IAAI,CAACkB,IAAI,CAAC,IAAID,GAAG,IAAIN,aAAa,CAACC,IAAI,EAAEO,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;MAC3E,CAAC;IACL,CAAC;IACDC,MAAM,WAAAA,OAACR,KAAK,EAAEb,IAAI,EAAE;MAChB,IAAIsB,IAAI,GAAG,EAAE;MAEb,IAAIT,KAAK,EAAE;QACP,IAAI;UACA,IAAMU,OAAO,GAAG;YAAEC,IAAI,EAAE,SAAS;YAAEC,KAAK,EAAE,SAAS;YAAEC,GAAG,EAAE;UAAU,CAAC;UACrEJ,IAAI,GAAI,IAAIK,IAAI,CAACd,KAAK,CAAC,CAAEe,kBAAkB,CAACzC,YAAY,EAAEoC,OAAO,CAAC;QACtE,CAAC,CAAC,OAAOM,CAAC,EAAE;UACRP,IAAI,GAAGT,KAAK;QAChB;MACJ;MAEA,OAAOnD,CAAC,CAACoE,cAAc,CAACnB,aAAa,CAACC,IAAI,CAACU,IAAI,CAAC;IACpD;EACJ,CAAC;;EAED;EACA,IAAMS,KAAK,GAAGhC,YAAY,CAAC,CAAC;EAC5B,IAAMiC,QAAQ,GAAGjC,YAAY,CAAC;IAAEG,kBAAkB,EAAE;EAAE,CAAC,CAAC;EACxD,IAAM+B,QAAQ,GAAGlC,YAAY,CAAC;IAAEG,kBAAkB,EAAE,CAAC;IAAEC,MAAM,EAAE,GAAG;IAAEE,MAAM,EAAE;EAAI,CAAC,CAAC;EAElF,IAAM6B,mBAAmB,GAAG;IACxBC,KAAK,WAAAA,MAACC,SAAS,EAAE;MACb,IAAIA,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGJ,QAAQ;MACxB;MACA,OAAO;QAAA,OAAO,UAAUK,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UAC1C,OAAO;YACHJ,KAAK,EAAE,CAAC;YACRK,IAAI,WAAAA,KAAA,EAAG;cACH,OAAO,IAAI,CAACL,KAAK,EAAE;YACvB,CAAC;YACDtB,KAAK,WAAAA,MAAA,EAAG;cACJ,OAAO,IAAI,CAACsB,KAAK;YACrB,CAAC;YACDM,MAAM,EAAEL;UACZ,CAAC;QACL,CAAC;MAAA,CAAC;IACN,CAAC;IAEDM,OAAO,WAAAA,QAACC,EAAE,EAAEP,SAAS,EAAE;MACnB,IAAIA,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGJ,QAAQ;MACxB;MACA,OAAO,YAAmB;QACtB,IAAAY,KAAA,GAAAxB,SAAA,CAAA5C,MAAA,QAAAqE,SAAA,GAAAzB,SAAA;UAAA0B,KAAA,GAAAC,cAAA,CAAAH,KAAA;UAAOI,IAAI,GAAAF,KAAA;QACX,OAAO,UAAUT,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UACnC,OAAO;YACHS,IAAI,EAAJA,IAAI;YACJC,IAAI,EAAE,EAAE;YACRT,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,IAAI,CAAC,IAAI,CAACD,IAAI,CAACE,QAAQ,CAACD,MAAM,CAACF,IAAI,CAAC,CAAC,EAAE;gBACnC,OAAO,IAAI,CAACC,IAAI,CAACT,IAAI,CAACU,MAAM,CAACF,IAAI,CAAC,CAAC;cACvC;YACJ,CAAC;YACDnC,KAAK,WAAAA,MAAA,EAAG;cACJ,OAAO8B,EAAE,CAAC,IAAI,CAACM,IAAI,CAAC;YACxB,CAAC;YACDR,MAAM,EAAEL,SAAS;YACjBgB,SAAS,EAAGJ,IAAI,IAAI,IAAI,GAAI,CAAC,GAAG;UACpC,CAAC;QACL,CAAC;MACL,CAAC;IACL,CAAC;IAEDK,GAAG,WAAAA,IAACjB,SAAS,EAAE;MACX,IAAIA,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGL,KAAK;MACrB;MACA,OAAO,YAAmB;QACtB,IAAAuB,KAAA,GAAAlC,SAAA,CAAA5C,MAAA,QAAAqE,SAAA,GAAAzB,SAAA;UAAAmC,KAAA,GAAAR,cAAA,CAAAO,KAAA;UAAON,IAAI,GAAAO,KAAA;QACX,OAAO,UAAUlB,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UACnC,OAAO;YACHS,IAAI,EAAJA,IAAI;YACJK,GAAG,EAAE,CAAC;YACNb,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,IAAI,CAAC3C,KAAK,CAACiD,UAAU,CAACN,MAAM,CAACF,IAAI,CAAC,CAAC,CAAC,EAAE;gBAClC,OAAO,IAAI,CAACK,GAAG,IAAIG,UAAU,CAACN,MAAM,CAACF,IAAI,CAAC,CAAC;cAC/C;YACJ,CAAC;YACDnC,KAAK,WAAAA,MAAA,EAAG;cACJ,OAAO,IAAI,CAACwC,GAAG;YACnB,CAAC;YACDZ,MAAM,EAAEL,SAAS;YACjBgB,SAAS,EAAGJ,IAAI,IAAI,IAAI,GAAI,CAAC,GAAG;UACpC,CAAC;QACL,CAAC;MACL,CAAC;IACL,CAAC;IAEDS,QAAQ,WAAAA,SAACC,IAAI,EAAEtB,SAAS,EAAE;MACtB,IAAIA,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGL,KAAK;MACrB;MACA,OAAO,YAAmB;QACtB,IAAA4B,KAAA,GAAAvC,SAAA,CAAA5C,MAAA,QAAAqE,SAAA,GAAAzB,SAAA;UAAAwC,KAAA,GAAAb,cAAA,CAAAY,KAAA;UAAOX,IAAI,GAAAY,KAAA;QACX,OAAO,UAAUvB,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UACnC,OAAO;YACHS,IAAI,EAAJA,IAAI;YACJa,GAAG,EAAE,IAAI;YACTC,MAAM,EAAEC,OAAO,CAAC1B,IAAI,IAAI,IAAI,GAAGA,IAAI,CAAC2B,OAAO,GAAGnB,SAAS,EAAEG,IAAI,CAAC;YAC9DR,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,IAAI1D,CAAC,GAAG0D,MAAM,CAACF,IAAI,CAAC;cACpB,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAACG,QAAQ,CAACO,IAAI,CAAC,EAAE;gBAC/BlE,CAAC,GAAGgE,UAAU,CAAChE,CAAC,CAAC;gBACjB,IAAI,CAACe,KAAK,CAACf,CAAC,CAAC,EAAE;kBACX,IAAI,CAACqE,GAAG,GAAGxF,IAAI,CAACqF,IAAI,CAAC,CAAClE,CAAC,EAAE,IAAI,CAACqE,GAAG,IAAI,IAAI,GAAG,IAAI,CAACA,GAAG,GAAGrE,CAAC,CAAC;gBAC7D;cACJ;cACA,IAAIkE,IAAI,KAAK,OAAO,EAAE;gBAClB,IAAI,IAAI,CAACI,MAAM,CAACtE,CAAC,EAAE,IAAI,CAACqE,GAAG,IAAI,IAAI,GAAG,IAAI,CAACA,GAAG,GAAGrE,CAAC,CAAC,IAAI,CAAC,EAAE;kBACtD,IAAI,CAACqE,GAAG,GAAGrE,CAAC;gBAChB;cACJ;cACA,IAAIkE,IAAI,KAAK,MAAM,EAAE;gBACjB,IAAI,IAAI,CAACI,MAAM,CAACtE,CAAC,EAAE,IAAI,CAACqE,GAAG,IAAI,IAAI,GAAG,IAAI,CAACA,GAAG,GAAGrE,CAAC,CAAC,IAAI,CAAC,EAAE;kBACtD,OAAO,IAAI,CAACqE,GAAG,GAAGrE,CAAC;gBACvB;cACJ;YACJ,CAAC;YACDqB,KAAK,WAAAA,MAAA,EAAG;cACJ,OAAO,IAAI,CAACgD,GAAG;YACnB,CAAC;YACDpB,MAAM,WAAAA,OAACjD,CAAC,EAAE;cACN,IAAIe,KAAK,CAACf,CAAC,CAAC,EAAE;gBACV,OAAOA,CAAC;cACZ,CAAC,MAAM;gBACH,OAAO4C,SAAS,CAAC5C,CAAC,CAAC;cACvB;YACJ,CAAC;YACD4D,SAAS,EAAGJ,IAAI,IAAI,IAAI,GAAI,CAAC,GAAG;UACpC,CAAC;QACL,CAAC;MACL,CAAC;IACL,CAAC;IAEDiB,QAAQ,WAAAA,SAACC,CAAC,EAAE9B,SAAS,EAAE;MACnB,IAAIA,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGL,KAAK;MACrB;MACA,OAAO,YAAmB;QACtB,IAAAoC,KAAA,GAAA/C,SAAA,CAAA5C,MAAA,QAAAqE,SAAA,GAAAzB,SAAA;UAAAgD,KAAA,GAAArB,cAAA,CAAAoB,KAAA;UAAOnB,IAAI,GAAAoB,KAAA;QACX,OAAO,UAAU/B,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UACnC,OAAO;YACHS,IAAI,EAAJA,IAAI;YACJqB,IAAI,EAAE,EAAE;YACR7B,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,IAAM1D,CAAC,GAAGgE,UAAU,CAACN,MAAM,CAACF,IAAI,CAAC,CAAC;cAClC,IAAI,CAACzC,KAAK,CAACf,CAAC,CAAC,EAAE;gBACX,OAAO,IAAI,CAAC6E,IAAI,CAAC7B,IAAI,CAAChD,CAAC,CAAC;cAC5B;YACJ,CAAC;YACDqB,KAAK,WAAAA,MAAA,EAAG;cACJ,IAAI,IAAI,CAACwD,IAAI,CAAC7F,MAAM,KAAK,CAAC,EAAE;gBACxB,OAAO,IAAI;cACf;cACA,IAAI,CAAC6F,IAAI,CAACC,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;gBAAA,OAAKD,CAAC,GAAGC,CAAC;cAAA,EAAC;cAC/B,IAAM1F,CAAC,GAAG,CAAC,IAAI,CAACuF,IAAI,CAAC7F,MAAM,GAAG,CAAC,IAAI0F,CAAC;cACpC,OAAO,CAAC,IAAI,CAACG,IAAI,CAAChG,IAAI,CAACoG,KAAK,CAAC3F,CAAC,CAAC,CAAC,GAAG,IAAI,CAACuF,IAAI,CAAChG,IAAI,CAACqG,IAAI,CAAC5F,CAAC,CAAC,CAAC,IAAI,GAAG;YACrE,CAAC;YACD2D,MAAM,EAAEL,SAAS;YACjBgB,SAAS,EAAGJ,IAAI,IAAI,IAAI,GAAI,CAAC,GAAG;UACpC,CAAC;QACL,CAAC;MACL,CAAC;IACL,CAAC;IAED2B,WAAW,WAAAA,YAACjB,IAAI,EAAEkB,IAAI,EAAExC,SAAS,EAAE;MAC/B,IAAIsB,IAAI,IAAI,IAAI,EAAE;QACdA,IAAI,GAAG,MAAM;MACjB;MACA,IAAIkB,IAAI,IAAI,IAAI,EAAE;QACdA,IAAI,GAAG,CAAC;MACZ;MACA,IAAIxC,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGL,KAAK;MACrB;MACA,OAAO,YAAmB;QACtB,IAAA8C,MAAA,GAAAzD,SAAA,CAAA5C,MAAA,QAAAqE,SAAA,GAAAzB,SAAA;UAAA0D,MAAA,GAAA/B,cAAA,CAAA8B,MAAA;UAAO7B,IAAI,GAAA8B,MAAA;QACX,OAAO,UAAUzC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UACnC,OAAO;YACHS,IAAI,EAAJA,IAAI;YACJ+B,CAAC,EAAE,GAAG;YAAEC,CAAC,EAAE,GAAG;YAAEC,CAAC,EAAE,GAAG;YACtBzC,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,IAAM1D,CAAC,GAAGgE,UAAU,CAACN,MAAM,CAACF,IAAI,CAAC,CAAC;cAClC,IAAIzC,KAAK,CAACf,CAAC,CAAC,EAAE;gBACV;cACJ;cACA,IAAI,CAACuF,CAAC,IAAI,GAAG;cACb,IAAI,IAAI,CAACA,CAAC,KAAK,GAAG,EAAE;gBAChB,OAAO,IAAI,CAACC,CAAC,GAAGxF,CAAC;cACrB,CAAC,MAAM;gBACH,IAAM0F,KAAK,GAAG,IAAI,CAACF,CAAC,GAAI,CAACxF,CAAC,GAAG,IAAI,CAACwF,CAAC,IAAI,IAAI,CAACD,CAAE;gBAC9C,IAAI,CAACE,CAAC,GAAG,IAAI,CAACA,CAAC,GAAI,CAACzF,CAAC,GAAG,IAAI,CAACwF,CAAC,KAAKxF,CAAC,GAAG0F,KAAK,CAAE;gBAC9C,OAAO,IAAI,CAACF,CAAC,GAAGE,KAAK;cACzB;YACJ,CAAC;YACDrE,KAAK,WAAAA,MAAA,EAAG;cACJ,IAAI6C,IAAI,KAAK,MAAM,EAAE;gBACjB,IAAI,IAAI,CAACqB,CAAC,KAAK,CAAC,EAAE;kBACd,OAAO,CAAC,GAAG,CAAC;gBAChB,CAAC,MAAM;kBACH,OAAO,IAAI,CAACC,CAAC;gBACjB;cACJ;cACA,IAAI,IAAI,CAACD,CAAC,IAAIH,IAAI,EAAE;gBAChB,OAAO,CAAC;cACZ;cACA,QAAQlB,IAAI;gBACR,KAAK,KAAK;kBACN,OAAO,IAAI,CAACuB,CAAC,IAAI,IAAI,CAACF,CAAC,GAAGH,IAAI,CAAC;gBACnC,KAAK,OAAO;kBACR,OAAOvG,IAAI,CAAC8G,IAAI,CAAC,IAAI,CAACF,CAAC,IAAI,IAAI,CAACF,CAAC,GAAGH,IAAI,CAAC,CAAC;cAClD;YACJ,CAAC;YACDnC,MAAM,EAAEL,SAAS;YACjBgB,SAAS,EAAGJ,IAAI,IAAI,IAAI,GAAI,CAAC,GAAG;UACpC,CAAC;QACL,CAAC;MACL,CAAC;IACL,CAAC;IAEDoC,UAAU,WAAAA,WAAChD,SAAS,EAAE;MAClB,IAAIA,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGL,KAAK;MACrB;MACA,OAAO,YAAmB;QACtB,IAAAsD,MAAA,GAAAjE,SAAA,CAAA5C,MAAA,QAAAqE,SAAA,GAAAzB,SAAA;UAAAkE,MAAA,GAAAvC,cAAA,CAAAsC,MAAA;UAAOE,GAAG,GAAAD,MAAA;UAAEE,KAAK,GAAAF,MAAA;QACjB,OAAO,UAAUjD,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UACnC,OAAO;YACHkD,MAAM,EAAE,CAAC;YACTC,QAAQ,EAAE,CAAC;YACXlD,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,IAAI,CAAC3C,KAAK,CAACiD,UAAU,CAACN,MAAM,CAACqC,GAAG,CAAC,CAAC,CAAC,EAAE;gBACjC,IAAI,CAACE,MAAM,IAAIjC,UAAU,CAACN,MAAM,CAACqC,GAAG,CAAC,CAAC;cAC1C;cACA,IAAI,CAAChF,KAAK,CAACiD,UAAU,CAACN,MAAM,CAACsC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACnC,OAAO,IAAI,CAACE,QAAQ,IAAIlC,UAAU,CAACN,MAAM,CAACsC,KAAK,CAAC,CAAC;cACrD;YACJ,CAAC;YACD3E,KAAK,WAAAA,MAAA,EAAG;cACJ,OAAO,IAAI,CAAC4E,MAAM,GAAG,IAAI,CAACC,QAAQ;YACtC,CAAC;YACDjD,MAAM,EAAEL,SAAS;YACjBgB,SAAS,EAAGmC,GAAG,IAAI,IAAI,IAAMC,KAAK,IAAI,IAAK,GAAG,CAAC,GAAG;UACtD,CAAC;QACL,CAAC;MACL,CAAC;IACL,CAAC;IAEDG,iBAAiB,WAAAA,kBAACC,KAAK,EAAExD,SAAS,EAAE;MAChC,IAAIwD,KAAK,IAAI,IAAI,EAAE;QACfA,KAAK,GAAG,IAAI;MAChB;MACA,IAAIxD,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGL,KAAK;MACrB;MACA,OAAO,YAAmB;QACtB,IAAA8D,MAAA,GAAAzE,SAAA,CAAA5C,MAAA,QAAAqE,SAAA,GAAAzB,SAAA;UAAA0E,MAAA,GAAA/C,cAAA,CAAA8C,MAAA;UAAON,GAAG,GAAAO,MAAA;UAAEN,KAAK,GAAAM,MAAA;QACjB,OAAO,UAAUzD,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UACnC,OAAO;YACHkD,MAAM,EAAE,CAAC;YACTC,QAAQ,EAAE,CAAC;YACXlD,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,IAAI,CAAC3C,KAAK,CAACiD,UAAU,CAACN,MAAM,CAACqC,GAAG,CAAC,CAAC,CAAC,EAAE;gBACjC,IAAI,CAACE,MAAM,IAAIjC,UAAU,CAACN,MAAM,CAACqC,GAAG,CAAC,CAAC;cAC1C;cACA,IAAI,CAAChF,KAAK,CAACiD,UAAU,CAACN,MAAM,CAACsC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACnC,OAAO,IAAI,CAACE,QAAQ,IAAIlC,UAAU,CAACN,MAAM,CAACsC,KAAK,CAAC,CAAC;cACrD;YACJ,CAAC;YACD3E,KAAK,WAAAA,MAAA,EAAG;cACJ,IAAMkF,IAAI,GAAGH,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;cAC3B,OAAO,CAAE,iBAAiB,GAAG,IAAI,CAACF,QAAQ,GAAK,IAAI,CAACD,MAAM,GAAG,IAAI,CAACC,QAAS,GAAI,kBAAkB,GAAGK,IAAI,GAChG1H,IAAI,CAAC8G,IAAI,CAAE,iBAAiB,IAAI,IAAI,CAACO,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAC,GAAM,IAAI,CAACD,MAAM,IAAI,CAAC,GAAI,IAAI,CAACA,MAAM,GAAG,IAAI,CAACC,QAAS,CAAC,IAAK,IAAI,CAACA,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAE,CAAE,KAC9J,CAAC,GAAI,iBAAiB,GAAG,IAAI,CAACA,QAAS,CAAC;YACjD,CAAC;YACDjD,MAAM,EAAEL,SAAS;YACjBgB,SAAS,EAAGmC,GAAG,IAAI,IAAI,IAAMC,KAAK,IAAI,IAAK,GAAG,CAAC,GAAG;UACtD,CAAC;QACL,CAAC;MACL,CAAC;IACL,CAAC;IAEDQ,UAAU,WAAAA,WAACC,OAAO,EAAE/E,IAAI,EAAEkB,SAAS,EAAE;MACjC,IAAIlB,IAAI,IAAI,IAAI,EAAE;QACdA,IAAI,GAAG,OAAO;MAClB;MACA,IAAIkB,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAGH,QAAQ;MACxB;MACA,OAAO;QAAA,SAAAiE,IAAA,GAAA9E,SAAA,CAAA5C,MAAA,EAAIgB,CAAC,OAAA2G,KAAA,CAAAD,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;UAAD5G,CAAC,CAAA4G,IAAA,IAAAhF,SAAA,CAAAgF,IAAA;QAAA;QAAA,OAAM,UAAU/D,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAE;UAC9C,OAAO;YACH8D,QAAQ,EAAE;cAAEC,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;cAAEC,GAAG,EAAE,CAACjE,MAAM,EAAE,EAAE,CAAC;cAAEkE,GAAG,EAAE,CAAC,EAAE,EAAEjE,MAAM;YAAE,CAAC,CAACrB,IAAI,CAAC;YACzEuF,KAAK,EAAER,OAAO,CAAA9E,KAAA,SAAAuF,kBAAA,CAAKlH,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC6C,IAAI,EAAEC,MAAM,EAAEC,MAAM,CAAC;YAClDC,IAAI,WAAAA,KAACU,MAAM,EAAE;cACT,OAAO,IAAI,CAACuD,KAAK,CAACjE,IAAI,CAACU,MAAM,CAAC;YAClC,CAAC;YACDT,MAAM,EAAEL,SAAS;YACjBvB,KAAK,WAAAA,MAAC8F,EAAE,EAAE;cACN,IAAMC,GAAG,GAAGvE,IAAI,CAACwE,aAAa,CAAA1F,KAAA,CAAlBkB,IAAI,EAAAqE,kBAAA,CAAmB,GAAAI,MAAA,CAAAJ,kBAAA,CAAI,IAAI,CAACL,QAAQ,IAAEM,EAAE,MAAK,EAAE,CAAC,CAAC;cACjE,OAAO,IAAI,CAACF,KAAK,CAAC5F,KAAK,CAAC,CAAC,GAAG+F,GAAG,CAACH,KAAK,CAAC5F,KAAK,CAAC,CAAC;YACjD,CAAC;YACDuC,SAAS,EAAE6C,OAAO,CAAA9E,KAAA,SAAAuF,kBAAA,CAAKlH,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC4D;UACvC,CAAC;QACL,CAAC;MAAA,CAAC;IACN;EACJ,CAAC;EAEDlB,mBAAmB,CAAC6E,WAAW,GAAG,UAAAC,CAAC;IAAA,OAAI9E,mBAAmB,CAACQ,OAAO,CAAE,UAAAlD,CAAC;MAAA,OAAIA,CAAC,CAAChB,MAAM;IAAA,GAAGwI,CAAC,CAAC;EAAA;EACtF9E,mBAAmB,CAAC+E,UAAU,GAAG,UAAAhC,CAAC;IAAA,OAAI/C,mBAAmB,CAACQ,OAAO,CAAE,UAAAlD,CAAC;MAAA,OAAIA,CAAC,CAAC8E,IAAI,CAAC4C,WAAW,CAAC,CAACC,IAAI,CAAClC,CAAC,CAAC;IAAA,GAAI,UAAAzF,CAAC;MAAA,OAAIA,CAAC;IAAA,CAAC,CAAC;EAAA;EAC/G0C,mBAAmB,CAAC5D,GAAG,GAAG,UAAA0I,CAAC;IAAA,OAAI9E,mBAAmB,CAACuB,QAAQ,CAAC,KAAK,EAAEuD,CAAC,CAAC;EAAA;EACrE9E,mBAAmB,CAACkF,GAAG,GAAG,UAAAJ,CAAC;IAAA,OAAI9E,mBAAmB,CAACuB,QAAQ,CAAC,KAAK,EAAEuD,CAAC,CAAC;EAAA;EACrE9E,mBAAmB,CAACmF,KAAK,GAAG,UAAAL,CAAC;IAAA,OAAI9E,mBAAmB,CAACuB,QAAQ,CAAC,OAAO,EAAEuD,CAAC,CAAC;EAAA;EACzE9E,mBAAmB,CAACoF,IAAI,GAAG,UAAAN,CAAC;IAAA,OAAI9E,mBAAmB,CAACuB,QAAQ,CAAC,MAAM,EAAEuD,CAAC,CAAC;EAAA;EACvE9E,mBAAmB,CAACqF,MAAM,GAAG,UAAAP,CAAC;IAAA,OAAI9E,mBAAmB,CAAC+B,QAAQ,CAAC,GAAG,EAAE+C,CAAC,CAAC;EAAA;EACtE9E,mBAAmB,CAACsF,OAAO,GAAG,UAAAR,CAAC;IAAA,OAAI9E,mBAAmB,CAACyC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAEqC,CAAC,CAAC;EAAA;EAChF9E,mBAAmB,CAACuF,GAAG,GAAG,UAAC7C,IAAI,EAAEoC,CAAC;IAAA,OAAK9E,mBAAmB,CAACyC,WAAW,CAAC,KAAK,EAAEC,IAAI,EAAEoC,CAAC,CAAC;EAAA;EACtF9E,mBAAmB,CAACwF,KAAK,GAAG,UAAC9C,IAAI,EAAEoC,CAAC;IAAA,OAAK9E,mBAAmB,CAACyC,WAAW,CAAC,OAAO,EAAEC,IAAI,EAAEoC,CAAC,CAAC;EAAA;EAE1F,SAASW,eAAeA,CAACC,GAAG,EAAEC,MAAM,EAAEC,MAAM,EAAE;IAC1C,OAAO;MACH,OAAO,EAAE5F,mBAAmB,CAACC,KAAK,CAAC0F,MAAM,CAAC;MAC1C,qBAAqB,EAAE3F,mBAAmB,CAAC6E,WAAW,CAACc,MAAM,CAAC;MAC9D,oBAAoB,EAAE3F,mBAAmB,CAAC+E,UAAU,CAAC,IAAI,CAAC;MAC1D,KAAK,EAAE/E,mBAAmB,CAACmB,GAAG,CAACuE,GAAG,CAAC;MACnC,aAAa,EAAE1F,mBAAmB,CAACmB,GAAG,CAACwE,MAAM,CAAC;MAC9C,SAAS,EAAE3F,mBAAmB,CAACsF,OAAO,CAACI,GAAG,CAAC;MAC3C,QAAQ,EAAE1F,mBAAmB,CAACqF,MAAM,CAACK,GAAG,CAAC;MACzC,iBAAiB,EAAE1F,mBAAmB,CAACuF,GAAG,CAAC,CAAC,EAAEG,GAAG,CAAC;MAClD,2BAA2B,EAAE1F,mBAAmB,CAACwF,KAAK,CAAC,CAAC,EAAEE,GAAG,CAAC;MAC9D,SAAS,EAAE1F,mBAAmB,CAACkF,GAAG,CAACQ,GAAG,CAAC;MACvC,SAAS,EAAE1F,mBAAmB,CAAC5D,GAAG,CAACsJ,GAAG,CAAC;MACvC,OAAO,EAAE1F,mBAAmB,CAACmF,KAAK,CAACO,GAAG,CAAC;MACvC,MAAM,EAAE1F,mBAAmB,CAACoF,IAAI,CAACM,GAAG,CAAC;MACrC,cAAc,EAAE1F,mBAAmB,CAACkD,UAAU,CAACwC,GAAG,CAAC;MACnD,iBAAiB,EAAE1F,mBAAmB,CAACyD,iBAAiB,CAAC,IAAI,EAAEiC,GAAG,CAAC;MACnE,iBAAiB,EAAE1F,mBAAmB,CAACyD,iBAAiB,CAAC,KAAK,EAAEiC,GAAG,CAAC;MACpE,0BAA0B,EAAE1F,mBAAmB,CAAC8D,UAAU,CAAC9D,mBAAmB,CAACmB,GAAG,CAAC,CAAC,EAAE,OAAO,EAAEyE,MAAM,CAAC;MACtG,yBAAyB,EAAE5F,mBAAmB,CAAC8D,UAAU,CAAC9D,mBAAmB,CAACmB,GAAG,CAAC,CAAC,EAAE,KAAK,EAAEyE,MAAM,CAAC;MACnG,4BAA4B,EAAE5F,mBAAmB,CAAC8D,UAAU,CAAC9D,mBAAmB,CAACmB,GAAG,CAAC,CAAC,EAAE,KAAK,EAAEyE,MAAM,CAAC;MACtG,4BAA4B,EAAE5F,mBAAmB,CAAC8D,UAAU,CAAC9D,mBAAmB,CAACC,KAAK,CAAC,CAAC,EAAE,OAAO,EAAE2F,MAAM,CAAC;MAC1G,2BAA2B,EAAE5F,mBAAmB,CAAC8D,UAAU,CAAC9D,mBAAmB,CAACC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE2F,MAAM,CAAC;MACvG,8BAA8B,EAAE5F,mBAAmB,CAAC8D,UAAU,CAAC9D,mBAAmB,CAACC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE2F,MAAM;IAC7G,CAAC;EACL;;EAEA;EACA,IAAMC,kBAAkB,GAAGJ,eAAe,CAAC5F,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;EAErE,IAAM+F,SAAS,GAAG;IACd,OAAO,WAAAC,MAAC5F,IAAI,EAAErC,IAAI,EAAE;MAChB,OAAOkI,kBAAkB,CAAC7F,IAAI,EAAErC,IAAI,CAAC;IACzC,CAAC;IACD,gBAAgB,WAAAmI,cAAC9F,IAAI,EAAErC,IAAI,EAAE;MACzB,OAAOtC,CAAC,CAACwK,kBAAkB,CAAC7F,IAAI,EAAErC,IAAI,CAAC,CAAC,CAACoI,QAAQ,CAAC,CAAC;IACvD,CAAC;IACD,SAAS,WAAAC,QAAChG,IAAI,EAAErC,IAAI,EAAE;MAClB,OAAOtC,CAAC,CAACwK,kBAAkB,CAAC7F,IAAI,EAAErC,IAAI,CAAC,CAAC,CAACsI,OAAO,CAAC,SAAS,EAAEtI,IAAI,CAAC;IACrE,CAAC;IACD,aAAa,WAAAuI,WAAClG,IAAI,EAAErC,IAAI,EAAE;MACtB,OAAOtC,CAAC,CAACwK,kBAAkB,CAAC7F,IAAI,EAAErC,IAAI,CAAC,CAAC,CAACsI,OAAO,CAAC,YAAY,EAAEtI,IAAI,CAAC;IACxE,CAAC;IACD,aAAa,WAAAwI,WAACnG,IAAI,EAAErC,IAAI,EAAE;MACtB,OAAOtC,CAAC,CAACwK,kBAAkB,CAAC7F,IAAI,EAAErC,IAAI,CAAC,CAAC,CAACsI,OAAO,CAAC,YAAY,EAAEtI,IAAI,CAAC;IACxE;EACJ,CAAC;EAED,IAAMyI,OAAO,GAAG;IACZC,EAAE,EAAE;MACAC,UAAU,EAAE;QACRlG,MAAM,EAAEV,KAAK;QACb6G,SAAS,EAAE5G,QAAQ;QACnB6G,SAAS,EAAE5G;MACf,CAAC;MACD+F,SAAS,EAATA,SAAS;MACTc,aAAa,EAAE;QACXC,WAAW,EAAE,qDAAqD;QAClEC,YAAY,EAAE,qDAAqD;QACnEC,aAAa,EAAE,gDAAgD;QAC/DC,SAAS,EAAE,YAAY;QACvBC,UAAU,EAAE,aAAa;QACzBC,OAAO,EAAE,oBAAoB;QAC7BC,aAAa,EAAE,eAAe;QAC9BlI,KAAK,EAAE,OAAO;QACdmI,MAAM,EAAE,QAAQ;QAChBC,MAAM,EAAE,QAAQ;QAAE;QAClBC,EAAE,EAAE,IAAI;QAAE;QACVC,EAAE,EAAE,IAAI;QAAE;QACVC,aAAa,EAAE,UAAU;QACzBC,WAAW,EAAE,QAAQ;QACrBC,WAAW,EAAE,QAAQ;QACrBC,SAAS,EAAE,SAAS;QACpBC,SAAS,EAAE,MAAM;QACjBC,WAAW,EAAE;MACjB;IACJ;EACJ,CAAC;EAED,SAAAC,EAAA,MAAAC,YAAA,GAAkBC,MAAM,CAACpM,IAAI,CAACiK,kBAAkB,CAAC,EAAAiC,EAAA,GAAAC,YAAA,CAAAzL,MAAA,EAAAwL,EAAA,IAAE;IAA9C,IAAMpD,GAAG,GAAAqD,YAAA,CAAAD,EAAA;IACVvB,OAAO,CAACC,EAAE,CAACI,aAAa,CAAClC,GAAG,CAAC,GAAGA,GAAG;EACvC;;EAEA;EACA,IAAMuD,UAAU,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;EACvG,IAAMC,UAAU,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;EACpE,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAGC,MAAM;IAAA,OAAI,CAAC,GAAG,GAAGA,MAAM,EAAEC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAAA;EAEtD,IAAMC,QAAQ,GAAG;IACbC,GAAG,WAAAA,IAACjE,GAAG,EAAEkE,QAAQ,EAAE;MACf,OAAO,UAAAxH,MAAM;QAAA,OAAIA,MAAM,CAACsD,GAAG,CAAC,GAAItD,MAAM,CAACsD,GAAG,CAAC,GAAGkE,QAAS;MAAA;IAC3D,CAAC;IACDC,UAAU,WAAAA,WAACnE,GAAG,EAAEoE,YAAY,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;MACzD,IAAIF,SAAS,IAAI,IAAI,EAAE;QACnBA,SAAS,GAAG,KAAK;MACrB;MACA,IAAIC,QAAQ,IAAI,IAAI,EAAE;QAClBA,QAAQ,GAAGX,UAAU;MACzB;MACA,IAAIY,QAAQ,IAAI,IAAI,EAAE;QAClBA,QAAQ,GAAGX,UAAU;MACzB;MACA,IAAMY,GAAG,GAAGH,SAAS,GAAG,KAAK,GAAG,EAAE;MAClC,OAAO,UAAU3H,MAAM,EAAE;QAAE;QACvB,IAAM5B,IAAI,GAAG,IAAIK,IAAI,CAACA,IAAI,CAACsJ,KAAK,CAAC/H,MAAM,CAACsD,GAAG,CAAC,CAAC,CAAC;QAC9C,IAAIjG,KAAK,CAACe,IAAI,CAAC,EAAE;UACb,OAAO,EAAE;QACb;QACA,OAAOsJ,YAAY,CAAC9K,OAAO,CAAC,OAAO,EAAE,UAAUkF,CAAC,EAAEjG,CAAC,EAAE;UACjD,QAAQA,CAAC;YACL,KAAK,GAAG;cACJ,OAAOuC,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,cAAW,CAAC,CAAC;YACtC,KAAK,GAAG;cACJ,OAAOX,OAAO,CAAC/I,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,WAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;YAChD,KAAK,GAAG;cACJ,OAAOF,QAAQ,CAACxJ,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,WAAQ,CAAC,CAAC,CAAC;YAC7C,KAAK,GAAG;cACJ,OAAOX,OAAO,CAAC/I,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,UAAO,CAAC,CAAC,CAAC;YAC3C,KAAK,GAAG;cACJ,OAAOD,QAAQ,CAACzJ,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,SAAM,CAAC,CAAC,CAAC;YAC3C,KAAK,GAAG;cACJ,OAAO1J,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,SAAM,CAAC,CAAC;YACjC,KAAK,GAAG;cACJ,OAAOX,OAAO,CAAC/I,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,WAAQ,CAAC,CAAC,CAAC;YAC5C,KAAK,GAAG;cACJ,OAAOX,OAAO,CAAC/I,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,aAAU,CAAC,CAAC,CAAC;YAC9C,KAAK,GAAG;cACJ,OAAOX,OAAO,CAAC/I,IAAI,OAAAwF,MAAA,CAAOkE,GAAG,aAAU,CAAC,CAAC,CAAC;YAC9C;cACI,OAAO,GAAG,GAAGjM,CAAC;UACtB;QACJ,CAAC,CAAC;MACN,CAAC;IACL;EACJ,CAAC;EAED,IAAMmM,EAAE,GAAG,cAAc;EACzB,IAAMC,EAAE,GAAG,IAAI;EACf,IAAMC,EAAE,GAAG,IAAI;EACf,IAAMlE,WAAW,GAAG,SAAdA,WAAWA,CAAImE,EAAE,EAAEC,EAAE,EAAEC,WAAW,EAAK;IACzC;IACA,IAAIA,WAAW,IAAI,IAAI,EAAE;MACrBA,WAAW,GAAG,IAAI;IACtB;IACA,IAAMC,EAAE,GAAGD,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/B,IAAKD,EAAE,IAAI,IAAI,IAAMD,EAAE,IAAI,IAAK,EAAE;MAC9B,OAAO,CAAC,CAAC,GAAGG,EAAE;IAClB;IACA,IAAKH,EAAE,IAAI,IAAI,IAAMC,EAAE,IAAI,IAAK,EAAE;MAC9B,OAAO,CAAC,GAAGE,EAAE;IACjB;;IAEA;IACA,IAAK,OAAOH,EAAE,KAAK,QAAQ,IAAK9K,KAAK,CAAC8K,EAAE,CAAC,EAAE;MACvC,OAAO,CAAC,CAAC;IACb;IACA,IAAK,OAAOC,EAAE,KAAK,QAAQ,IAAK/K,KAAK,CAAC+K,EAAE,CAAC,EAAE;MACvC,OAAO,CAAC;IACZ;;IAEA;IACA,IAAMG,GAAG,GAAG,CAACJ,EAAE;IACf,IAAMK,GAAG,GAAG,CAACJ,EAAE;IACf,IAAIG,GAAG,GAAGC,GAAG,EAAE;MACX,OAAO,CAAC,CAAC;IACb;IACA,IAAID,GAAG,GAAGC,GAAG,EAAE;MACX,OAAO,CAAC;IACZ;;IAEA;IACA,IAAK,OAAOL,EAAE,KAAK,QAAQ,IAAM,OAAOC,EAAE,KAAK,QAAS,EAAE;MACtD,OAAO,CAAC,CAAC;IACb;IACA,IAAK,OAAOA,EAAE,KAAK,QAAQ,IAAM,OAAOD,EAAE,KAAK,QAAS,EAAE;MACtD,OAAO,CAAC;IACZ;IACA,IAAK,OAAOA,EAAE,KAAK,QAAQ,IAAM,OAAOC,EAAE,KAAK,QAAS,EAAE;MACtD,OAAO,CAAC;IACZ;;IAEA;IACA,IAAI/K,KAAK,CAACmL,GAAG,CAAC,IAAI,CAACnL,KAAK,CAACkL,GAAG,CAAC,EAAE;MAC3B,OAAO,CAAC,CAAC;IACb;IACA,IAAIlL,KAAK,CAACkL,GAAG,CAAC,IAAI,CAAClL,KAAK,CAACmL,GAAG,CAAC,EAAE;MAC3B,OAAO,CAAC;IACZ;;IAEA;IACA,IAAInH,CAAC,GAAGoH,MAAM,CAACN,EAAE,CAAC;IAClB,IAAI7G,CAAC,GAAGmH,MAAM,CAACL,EAAE,CAAC;IAClB,IAAI/G,CAAC,KAAKC,CAAC,EAAE;MACT,OAAO,CAAC;IACZ;IACA,IAAI,CAAC2G,EAAE,CAACtL,IAAI,CAAC0E,CAAC,CAAC,IAAI,CAAC4G,EAAE,CAACtL,IAAI,CAAC2E,CAAC,CAAC,EAAE;MAC5B,OAAQD,CAAC,GAAGC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC1B;;IAEA;IACAD,CAAC,GAAGA,CAAC,CAACqH,KAAK,CAACV,EAAE,CAAC,CAAC,CAAC;IACjB1G,CAAC,GAAGA,CAAC,CAACoH,KAAK,CAACV,EAAE,CAAC;IACf,OAAO3G,CAAC,CAAC/F,MAAM,IAAIgG,CAAC,CAAChG,MAAM,EAAE;MACzB,IAAMqN,EAAE,GAAGtH,CAAC,CAACuH,KAAK,CAAC,CAAC;MACpB,IAAMC,EAAE,GAAGvH,CAAC,CAACsH,KAAK,CAAC,CAAC;MACpB,IAAID,EAAE,KAAKE,EAAE,EAAE;QACX,IAAIZ,EAAE,CAACtL,IAAI,CAACgM,EAAE,CAAC,IAAIV,EAAE,CAACtL,IAAI,CAACkM,EAAE,CAAC,EAAE;UAAE;UAC9B,OAAOF,EAAE,CAAC/L,OAAO,CAACsL,EAAE,EAAE,IAAI,CAAC,GAAGW,EAAE,CAACjM,OAAO,CAACsL,EAAE,EAAE,IAAI,CAAC;QACtD,CAAC,MAAM;UACH,OAAQS,EAAE,GAAGE,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAC5B;MACJ;IACJ;IACA,OAAOxH,CAAC,CAAC/F,MAAM,GAAGgG,CAAC,CAAChG,MAAM;EAC9B,CAAC;EAED,IAAMwN,MAAM,GAAG,SAATA,MAAMA,CAAaC,KAAK,EAAE;IAC5B,IAAMC,OAAO,GAAG,CAAC,CAAC;IAClB,IAAMC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;IACtB,KAAK,IAAIrN,CAAC,IAAImN,KAAK,EAAE;MACjB,IAAMzM,CAAC,GAAGyM,KAAK,CAACnN,CAAC,CAAC;MAClBoN,OAAO,CAAC1M,CAAC,CAAC,GAAGV,CAAC;MACd,IAAI,OAAOU,CAAC,KAAK,QAAQ,EAAE;QACvB2M,SAAS,CAAC3M,CAAC,CAAC4M,WAAW,CAAC,CAAC,CAAC,GAAGtN,CAAC;MAClC;IACJ;IACA,OAAO,UAAUyF,CAAC,EAAEC,CAAC,EAAE;MACnB,IAAK0H,OAAO,CAAC3H,CAAC,CAAC,IAAI,IAAI,IAAM2H,OAAO,CAAC1H,CAAC,CAAC,IAAI,IAAK,EAAE;QAC9C,OAAO0H,OAAO,CAAC3H,CAAC,CAAC,GAAG2H,OAAO,CAAC1H,CAAC,CAAC;MAClC,CAAC,MAAM,IAAI0H,OAAO,CAAC3H,CAAC,CAAC,IAAI,IAAI,EAAE;QAC3B,OAAO,CAAC,CAAC;MACb,CAAC,MAAM,IAAI2H,OAAO,CAAC1H,CAAC,CAAC,IAAI,IAAI,EAAE;QAC3B,OAAO,CAAC;MACZ,CAAC,MAAM,IAAK2H,SAAS,CAAC5H,CAAC,CAAC,IAAI,IAAI,IAAM4H,SAAS,CAAC3H,CAAC,CAAC,IAAI,IAAK,EAAE;QACzD,OAAO2H,SAAS,CAAC5H,CAAC,CAAC,GAAG4H,SAAS,CAAC3H,CAAC,CAAC;MACtC,CAAC,MAAM,IAAI2H,SAAS,CAAC5H,CAAC,CAAC,IAAI,IAAI,EAAE;QAC7B,OAAO,CAAC,CAAC;MACb,CAAC,MAAM,IAAI4H,SAAS,CAAC3H,CAAC,CAAC,IAAI,IAAI,EAAE;QAC7B,OAAO,CAAC;MACZ,CAAC,MAAM;QACH,OAAO0C,WAAW,CAAC3C,CAAC,EAAEC,CAAC,CAAC;MAC5B;IACJ,CAAC;EACL,CAAC;EAED,SAAST,OAAOA,CAACC,OAAO,EAAEhB,IAAI,EAAE;IAC5B,IAAIgB,OAAO,IAAI,IAAI,EAAE;MACjB,IAAItG,CAAC,CAAC2O,UAAU,CAACrI,OAAO,CAAC,EAAE;QACvB,IAAMM,IAAI,GAAGN,OAAO,CAAChB,IAAI,CAAC;QAC1B,IAAItF,CAAC,CAAC2O,UAAU,CAAC/H,IAAI,CAAC,EAAE;UACpB,OAAOA,IAAI;QACf;MACJ,CAAC,MAAM,IAAIN,OAAO,CAAChB,IAAI,CAAC,IAAI,IAAI,EAAE;QAC9B,OAAOgB,OAAO,CAAChB,IAAI,CAAC;MACxB;IACJ;IACA,OAAOkE,WAAW;EACtB;EAEA,IAAMoF,cAAc,GAAG,SAAjBA,cAAcA,CAAIxO,IAAI,EAAEU,MAAM;IAAA,OAAKV,IAAI,CAACyO,MAAM,CAAC,UAAA/M,CAAC;MAAA,OAAIA,CAAC,CAAChB,MAAM,KAAKA,MAAM;IAAA,EAAC;EAAA;EAE9E,IAAMgO,SAAS,GAAG,SAAZA,SAASA,CAAGC,KAAK;IAAA,OAAIA,KAAK,CAACC,GAAG,CAAC,UAACC,CAAC,EAAE7N,CAAC;MAAA,OAAK2N,KAAK,CAACG,KAAK,CAAC,CAAC,EAAE9N,CAAC,GAAG,CAAC,CAAC;IAAA,EAAC;EAAA,EAAC,CAAE;;EAExE,SAAS+N,aAAaA,CAACxK,IAAI,EAAE;IACzB6H,MAAM,CAAC4C,OAAO,CAACzK,IAAI,CAAC,CAAC0K,OAAO,CAAC,UAAAC,MAAA,EAAkB;MAAA,IAAAC,MAAA,GAAAlK,cAAA,CAAAiK,MAAA;QAAhBE,GAAG,GAAAD,MAAA;QAAEpM,KAAK,GAAAoM,MAAA;MACrC,IAAIpM,KAAK,YAAYc,IAAI,EAAE;QACvBU,IAAI,CAAC6K,GAAG,CAAC,GAAGrM,KAAK,CAACsM,WAAW,CAAC,CAAC;MACnC;IACJ,CAAC,CAAC;IAEF,OAAO9K,IAAI;EACf;;EAEA;AACJ;AACA;EAFI,IAIM+K,SAAS;IACX,SAAAA,UAAYC,KAAK,EAAErN,IAAI,EAAE;MAAA,IAAAsN,KAAA;MAAAC,eAAA,OAAAH,SAAA;MACrB,IAAI,CAACI,OAAO,GAAG,IAAI,CAACA,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC;MACtC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC;MACxC,IAAI,CAACE,UAAU,GAAG,IAAI,CAACA,UAAU,CAACF,IAAI,CAAC,IAAI,CAAC;MAC5C,IAAI,CAACG,UAAU,GAAG,IAAI,CAACA,UAAU,CAACH,IAAI,CAAC,IAAI,CAAC;MAC5C,IAAI,CAAC5G,aAAa,GAAG,IAAI,CAACA,aAAa,CAAC4G,IAAI,CAAC,IAAI,CAAC;MAClD,IAAIzN,IAAI,IAAI,IAAI,EAAE;QACdA,IAAI,GAAG,CAAC,CAAC;MACb;MACA,IAAI,CAACqN,KAAK,GAAGA,KAAK;MAClB,IAAI,CAAClH,KAAK,CAAC0H,OAAO,CAAC7N,IAAI,CAACzB,UAAU,CAAC,EAAE;QACjCyB,IAAI,CAACzB,UAAU,GAAGyB,IAAI,CAACzB,UAAU,IAAI,IAAI,GAAGyB,IAAI,CAACzB,UAAU,GAAG2D,mBAAmB,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3FnC,IAAI,CAACzB,UAAU,GAAG,CAACyB,IAAI,CAACzB,UAAU,CAAC;MACvC;MACA,IAAI,CAACA,UAAU,GAAGyB,IAAI,CAACzB,UAAU,IAAI,IAAI,GAAGyB,IAAI,CAACzB,UAAU,GAAG,CAAC2D,mBAAmB,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7F,IAAI,CAAC2L,cAAc,GAAG9N,IAAI,CAAC8N,cAAc,IAAI,IAAI,GAAG9N,IAAI,CAAC8N,cAAc,GAAG,OAAO;MACjF,IAAI,CAACC,QAAQ,GAAG/N,IAAI,CAACgO,IAAI,IAAI,IAAI,GAAGhO,IAAI,CAACgO,IAAI,GAAG,EAAE;MAClD,IAAI,CAACC,QAAQ,GAAGjO,IAAI,CAACnC,IAAI,IAAI,IAAI,GAAGmC,IAAI,CAACnC,IAAI,GAAG,EAAE;MAClD,IAAI,CAACqQ,QAAQ,GAAGlO,IAAI,CAACqE,IAAI,IAAI,IAAI,GAAGrE,IAAI,CAACqE,IAAI,GAAG,EAAE;MAClD,IAAI,CAACL,OAAO,GAAGhE,IAAI,CAACgE,OAAO,IAAI,IAAI,GAAGhE,IAAI,CAACgE,OAAO,GAAG,CAAC,CAAC;MACvD,IAAI,CAACmK,QAAQ,GAAGnO,IAAI,CAACmO,QAAQ,IAAI,IAAI,GAAGnO,IAAI,CAACmO,QAAQ,GAAG,YAAY;MACpE,IAAI,CAACC,QAAQ,GAAGpO,IAAI,CAACoO,QAAQ,IAAI,IAAI,GAAGpO,IAAI,CAACoO,QAAQ,GAAG,YAAY;MACpE,IAAI,CAACC,iBAAiB,GAAGrO,IAAI,CAACqO,iBAAiB,IAAI,IAAI,GAAGrO,IAAI,CAACqO,iBAAiB,GAAG,CAAC,CAAC;MACrF,IAAI,CAAC9B,MAAM,GAAGvM,IAAI,CAACuM,MAAM,IAAI,IAAI,GAAGvM,IAAI,CAACuM,MAAM,GAAI;QAAA,OAAM,IAAI;MAAA,CAAC;MAC9D,IAAI,CAAC+B,IAAI,GAAG,CAAC,CAAC;MACd,IAAI,CAACC,OAAO,GAAG,EAAE;MACjB,IAAI,CAACC,OAAO,GAAG,EAAE;MACjB,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;MACnB,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;MACnB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACpQ,UAAU,CAACmO,GAAG,CAAC,UAAA9F,GAAG;QAAA,OAAIA,GAAG,CAAC0G,KAAI,EAAE,EAAE,EAAE,EAAE,CAAC;MAAA,EAAC;MAC7D,IAAI,CAACsB,MAAM,GAAG,KAAK;MACnB,IAAI,CAACC,gBAAgB,GAAG7O,IAAI,CAAC6O,gBAAgB,IAAI,IAAI,GAAG7O,IAAI,CAAC6O,gBAAgB,GAAG,EAAE;MAClF,IAAI,CAACC,QAAQ,GAAG9O,IAAI,CAAC8O,QAAQ,IAAI,IAAI,GAAG9O,IAAI,CAAC8O,QAAQ,GAAG,KAAK;MAC7D,IAAI,CAACC,cAAc,GAAG,CAAC/O,IAAI,CAAC8O,QAAQ,IAAI,IAAI,GAAG9O,IAAI,CAAC8O,QAAQ,CAACC,cAAc,GAAGlM,SAAS,KAAK,IAAI,GAAI7C,IAAI,CAAC8O,QAAQ,IAAI,IAAI,GAAG9O,IAAI,CAAC8O,QAAQ,CAACC,cAAc,GAAGlM,SAAS,GAAI,IAAI;MAC5K,IAAI,CAACmM,cAAc,GAAG,CAAChP,IAAI,CAAC8O,QAAQ,IAAI,IAAI,GAAG9O,IAAI,CAAC8O,QAAQ,CAACE,cAAc,GAAGnM,SAAS,KAAK,IAAI,GAAI7C,IAAI,CAAC8O,QAAQ,IAAI,IAAI,GAAG9O,IAAI,CAAC8O,QAAQ,CAACE,cAAc,GAAGnM,SAAS,GAAI,KAAK;;MAE7K;MACAuK,SAAS,CAAC6B,aAAa,CAAC,IAAI,CAAC5B,KAAK,EAAE,IAAI,CAACgB,iBAAiB,EAAE,UAAAnL,MAAM,EAAI;QAClE,IAAIoK,KAAI,CAACf,MAAM,CAACrJ,MAAM,CAAC,EAAE;UACrB,OAAOoK,KAAI,CAAC4B,aAAa,CAACrC,aAAa,CAAC3J,MAAM,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IACN;;IAEA;IAAA,OAAAiM,YAAA,CAAA/B,SAAA;MAAAF,GAAA;MAAArM,KAAA,EAgEA,SAAAuO,sBAAsBC,QAAQ,EAAEC,QAAQ,EAAE;QAAA,IAAAC,MAAA;QACtC,OAAOnC,SAAS,CAAC6B,aAAa,CAAC,IAAI,CAAC5B,KAAK,EAAE,IAAI,CAACgB,iBAAiB,EAAE,UAAAnL,MAAM,EAAI;UACzE,IAAI,CAACqM,MAAI,CAAChD,MAAM,CAACrJ,MAAM,CAAC,EAAE;YACtB;UACJ;UACA,KAAK,IAAIsM,CAAC,IAAIH,QAAQ,EAAE;YACpB,IAAMI,CAAC,GAAGJ,QAAQ,CAACG,CAAC,CAAC;YACrB,IAAIC,CAAC,MAAMvM,MAAM,CAACsM,CAAC,CAAC,IAAI,IAAI,GAAGtM,MAAM,CAACsM,CAAC,CAAC,GAAG,MAAM,CAAC,EAAE;cAChD;YACJ;UACJ;UACA,OAAOF,QAAQ,CAACpM,MAAM,CAAC;QAC3B,CAAC,CAAC;MACN;IAAC;MAAAgK,GAAA;MAAArM,KAAA,EAED,SAAA2M,QAAQkC,KAAK,EAAEnE,WAAW,EAAE;QAExB,IAAMoE,UAAU,GAAG,EAAE;QAAC,IAAAC,SAAA,GAAAC,0BAAA,CACNH,KAAK;UAAAI,KAAA;QAAA;UAArB,KAAAF,SAAA,CAAA3K,CAAA,MAAA6K,KAAA,GAAAF,SAAA,CAAA7K,CAAA,IAAAgL,IAAA,GAAuB;YAAA,IAAZxL,CAAC,GAAAuL,KAAA,CAAAjP,KAAA;YACR8O,UAAU,CAACnN,IAAI,CAACuB,OAAO,CAAC,IAAI,CAACC,OAAO,EAAEO,CAAC,CAAC,CAAC;UAC7C;QAAC,SAAAyL,GAAA;UAAAJ,SAAA,CAAA/N,CAAA,CAAAmO,GAAA;QAAA;UAAAJ,SAAA,CAAA5I,CAAA;QAAA;QAED,OAAO,UAAUzC,CAAC,EAAEC,CAAC,EAAE;UACnB,SAAAyL,GAAA,MAAAC,aAAA,GAAchG,MAAM,CAACpM,IAAI,CAAC6R,UAAU,IAAI,CAAC,CAAC,CAAC,EAAAM,GAAA,GAAAC,aAAA,CAAA1R,MAAA,EAAAyR,GAAA,IAAE;YAAxC,IAAInR,CAAC,GAAAoR,aAAA,CAAAD,GAAA;YACN,IAAMnM,MAAM,GAAG6L,UAAU,CAAC7Q,CAAC,CAAC;YAC5B,IAAMqR,UAAU,GAAGrM,MAAM,CAACS,CAAC,CAACzF,CAAC,CAAC,EAAE0F,CAAC,CAAC1F,CAAC,CAAC,EAAEyM,WAAW,CAAC;YAClD,IAAI4E,UAAU,KAAK,CAAC,EAAE;cAClB,OAAOA,UAAU;YACrB;UACJ;UACA,OAAO,CAAC;QACZ,CAAC;MACL;IAAC;MAAAjD,GAAA;MAAArM,KAAA,EAED,SAAA6M,SAAA,EAAW;QAAA,IAAA0C,MAAA;QACP,IAAI,CAAC,IAAI,CAACxB,MAAM,EAAE;UACd,IAAI,CAACA,MAAM,GAAG,IAAI;UAClB,IAAMa,CAAC,GAAG,SAAJA,CAACA,CAAIY,CAAC,EAAEC,CAAC;YAAA,OAAKF,MAAI,CAACvJ,aAAa,CAACwJ,CAAC,EAAEC,CAAC,CAAC,CAACzP,KAAK,CAAC,CAAC;UAAA;UACpD,QAAQ,IAAI,CAACsN,QAAQ;YACjB,KAAK,cAAc;cACf,IAAI,CAACI,OAAO,CAACjK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;gBAAA,OAAK0C,WAAW,CAACuI,CAAC,CAAClL,CAAC,EAAE,EAAE,CAAC,EAAEkL,CAAC,CAACjL,CAAC,EAAE,EAAE,CAAC,CAAC;cAAA,EAAC;cAC5D;YACJ,KAAK,cAAc;cACf,IAAI,CAAC+J,OAAO,CAACjK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;gBAAA,OAAK,CAAC0C,WAAW,CAACuI,CAAC,CAAClL,CAAC,EAAE,EAAE,CAAC,EAAEkL,CAAC,CAACjL,CAAC,EAAE,EAAE,CAAC,CAAC;cAAA,EAAC;cAC7D;YACJ;cACI,IAAI,CAAC+J,OAAO,CAACjK,IAAI,CAAC,IAAI,CAACkJ,OAAO,CAAC,IAAI,CAACS,QAAQ,EAAE,IAAI,CAACc,cAAc,CAAC,CAAC;UAC3E;UACA,QAAQ,IAAI,CAACX,QAAQ;YACjB,KAAK,cAAc;cACf,OAAO,IAAI,CAACI,OAAO,CAAClK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;gBAAA,OAAK0C,WAAW,CAACuI,CAAC,CAAC,EAAE,EAAElL,CAAC,CAAC,EAAEkL,CAAC,CAAC,EAAE,EAAEjL,CAAC,CAAC,CAAC;cAAA,EAAC;YACvE,KAAK,cAAc;cACf,OAAO,IAAI,CAACgK,OAAO,CAAClK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;gBAAA,OAAK,CAAC0C,WAAW,CAACuI,CAAC,CAAC,EAAE,EAAElL,CAAC,CAAC,EAAEkL,CAAC,CAAC,EAAE,EAAEjL,CAAC,CAAC,CAAC;cAAA,EAAC;YACxE;cACI,OAAO,IAAI,CAACgK,OAAO,CAAClK,IAAI,CAAC,IAAI,CAACkJ,OAAO,CAAC,IAAI,CAACO,QAAQ,EAAE,IAAI,CAACiB,cAAc,CAAC,CAAC;UAClF;QACJ;MACJ;IAAC;MAAA9B,GAAA;MAAArM,KAAA,EAED,SAAA8M,WAAW4C,QAAQ,EAAE;QACjB,IAAIA,QAAQ,IAAI,IAAI,EAAE;UAClBA,QAAQ,GAAG,KAAK;QACpB;QACA,IAAI,CAAC7C,QAAQ,CAAC,CAAC;QACf,IAAI6C,QAAQ,EAAE;UACV,OAAO,IAAI,CAAC/B,OAAO;QACvB,CAAC,MAAM;UACH,OAAOlC,cAAc,CAAC,IAAI,CAACkC,OAAO,EAAE,IAAI,CAACT,QAAQ,CAACvP,MAAM,CAAC;QAC7D;MACJ;IAAC;MAAA0O,GAAA;MAAArM,KAAA,EAED,SAAA+M,WAAW2C,QAAQ,EAAE;QACjB,IAAIA,QAAQ,IAAI,IAAI,EAAE;UAClBA,QAAQ,GAAG,KAAK;QACpB;QACA,IAAI,CAAC7C,QAAQ,CAAC,CAAC;QACf,IAAI6C,QAAQ,EAAE;UACV,OAAO,IAAI,CAAChC,OAAO;QACvB,CAAC,MAAM;UACH,OAAOjC,cAAc,CAAC,IAAI,CAACiC,OAAO,EAAE,IAAI,CAACN,QAAQ,CAACzP,MAAM,CAAC;QAC7D;MACJ;IAAC;MAAA0O,GAAA;MAAArM,KAAA,EAED,SAAAqO,cAAchM,MAAM,EAAE;QAAA,IAAAsN,MAAA;QAAE;QACpB,IAAIhR,CAAC;QACL,IAAIgP,OAAO,GAAG,EAAE;QAChB,IAAID,OAAO,GAAG,EAAE;QAAC,IAAAkC,UAAA,GAAAZ,0BAAA,CACP,IAAI,CAAC9B,QAAQ;UAAA2C,MAAA;QAAA;UAAvB,KAAAD,UAAA,CAAAxL,CAAA,MAAAyL,MAAA,GAAAD,UAAA,CAAA1L,CAAA,IAAAgL,IAAA,GAAyB;YAApBvQ,CAAC,GAAAkR,MAAA,CAAA7P,KAAA;YACF2N,OAAO,CAAChM,IAAI,CAACU,MAAM,CAAC1D,CAAC,CAAC,IAAI,IAAI,GAAG0D,MAAM,CAAC1D,CAAC,CAAC,GAAG,MAAM,CAAC;UACxD;QAAC,SAAAwQ,GAAA;UAAAS,UAAA,CAAA5O,CAAA,CAAAmO,GAAA;QAAA;UAAAS,UAAA,CAAAzJ,CAAA;QAAA;QAAA,IAAA2J,UAAA,GAAAd,0BAAA,CACS,IAAI,CAAC5B,QAAQ;UAAA2C,MAAA;QAAA;UAAvB,KAAAD,UAAA,CAAA1L,CAAA,MAAA2L,MAAA,GAAAD,UAAA,CAAA5L,CAAA,IAAAgL,IAAA,GAAyB;YAApBvQ,CAAC,GAAAoR,MAAA,CAAA/P,KAAA;YACF0N,OAAO,CAAC/L,IAAI,CAACU,MAAM,CAAC1D,CAAC,CAAC,IAAI,IAAI,GAAG0D,MAAM,CAAC1D,CAAC,CAAC,GAAG,MAAM,CAAC;UACxD;QAAC,SAAAwQ,GAAA;UAAAW,UAAA,CAAA9O,CAAA,CAAAmO,GAAA;QAAA;UAAAW,UAAA,CAAA3J,CAAA;QAAA;QACDwH,OAAO,GAAG,IAAI,CAACM,QAAQ,IAAIN,OAAO,CAAChQ,MAAM,GAAGgO,SAAS,CAACgC,OAAO,CAAC,GAAG,CAACA,OAAO,CAAC;QAC1ED,OAAO,GAAG,IAAI,CAACO,QAAQ,IAAIP,OAAO,CAAC/P,MAAM,GAAGgO,SAAS,CAAC+B,OAAO,CAAC,GAAG,CAACA,OAAO,CAAC;QAE1E,IAAI,CAAChQ,UAAU,CAACwO,OAAO,CAAC,UAACnG,GAAG,EAAED,EAAE,EAAK;UACjC,OAAO6J,MAAI,CAAC7B,QAAQ,CAAChI,EAAE,CAAC,CAACnE,IAAI,CAACU,MAAM,CAAC;QACzC,CAAC,CAAC;QAEF,IAAMzC,MAAM,GAAG,EAAE;QAAC,IAAAoQ,KAAA,YAAAA,MAAA,EACK;UACnB,IAAMvO,MAAM,GAAGiM,OAAO,CAACuC,CAAC,CAAC;UACzB,IAAMC,UAAU,GAAGzO,MAAM,CAAC6E,IAAI,CAACwE,MAAM,CAACqF,YAAY,CAAC,CAAC,CAAC,CAAC;UAEtD,IAAMC,OAAO,GAAG,EAAE;UAAC,IAAAC,MAAA,YAAAA,OAAA,EACI;YACnB,IAAM3O,MAAM,GAAGiM,OAAO,CAAC1P,CAAC,CAAC;YACzB,IAAMqS,UAAU,GAAG5O,MAAM,CAAC4E,IAAI,CAACwE,MAAM,CAACqF,YAAY,CAAC,CAAC,CAAC,CAAC;YAEtD,IAAI1O,MAAM,CAAC9D,MAAM,KAAK,CAAC,EAAE;cACrB,IAAI,CAACgS,MAAI,CAAC/B,SAAS,CAACsC,UAAU,CAAC,EAAE;gBAC7BP,MAAI,CAACjC,OAAO,CAAC/L,IAAI,CAACF,MAAM,CAAC;gBACzBkO,MAAI,CAAC/B,SAAS,CAACsC,UAAU,CAAC,GAAGP,MAAI,CAACjS,UAAU,CAACmO,GAAG,CAAC,UAAA9F,GAAG;kBAAA,OAAIA,GAAG,CAAC4J,MAAI,EAAElO,MAAM,EAAE,EAAE,CAAC;gBAAA,EAAC;cAClF;cACAkO,MAAI,CAAC/B,SAAS,CAACsC,UAAU,CAAC,CAAChE,OAAO,CAAC,UAACnG,GAAG,EAAED,EAAE,EAAK;gBAC5C,IAAI,CAAC6J,MAAI,CAAC1B,QAAQ,IAAKvM,MAAM,CAAC/D,MAAM,KAAK,CAAE,EAAE;kBACzC,OAAOoI,GAAG,CAACpE,IAAI,CAACU,MAAM,CAAC;gBAC3B;cACJ,CAAC,CAAC;YACN;YAEA,IAAIX,MAAM,CAAC/D,MAAM,KAAK,CAAC,EAAE;cACrB,IAAI,CAACgS,MAAI,CAAC9B,SAAS,CAACyC,UAAU,CAAC,EAAE;gBAC7BX,MAAI,CAAChC,OAAO,CAAChM,IAAI,CAACD,MAAM,CAAC;gBACzBiO,MAAI,CAAC9B,SAAS,CAACyC,UAAU,CAAC,GAAGX,MAAI,CAACjS,UAAU,CAACmO,GAAG,CAAC,UAAA9F,GAAG;kBAAA,OAAIA,GAAG,CAAC4J,MAAI,EAAE,EAAE,EAAEjO,MAAM,CAAC;gBAAA,EAAC;cAClF;cACAiO,MAAI,CAAC9B,SAAS,CAACyC,UAAU,CAAC,CAACpE,OAAO,CAAC,UAACnG,GAAG,EAAED,EAAE,EAAK;gBAC5C,IAAI,CAAC6J,MAAI,CAAC1B,QAAQ,IAAKxM,MAAM,CAAC9D,MAAM,KAAK,CAAE,EAAE;kBACzC,OAAOoI,GAAG,CAACpE,IAAI,CAACU,MAAM,CAAC;gBAC3B;cACJ,CAAC,CAAC;YACN;YAEA,IAAKX,MAAM,CAAC/D,MAAM,KAAK,CAAC,IAAM8D,MAAM,CAAC9D,MAAM,KAAK,CAAE,EAAE;cAChD,IAAI,CAACgS,MAAI,CAAClC,IAAI,CAACyC,UAAU,CAAC,EAAE;gBACxBP,MAAI,CAAClC,IAAI,CAACyC,UAAU,CAAC,GAAG,CAAC,CAAC;cAC9B;cACA,IAAI,CAACP,MAAI,CAAClC,IAAI,CAACyC,UAAU,CAAC,CAACI,UAAU,CAAC,EAAE;gBACpCX,MAAI,CAAClC,IAAI,CAACyC,UAAU,CAAC,CAACI,UAAU,CAAC,GAAGX,MAAI,CAACjS,UAAU,CAACmO,GAAG,CAAC,UAAA9F,GAAG;kBAAA,OAAIA,GAAG,CAAC4J,MAAI,EAAElO,MAAM,EAAEC,MAAM,CAAC;gBAAA,EAAC;cAC7F;cACA0O,OAAO,CAACzO,IAAI,CAACgO,MAAI,CAAClC,IAAI,CAACyC,UAAU,CAAC,CAACI,UAAU,CAAC,CAACpE,OAAO,CAAC,UAACnG,GAAG,EAAED,EAAE;gBAAA,OAAKC,GAAG,CAACpE,IAAI,CAACU,MAAM,CAAC;cAAA,EAAC,CAAC;YAC1F,CAAC,MAAM;cACH+N,OAAO,CAACzO,IAAI,CAACK,SAAS,CAAC;YAC3B;UACJ,CAAC;UAvCD,KAAK,IAAI/D,CAAC,IAAI0P,OAAO;YAAA0C,MAAA;UAAA;UAwCrBzQ,MAAM,CAAC+B,IAAI,CAACyO,OAAO,CAAC;QACxB,CAAC;QA9CD,KAAK,IAAIH,CAAC,IAAIvC,OAAO;UAAAsC,KAAA;QAAA;QA+CrB,OAAOpQ,MAAM;MACjB;IAAC;MAAAyM,GAAA;MAAArM,KAAA,EAED,SAAAgG,cAAcvE,MAAM,EAAEC,MAAM,EAAEoE,EAAE,EAAE;QAC9B,IAAIC,GAAG;QACP,IAAID,EAAE,IAAI,IAAI,EAAE;UACZA,EAAE,GAAG,CAAC;QACV;QACA,IAAMoK,UAAU,GAAGzO,MAAM,CAAC6E,IAAI,CAACwE,MAAM,CAACqF,YAAY,CAAC,CAAC,CAAC,CAAC;QACtD,IAAMG,UAAU,GAAG5O,MAAM,CAAC4E,IAAI,CAACwE,MAAM,CAACqF,YAAY,CAAC,CAAC,CAAC,CAAC;QACtD,IAAK1O,MAAM,CAAC9D,MAAM,KAAK,CAAC,IAAM+D,MAAM,CAAC/D,MAAM,KAAK,CAAE,EAAE;UAChDoI,GAAG,GAAG,IAAI,CAAC+H,QAAQ,CAAChI,EAAE,CAAC;QAC3B,CAAC,MAAM,IAAIrE,MAAM,CAAC9D,MAAM,KAAK,CAAC,EAAE;UAC5BoI,GAAG,GAAG,IAAI,CAAC8H,SAAS,CAACyC,UAAU,CAAC,IAAI,IAAI,CAACzC,SAAS,CAACyC,UAAU,CAAC,CAACxK,EAAE,CAAC;QACtE,CAAC,MAAM,IAAIpE,MAAM,CAAC/D,MAAM,KAAK,CAAC,EAAE;UAC5BoI,GAAG,GAAG,IAAI,CAAC6H,SAAS,CAACsC,UAAU,CAAC,IAAI,IAAI,CAACtC,SAAS,CAACsC,UAAU,CAAC,CAACpK,EAAE,CAAC;QACtE,CAAC,MAAM;UACHC,GAAG,GAAG,IAAI,CAAC0H,IAAI,CAACyC,UAAU,CAAC,CAACI,UAAU,CAAC,IAAI,IAAI,CAAC7C,IAAI,CAACyC,UAAU,CAAC,CAACI,UAAU,CAAC,CAACxK,EAAE,CAAC;QACpF;QACA,OAAOC,GAAG,IAAI,IAAI,GAAGA,GAAG,GAAG;UACvB/F,KAAK,WAAAA,MAAA,EAAG;YACJ,OAAO,IAAI;UACf,CAAC;UAAE4B,MAAM,WAAAA,OAAA,EAAG;YACR,OAAO,EAAE;UACb;QACJ,CAAC;MACL;IAAC;MAAAyK,GAAA;MAAArM,KAAA,EA7OD,SAAAoO,cAAqB5B,KAAK,EAAEgB,iBAAiB,EAAErH,CAAC,EAAE;QAC9C,IAAIoK,SAAS;QACb,IAAI1T,CAAC,CAAC2T,aAAa,CAAChD,iBAAiB,CAAC,EAAE;UACpC+C,SAAS,GAAGpK,CAAC;QACjB,CAAC,MAAM;UACHoK,SAAS,GAAG,SAAAA,UAAUlO,MAAM,EAAE;YAC1B,KAAK,IAAIsM,CAAC,IAAInB,iBAAiB,EAAE;cAC7B,IAAMoB,CAAC,GAAGpB,iBAAiB,CAACmB,CAAC,CAAC;cAC9B,IAAM8B,IAAI,GAAG7B,CAAC,CAACvM,MAAM,CAAC;cACtB,IAAIoO,IAAI,IAAI,IAAI,EAAE;gBACdpO,MAAM,CAACsM,CAAC,CAAC,GAAG8B,IAAI;cACpB;YACJ;YACA,OAAOtK,CAAC,CAAC9D,MAAM,CAAC;UACpB,CAAC;QACL;;QAEA;QACA,IAAIxF,CAAC,CAAC2O,UAAU,CAACgB,KAAK,CAAC,EAAE;UACrB,OAAOA,KAAK,CAAC+D,SAAS,CAAC;QAC3B,CAAC,MAAM,IAAI1T,CAAC,CAACmQ,OAAO,CAACR,KAAK,CAAC,EAAE;UACzB,IAAI3P,CAAC,CAACmQ,OAAO,CAACR,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;YAAE;YACvB,OAAQ,YAAM;cACV,IAAM5M,MAAM,GAAG,EAAE;cACjB,SAAA8Q,GAAA,MAAAC,aAAA,GAActH,MAAM,CAACpM,IAAI,CAACuP,KAAK,IAAI,CAAC,CAAC,CAAC,EAAAkE,GAAA,GAAAC,aAAA,CAAAhT,MAAA,EAAA+S,GAAA,IAAE;gBAAnC,IAAIzS,CAAC,GAAA0S,aAAA,CAAAD,GAAA;gBACN,IAAME,aAAa,GAAGpE,KAAK,CAACvO,CAAC,CAAC;gBAC9B,IAAIA,CAAC,GAAG,CAAC,EAAE;kBACP,IAAMoE,MAAM,GAAG,CAAC,CAAC;kBACjB,SAAAwO,GAAA,MAAAC,aAAA,GAAczH,MAAM,CAACpM,IAAI,CAACuP,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAAqE,GAAA,GAAAC,aAAA,CAAAnT,MAAA,EAAAkT,GAAA,IAAE;oBAAtC,IAAIZ,CAAC,GAAAa,aAAA,CAAAD,GAAA;oBACN,IAAMlC,CAAC,GAAGnC,KAAK,CAAC,CAAC,CAAC,CAACyD,CAAC,CAAC;oBACrB5N,MAAM,CAACsM,CAAC,CAAC,GAAGiC,aAAa,CAACX,CAAC,CAAC;kBAChC;kBACArQ,MAAM,CAAC+B,IAAI,CAAC4O,SAAS,CAAClO,MAAM,CAAC,CAAC;gBAClC;cACJ;cACA,OAAOzC,MAAM;YACjB,CAAC,CAAE,CAAC;UACR,CAAC,MAAM;YAAE;YACL,OAAQ,YAAM;cACV,IAAMwQ,OAAO,GAAG,EAAE;cAAC,IAAAW,UAAA,GAAA/B,0BAAA,CACAxC,KAAK;gBAAAwE,MAAA;cAAA;gBAAxB,KAAAD,UAAA,CAAA3M,CAAA,MAAA4M,MAAA,GAAAD,UAAA,CAAA7M,CAAA,IAAAgL,IAAA,GAA0B;kBAAA,IAAjB7M,MAAM,GAAA2O,MAAA,CAAAhR,KAAA;kBACXoQ,OAAO,CAACzO,IAAI,CAAC4O,SAAS,CAAClO,MAAM,CAAC,CAAC;gBACnC;cAAC,SAAA8M,GAAA;gBAAA4B,UAAA,CAAA/P,CAAA,CAAAmO,GAAA;cAAA;gBAAA4B,UAAA,CAAA5K,CAAA;cAAA;cACD,OAAOiK,OAAO;YAClB,CAAC,CAAE,CAAC;UACR;QACJ,CAAC,MAAM,IAAI5D,KAAK,YAAY3P,CAAC,EAAE;UAC3B,IAAMoU,OAAO,GAAG,EAAE;UAClBpU,CAAC,CAAC,iBAAiB,EAAE2P,KAAK,CAAC,CAAC0E,IAAI,CAAC,UAAUjT,CAAC,EAAE;YAC1C,OAAOgT,OAAO,CAACtP,IAAI,CAAC9E,CAAC,CAAC,IAAI,CAAC,CAACkD,IAAI,CAAC,CAAC,CAAC;UACvC,CAAC,CAAC;UACF,OAAOlD,CAAC,CAAC,YAAY,EAAE2P,KAAK,CAAC,CAAC0E,IAAI,CAAC,UAAUjT,CAAC,EAAE;YAC5C,IAAMoE,MAAM,GAAG,CAAC,CAAC;YACjBxF,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAACqU,IAAI,CAAC,UAAUjB,CAAC,EAAE;cAC5B,OAAO5N,MAAM,CAAC4O,OAAO,CAAChB,CAAC,CAAC,CAAC,GAAGpT,CAAC,CAAC,IAAI,CAAC,CAACkD,IAAI,CAAC,CAAC;YAC9C,CAAC,CAAC;YACF,OAAOwQ,SAAS,CAAClO,MAAM,CAAC;UAC5B,CAAC,CAAC;QACN,CAAC,MAAM;UACH,MAAM,IAAI8O,KAAK,CAAC,sBAAsB,CAAC;QAC3C;MACJ;IAAC;EAAA;EAmLL,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,WAAW;IAAA,OAAKA,WAAW,CAACxF,GAAG,CAAC,UAAC9F,GAAG,EAAED,EAAE;MAAA,OAC9DC,GAAG,CAACuL,WAAW,GAAGxG,MAAM,CAACqF,YAAY,CAAC,EAAE,GAAGrK,EAAE,CAAC,CAACyL,WAAW,CAAC,CAAC;IAAA,CAAC,CAAC;EAAA;;EAEnE;EACA1U,CAAC,CAACoE,cAAc,GAAG;IACfI,mBAAmB,EAAnBA,mBAAmB;IAAEgQ,WAAW,EAAEnK,kBAAkB;IAAEC,SAAS,EAATA,SAAS;IAAErH,aAAa,EAAbA,aAAa;IAAE6J,QAAQ,EAARA,QAAQ;IAAE/B,OAAO,EAAPA,OAAO;IACjGvB,WAAW,EAAXA,WAAW;IAAEnH,YAAY,EAAZA,YAAY;IAAEiM,MAAM,EAANA,MAAM;IAAEoB,SAAS,EAATA;EACvC,CAAC;;EAED;AACJ;AACA;;EAEI,SAASlF,kBAAkBA,CAACmK,SAAS,EAAErS,IAAI,EAAE;IAEzC,IAAI4G,GAAG,EAAErI,UAAU,EAAEgE,MAAM,EAAE+P,eAAe,EAAExT,CAAC,EAAE6H,EAAE,EAAEmK,CAAC,EAAEyB,EAAE,EAAEC,EAAE,EAAEC,eAAe,EAAEC,EAAE,EAAE7O,GAAG,EAAErE,CAAC;IAC3F,IAAMS,QAAQ,GAAG;MACbhC,KAAK,EAAE;QACH0U,aAAa,EAAE,IAAI;QACnBlE,SAAS,EAAE,IAAI;QACfC,SAAS,EAAE;MACf,CAAC;MACD5F,aAAa,EAAE;QACXS,MAAM,EAAE;MACZ,CAAC;MAEDqJ,gBAAgB,EAAEjS,aAAa,CAACC,IAAI;MACpCiS,gBAAgB,EAAElS,aAAa,CAACC,IAAI;MACpCkS,gBAAgB,EAAEnS,aAAa,CAACC;IACpC,CAAC;IAEDZ,IAAI,GAAGtC,CAAC,CAAC4C,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAEL,QAAQ,EAAED,IAAI,CAAC;IAEzC,IACI+N,QAAQ,GACRsE,SAAS,CADTtE,QAAQ;IAEZ,IACIE,QAAQ,GACRoE,SAAS,CADTpE,QAAQ;IAEZ,IAAMM,OAAO,GAAG8D,SAAS,CAACzE,UAAU,CAAC,IAAI,CAAC;IAC1C,IAAMY,OAAO,GAAG6D,SAAS,CAAC1E,UAAU,CAAC,IAAI,CAAC;IAE1C,IAAI3N,IAAI,CAAC/B,KAAK,CAAC0U,aAAa,EAAE;MAC1BL,eAAe,GAAG,SAAAA,gBAAUzR,KAAK,EAAEkS,SAAS,EAAEC,SAAS,EAAE;QACrD,IAAIhQ,IAAI,EAAElE,CAAC;QACX,IAAMmU,OAAO,GAAG,CAAC,CAAC;QAClB,SAAAC,GAAA,MAAAC,aAAA,GAAUjJ,MAAM,CAACpM,IAAI,CAACiQ,QAAQ,IAAI,CAAC,CAAC,CAAC,EAAAmF,GAAA,GAAAC,aAAA,CAAA3U,MAAA,EAAA0U,GAAA,IAAE;UAAlCpU,CAAC,GAAAqU,aAAA,CAAAD,GAAA;UACFlQ,IAAI,GAAG+K,QAAQ,CAACjP,CAAC,CAAC;UAClB,IAAIkU,SAAS,CAAClU,CAAC,CAAC,IAAI,IAAI,EAAE;YACtBmU,OAAO,CAACjQ,IAAI,CAAC,GAAGgQ,SAAS,CAAClU,CAAC,CAAC;UAChC;QACJ;QACA,SAAAsU,GAAA,MAAAC,aAAA,GAAUnJ,MAAM,CAACpM,IAAI,CAACmQ,QAAQ,IAAI,CAAC,CAAC,CAAC,EAAAmF,GAAA,GAAAC,aAAA,CAAA7U,MAAA,EAAA4U,GAAA,IAAE;UAAlCtU,CAAC,GAAAuU,aAAA,CAAAD,GAAA;UACFpQ,IAAI,GAAGiL,QAAQ,CAACnP,CAAC,CAAC;UAClB,IAAIiU,SAAS,CAACjU,CAAC,CAAC,IAAI,IAAI,EAAE;YACtBmU,OAAO,CAACjQ,IAAI,CAAC,GAAG+P,SAAS,CAACjU,CAAC,CAAC;UAChC;QACJ;QACA,OAAO,UAAA+C,CAAC;UAAA,OAAI7B,IAAI,CAAC/B,KAAK,CAAC0U,aAAa,CAAC9Q,CAAC,EAAEhB,KAAK,EAAEoS,OAAO,EAAEZ,SAAS,CAAC;QAAA;MACtE,CAAC;IACL;IAEA,IAAMiB,aAAa,GAAG,CAACtT,IAAI,CAAC/B,KAAK,CAACqV,aAAa,IAAI,IAAI,GAAGtT,IAAI,CAAC/B,KAAK,CAACqV,aAAa,GAAG,IAAI,KAAKjB,SAAS,CAACvD,QAAQ;IAChH,IAAMyE,gBAAgB,GAAGD,aAAa,GAAGrU,YAAY,GAAGoT,SAAS,CAACtD,cAAc,GAAGpR,cAAc,GAAG6V,oBAAoB;IAExH,IAAMC,iBAAiB,GAAGC,gBAAgB,CAACnF,OAAO,EAAE,IAAI,EAAEgF,gBAAgB,CAAC9F,IAAI,CAAC4E,SAAS,CAAC,CAAC;IAC3F,IAAMsB,iBAAiB,GAAGD,gBAAgB,CAAClF,OAAO,EAAE,KAAK,EAAE7Q,cAAc,CAAC8P,IAAI,CAAC4E,SAAS,CAAC,CAAC;;IAE1F;IACA,IAAM5R,MAAM,GAAGK,QAAQ,CAAC8S,aAAa,CAAC,OAAO,CAAC;IAC9CnT,MAAM,CAACoT,SAAS,GAAG,UAAU;;IAE7B;IACA,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAaC,GAAG,EAAEjV,CAAC,EAAEgS,CAAC,EAAE;MAClC,IAAItR,CAAC;MACL,IAAIV,CAAC,KAAK,CAAC,EAAE;QACT,IAAIkV,GAAG,EAAEC,GAAG;QACZ,IAAIC,MAAM,GAAG,IAAI;QACjB,KAAK1U,CAAC,GAAG,CAAC,EAAEyU,GAAG,GAAGnD,CAAC,EAAEkD,GAAG,GAAG,CAAC,IAAIC,GAAG,EAAED,GAAG,GAAGxU,CAAC,IAAIyU,GAAG,GAAGzU,CAAC,IAAIyU,GAAG,EAAED,GAAG,GAAGxU,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE;UAC7E,IAAIuU,GAAG,CAACjV,CAAC,GAAG,CAAC,CAAC,CAACU,CAAC,CAAC,KAAKuU,GAAG,CAACjV,CAAC,CAAC,CAACU,CAAC,CAAC,EAAE;YAC7B0U,MAAM,GAAG,KAAK;UAClB;QACJ;QACA,IAAIA,MAAM,EAAE;UACR,OAAO,CAAC,CAAC,CAAC,CAAC;QACf;MACJ;MACA,IAAIC,GAAG,GAAG,CAAC;MACX,OAAQrV,CAAC,GAAGqV,GAAG,GAAIJ,GAAG,CAACvV,MAAM,EAAE;QAC3B,IAAI4V,IAAI;UAAEC,IAAI;QACd,IAAIC,IAAI,GAAG,KAAK;QAChB,KAAK9U,CAAC,GAAG,CAAC,EAAE6U,IAAI,GAAGvD,CAAC,EAAEsD,IAAI,GAAG,CAAC,IAAIC,IAAI,EAAED,IAAI,GAAG5U,CAAC,IAAI6U,IAAI,GAAG7U,CAAC,IAAI6U,IAAI,EAAED,IAAI,GAAG5U,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE;UACpF,IAAIuU,GAAG,CAACjV,CAAC,CAAC,CAACU,CAAC,CAAC,KAAKuU,GAAG,CAACjV,CAAC,GAAGqV,GAAG,CAAC,CAAC3U,CAAC,CAAC,EAAE;YAC/B8U,IAAI,GAAG,IAAI;UACf;QACJ;QACA,IAAIA,IAAI,EAAE;UACN;QACJ;QACAH,GAAG,EAAE;MACT;MACA,OAAOA,GAAG;IACd,CAAC;;IAED;IACA,IAAMI,KAAK,GAAGzT,QAAQ,CAAC8S,aAAa,CAAC,OAAO,CAAC;IAC7C,SAAAY,GAAA,MAAAC,aAAA,GAAUvK,MAAM,CAACpM,IAAI,CAACiQ,QAAQ,IAAI,CAAC,CAAC,CAAC,EAAAyG,GAAA,GAAAC,aAAA,CAAAjW,MAAA,EAAAgW,GAAA,IAAE;MAAlC1D,CAAC,GAAA2D,aAAA,CAAAD,GAAA;MACF,IAAMlE,CAAC,GAAGvC,QAAQ,CAAC+C,CAAC,CAAC;MACrB4B,EAAE,GAAG5R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjC,IAAKc,QAAQ,CAAC5D,CAAC,CAAC,KAAK,CAAC,IAAM7C,QAAQ,CAACzP,MAAM,KAAK,CAAE,EAAE;QAChDgU,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;QACjCpB,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAE1G,QAAQ,CAACzP,MAAM,CAAC;QAC3CgU,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAE5G,QAAQ,CAACvP,MAAM,CAAC;QAC3CkU,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MACtB;MACAA,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjCpB,EAAE,CAACqB,SAAS,GAAG,cAAc;MAC7BrB,EAAE,CAACoC,WAAW,CAAC5U,IAAI,CAAC4S,gBAAgB,CAACtC,CAAC,CAAC,CAAC;MACxC,IAAI+B,SAAS,CAACvD,QAAQ,IAAKgC,CAAC,GAAI/C,QAAQ,CAACvP,MAAM,GAAG,CAAG,EAAE;QACnDgU,EAAE,CAACqC,OAAO,GAAG3V,mBAAmB,CAACmT,SAAS,EAAE,CAACvB,CAAC,EAAE,KAAK,CAAC;QACtD0B,EAAE,CAACqB,SAAS,kBAAA/M,MAAA,CAAkBgK,CAAC,CAAE;MACrC;MACA4B,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MAClB,SAAAsC,GAAA,MAAAC,aAAA,GAAU7K,MAAM,CAACpM,IAAI,CAAC0Q,OAAO,IAAI,CAAC,CAAC,CAAC,EAAAsG,GAAA,GAAAC,aAAA,CAAAvW,MAAA,EAAAsW,GAAA,IAAE;QAAjChW,CAAC,GAAAiW,aAAA,CAAAD,GAAA;QACFvS,MAAM,GAAGiM,OAAO,CAAC1P,CAAC,CAAC;QACnBU,CAAC,GAAGsU,QAAQ,CAACtF,OAAO,EAAEkG,QAAQ,CAAC5V,CAAC,CAAC,EAAE4V,QAAQ,CAAC5D,CAAC,CAAC,CAAC;QAC/C,IAAItR,CAAC,KAAK,CAAC,CAAC,EAAE;UACVgT,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;UACjCpB,EAAE,CAACqB,SAAS,GAAG,aAAa;UAC5BrB,EAAE,CAACqB,SAAS,WAAA/M,MAAA,CAAWuL,SAAS,CAACrD,cAAc,GAAG,CAAClQ,CAAC,GAAI,CAACA,CAAC,GAAGU,CAAC,GAAI,CAAC,CAAE;UACrEgT,EAAE,CAACoC,WAAW,CAAC5U,IAAI,CAAC6S,gBAAgB,CAACtQ,MAAM,CAACuO,CAAC,CAAC,EAAER,CAAC,CAAC,CAAC;UACnDkC,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAEnV,CAAC,GAAGnB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE+T,SAAS,CAAC9T,UAAU,CAACC,MAAM,CAAC,CAAC;UACxE,IAAKkW,QAAQ,CAAC5D,CAAC,CAAC,KAAM/C,QAAQ,CAACvP,MAAM,GAAG,CAAE,IAAMyP,QAAQ,CAACzP,MAAM,KAAK,CAAE,EAAE;YACpEgU,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAE,CAAC,CAAC;UACjC;UACA,IAAItC,SAAS,CAACvD,QAAQ,IAAKgC,CAAC,GAAI/C,QAAQ,CAACvP,MAAM,GAAG,CAAG,IAAI+D,MAAM,CAACuO,CAAC,CAAC,EAAE;YAChE0B,EAAE,CAACqB,SAAS,IAAI,mBAAmB;YACnCrB,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAEnV,CAAC,GAAGnB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE+T,SAAS,CAAC9T,UAAU,CAACC,MAAM,CAAC,CAAC;YACxEgU,EAAE,CAACqC,OAAO,GAAGlB,iBAAiB;UAClC;UACAjB,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;QACtB;MACJ;MACA,IAAKkC,QAAQ,CAAC5D,CAAC,CAAC,KAAK,CAAC,IAAK9Q,IAAI,CAAC/B,KAAK,CAACwQ,SAAS,EAAE;QAC7C+D,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;QACjCpB,EAAE,CAACqB,SAAS,GAAG,gCAAgC;QAC/CrB,EAAE,CAACwC,SAAS,GAAGhV,IAAI,CAAC8I,aAAa,CAACS,MAAM;QACxCiJ,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAEtW,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE+T,SAAS,CAAC9T,UAAU,CAACC,MAAM,CAAC,CAAC;QACpEgU,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAE5G,QAAQ,CAACvP,MAAM,IAAIyP,QAAQ,CAACzP,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7EkU,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MACtB;MACA+B,KAAK,CAACK,WAAW,CAAClC,EAAE,CAAC;IACzB;;IAEA;IACA,IAAIzE,QAAQ,CAACzP,MAAM,KAAK,CAAC,EAAE;MACvBkU,EAAE,GAAG5R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjC,SAAAqB,GAAA,MAAAC,aAAA,GAAUhL,MAAM,CAACpM,IAAI,CAACmQ,QAAQ,IAAI,CAAC,CAAC,CAAC,EAAAgH,GAAA,GAAAC,aAAA,CAAA1W,MAAA,EAAAyW,GAAA,IAAE;QAAlCnW,CAAC,GAAAoW,aAAA,CAAAD,GAAA;QACF,IAAM5E,CAAC,GAAGpC,QAAQ,CAACnP,CAAC,CAAC;QACrB0T,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;QACjCpB,EAAE,CAACqB,SAAS,GAAG,cAAc;QAC7BrB,EAAE,CAACoC,WAAW,CAAC5U,IAAI,CAAC4S,gBAAgB,CAACvC,CAAC,CAAC,CAAC;QACxC,IAAIgC,SAAS,CAACvD,QAAQ,IAAKhQ,CAAC,GAAImP,QAAQ,CAACzP,MAAM,GAAG,CAAG,EAAE;UACnDgU,EAAE,CAACqB,SAAS,kBAAA/M,MAAA,CAAkBhI,CAAC,CAAE;UACjC0T,EAAE,CAACqC,OAAO,GAAG3V,mBAAmB,CAACmT,SAAS,EAAE,CAACvT,CAAC,EAAE,IAAI,CAAC;QACzD;QACA4T,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MACtB;MACAA,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjC,IAAI7F,QAAQ,CAACvP,MAAM,KAAK,CAAC,EAAE;QACvBgU,EAAE,CAACqB,SAAS,GAAG,gCAAgC;QAC/CrB,EAAE,CAACwC,SAAS,GAAGhV,IAAI,CAAC8I,aAAa,CAACS,MAAM;QACxCiJ,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAEtC,SAAS,CAAC9T,UAAU,CAACC,MAAM,CAAC;MAC3D;MACAkU,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MAClB+B,KAAK,CAACK,WAAW,CAAClC,EAAE,CAAC;IACzB;IACAjS,MAAM,CAACmU,WAAW,CAACL,KAAK,CAAC;;IAEzB;IACA,IAAMY,KAAK,GAAGrU,QAAQ,CAAC8S,aAAa,CAAC,OAAO,CAAC;IAE7C,IAAIvB,SAAS,CAACxD,gBAAgB,IAAKwD,SAAS,CAACxD,gBAAgB,CAACrQ,MAAM,GAAG,CAAE,EAAE;MACvE,IAAI4W,GAAG;MACP1C,EAAE,GAAG5R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjCpB,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjC,IAAMyB,OAAO,GAAGpH,QAAQ,CAACzP,MAAM,IAAIuP,QAAQ,CAACvP,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;MACjEgU,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAEU,OAAO,CAAC;MACnC3C,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MAElB,SAAA8C,IAAA,MAAAC,cAAA,GAAUrL,MAAM,CAACpM,IAAI,CAAC0Q,OAAO,IAAI,CAAC,CAAC,CAAC,EAAA8G,IAAA,GAAAC,cAAA,CAAA/W,MAAA,EAAA8W,IAAA,IAAE;QAAjCxE,CAAC,GAAAyE,cAAA,CAAAD,IAAA;QAAkC;QACpC/S,MAAM,GAAGiM,OAAO,CAACsC,CAAC,CAAC;QAAC,IAAA0E,UAAA,GAAA3F,0BAAA,CACRwC,SAAS,CAACxD,gBAAgB;UAAA4G,MAAA;QAAA;UAAtC,KAAAD,UAAA,CAAAvQ,CAAA,MAAAwQ,MAAA,GAAAD,UAAA,CAAAzQ,CAAA,IAAAgL,IAAA,GAAwC;YAAnCqF,GAAG,GAAAK,MAAA,CAAA5U,KAAA;YACJ2R,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;YACjCpB,EAAE,CAACqB,SAAS,4BAAA/M,MAAA,CAA4BgK,CAAC,CAAE;YAC3C0B,EAAE,CAACkD,WAAW,GAAGN,GAAG;YACpB1C,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;UACtB;QAAC,SAAAxC,GAAA;UAAAwF,UAAA,CAAA3T,CAAA,CAAAmO,GAAA;QAAA;UAAAwF,UAAA,CAAAxO,CAAA;QAAA;MACL;MAAC,IAAA2O,UAAA,GAAA9F,0BAAA,CAEWwC,SAAS,CAACxD,gBAAgB;QAAA+G,MAAA;MAAA;QAAtC,KAAAD,UAAA,CAAA1Q,CAAA,MAAA2Q,MAAA,GAAAD,UAAA,CAAA5Q,CAAA,IAAAgL,IAAA,GAAwC;UAAnCqF,GAAG,GAAAQ,MAAA,CAAA/U,KAAA;UACJ2R,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;UACjCpB,EAAE,CAACqB,SAAS,GAAG,oBAAoB;UACnCrB,EAAE,CAACkD,WAAW,GAAGN,GAAG;UACpB1C,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;QACtB;MAAC,SAAAxC,GAAA;QAAA2F,UAAA,CAAA9T,CAAA,CAAAmO,GAAA;MAAA;QAAA2F,UAAA,CAAA3O,CAAA;MAAA;MAEDmO,KAAK,CAACP,WAAW,CAAClC,EAAE,CAAC;IACzB;IAGA,SAAAmD,IAAA,MAAAC,cAAA,GAAU5L,MAAM,CAACpM,IAAI,CAACyQ,OAAO,IAAI,CAAC,CAAC,CAAC,EAAAsH,IAAA,GAAAC,cAAA,CAAAtX,MAAA,EAAAqX,IAAA,IAAE;MAAjC/W,CAAC,GAAAgX,cAAA,CAAAD,IAAA;MACF,IAAMvT,MAAM,GAAGiM,OAAO,CAACzP,CAAC,CAAC;MACzB4T,EAAE,GAAG5R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjC,IAAMmC,MAAM,GAAG9H,QAAQ,CAACzP,MAAM,GAAG8D,MAAM,CAAC9D,MAAM;MAC9CkU,EAAE,CAACmB,SAAS,GAAGkC,MAAM,uBAAAjP,MAAA,CAAuBxE,MAAM,CAAC9D,MAAM,IAAK,SAAS;MACvE,SAAAwX,IAAA,MAAAC,cAAA,GAAU/L,MAAM,CAACpM,IAAI,CAACwE,MAAM,IAAI,CAAC,CAAC,CAAC,EAAA0T,IAAA,GAAAC,cAAA,CAAAzX,MAAA,EAAAwX,IAAA,IAAE;QAAhClF,CAAC,GAAAmF,cAAA,CAAAD,IAAA;QACF,IAAME,GAAG,GAAG5T,MAAM,CAACwO,CAAC,CAAC;QACrB,IAAIwC,aAAa,IAAKxC,CAAC,GAAIxO,MAAM,CAAC9D,MAAM,GAAG,CAAG,EAAE;UAC5C;QACJ;QACAgB,CAAC,GAAG8T,aAAa,GAAG,CAAC,GAAGQ,QAAQ,CAACvF,OAAO,EAAEmG,QAAQ,CAAC5V,CAAC,CAAC,EAAE4V,QAAQ,CAAC5D,CAAC,CAAC,CAAC;QACnE,IAAItR,CAAC,KAAK,CAAC,CAAC,EAAE;UACVgT,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;UACjCpB,EAAE,CAACqB,SAAS,GAAG,aAAa;UAC5BrB,EAAE,CAACqB,SAAS,WAAA/M,MAAA,CAAWuL,SAAS,CAACtD,cAAc,GAAG,CAACjQ,CAAC,GAAI,CAACA,CAAC,GAAGU,CAAC,GAAI,CAAC,CAAE;UACrEgT,EAAE,CAACoC,WAAW,CAAC5U,IAAI,CAAC6S,gBAAgB,CAACqD,GAAG,EAAEjI,QAAQ,CAAC6C,CAAC,CAAC,CAAC,CAAC;UACvD0B,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAEnV,CAAC,CAAC;UAC7B,IAAI8T,aAAa,EAAE;YACfd,EAAE,CAAC2D,OAAO,GAAGlI,QAAQ,CAACzP,MAAM;YAC5BgU,EAAE,CAAC4D,KAAK,CAACC,WAAW,GAAG,CAAC,GAAI3B,QAAQ,CAAC5D,CAAC,CAAC,GAAG,EAAG,GAAG,IAAI;UACxD;UACA,IAAIuB,SAAS,CAACvD,QAAQ,IAAKgC,CAAC,GAAI7C,QAAQ,CAACzP,MAAM,GAAG,CAAG,EAAE;YACnDgU,EAAE,CAACqB,SAAS,IAAI,OAAO;YACvBrB,EAAE,CAACqC,OAAO,GAAGpB,iBAAiB;UAClC;UACAf,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;QACtB;MACJ;MAEA,IAAI,CAACc,aAAa,IAAIyC,MAAM,EAAE;QAC1BvD,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;QACjCpB,EAAE,CAAC2D,OAAO,GAAGJ,MAAM;QACnBvD,EAAE,CAACkD,WAAW,aAAA5O,MAAA,CAAaxE,MAAM,CAACwO,CAAC,CAAC,MAAG;QACvC4B,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MACtB;MAEA,IAAIzE,QAAQ,CAACvP,MAAM,EAAE;QACjBgU,EAAE,CAAC2D,OAAO,EAAE;MAChB;MAEA,SAAAG,IAAA,MAAAC,cAAA,GAAUrM,MAAM,CAACpM,IAAI,CAAC0Q,OAAO,IAAI,CAAC,CAAC,CAAC,EAAA8H,IAAA,GAAAC,cAAA,CAAA/X,MAAA,EAAA8X,IAAA,IAAE;QAAjCxF,CAAC,GAAAyF,cAAA,CAAAD,IAAA;QAAkC;QACpC/T,MAAM,GAAGiM,OAAO,CAACsC,CAAC,CAAC;QACnB,KAAKnK,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG0L,SAAS,CAAC9T,UAAU,CAACC,MAAM,EAAEmI,EAAE,EAAE,EAAE;UAAA,IAAA6P,WAAA;UACjD5P,GAAG,GAAGyL,SAAS,CAAC9T,UAAU,CAACoI,EAAE,CAAC;UAC9BpI,UAAU,GAAG8T,SAAS,CAACxL,aAAa,CAACvE,MAAM,EAAEC,MAAM,EAAEoE,EAAE,CAAC;UACxD9C,GAAG,GAAGtF,UAAU,CAACsC,KAAK,CAAC8F,EAAE,CAAC;UAC1B4L,EAAE,GAAGzR,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;UACjC,IAAI,CAACmC,MAAM,EAAE;YACTxD,EAAE,CAACsB,SAAS,GAAG,SAAS;UAC5B;UACAtB,EAAE,CAACsB,SAAS,UAAA/M,MAAA,CAAUhI,CAAC,UAAAgI,MAAA,CAAOgK,CAAC,CAAE;UACjC,IAAI/C,QAAQ,CAACvP,MAAM,GAAG+D,MAAM,CAAC/D,MAAM,EAAE;YACjC+T,EAAE,CAACsB,SAAS,uBAAA/M,MAAA,CAAuBvE,MAAM,CAAC/D,MAAM,UAAAsI,MAAA,CAAOhI,CAAC,UAAAgI,MAAA,CAAOgK,CAAC,CAAE;UACtE;UACAyB,EAAE,CAACqC,WAAW,CAAC5U,IAAI,CAAC8S,gBAAgB,CAACvU,UAAU,CAACkE,MAAM,CAACoB,GAAG,CAAC,GAAA2S,WAAA,GAAEjY,UAAU,cAAAiY,WAAA,uBAAVA,WAAA,CAAYxT,IAAI,EAAEV,MAAM,EAAEC,MAAM,CAAC,CAAC;UAC/FgQ,EAAE,CAACoC,YAAY,CAAC,YAAY,EAAE9Q,GAAG,CAAC;UAClC,IAAIyO,eAAe,IAAI,IAAI,EAAE;YACzBC,EAAE,CAACsC,OAAO,GAAGvC,eAAe,CAACzO,GAAG,EAAEvB,MAAM,EAAEC,MAAM,CAAC;UACrD;UACAmQ,EAAE,CAACkC,WAAW,CAACrC,EAAE,CAAC;QACtB;MACJ;MAEA,IAAIvS,IAAI,CAAC/B,KAAK,CAACwQ,SAAS,IAAKV,QAAQ,CAACvP,MAAM,KAAK,CAAE,EAAE;QACjD,KAAKmI,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG0L,SAAS,CAAC9T,UAAU,CAACC,MAAM,EAAEmI,EAAE,EAAE,EAAE;UAAA,IAAA8P,gBAAA;UACjD7P,GAAG,GAAGyL,SAAS,CAAC9T,UAAU,CAACoI,EAAE,CAAC;UAC9B8L,eAAe,GAAGJ,SAAS,CAACxL,aAAa,CAACvE,MAAM,EAAE,EAAE,EAAEqE,EAAE,CAAC;UACzD9C,GAAG,GAAG4O,eAAe,CAAC5R,KAAK,CAAC8F,EAAE,CAAC;UAC/B4L,EAAE,GAAGzR,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;UACjCrB,EAAE,CAACsB,SAAS,GAAG,mBAAmB;UAClCtB,EAAE,CAACmE,MAAM,CAAC1W,IAAI,CAAC8S,gBAAgB,CAACL,eAAe,CAAChQ,MAAM,CAACoB,GAAG,CAAC,GAAA4S,gBAAA,GAAEhE,eAAe,cAAAgE,gBAAA,uBAAfA,gBAAA,CAAiBzT,IAAI,EAAEV,MAAM,EAAE,EAAE,CAAC,CAAC;UAChGiQ,EAAE,CAACoC,YAAY,CAAC,YAAY,EAAE9Q,GAAG,CAAC;UAClC,IAAIyO,eAAe,IAAI,IAAI,EAAE;YACzBC,EAAE,CAACsC,OAAO,GAAGvC,eAAe,CAACzO,GAAG,EAAEvB,MAAM,EAAE,EAAE,CAAC;UACjD;UACAiQ,EAAE,CAACoC,YAAY,CAAC,UAAU,EAAE,KAAK,GAAG7V,CAAC,CAAC;UACtC4T,EAAE,CAACkC,WAAW,CAACrC,EAAE,CAAC;QACtB;MACJ;MACA4C,KAAK,CAACP,WAAW,CAAClC,EAAE,CAAC;IACzB;;IAEA;IACA,IAAI1S,IAAI,CAAC/B,KAAK,CAACyQ,SAAS,IAAKT,QAAQ,CAACzP,MAAM,KAAK,CAAE,EAAE;MACjDkU,EAAE,GAAG5R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;MACjC,IAAI5T,IAAI,CAAC/B,KAAK,CAACyQ,SAAS,IAAKT,QAAQ,CAACzP,MAAM,KAAK,CAAE,EAAE;QACjDgU,EAAE,GAAG1R,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;QACjCpB,EAAE,CAACqB,SAAS,GAAG,gCAAgC;QAC/CrB,EAAE,CAACwC,SAAS,GAAGhV,IAAI,CAAC8I,aAAa,CAACS,MAAM;QACxCiJ,EAAE,CAACmC,YAAY,CAAC,SAAS,EAAE1G,QAAQ,CAACzP,MAAM,IAAIuP,QAAQ,CAACvP,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7EkU,EAAE,CAACkC,WAAW,CAACpC,EAAE,CAAC;MACtB;MACA,SAAAmE,IAAA,MAAAC,cAAA,GAAU1M,MAAM,CAACpM,IAAI,CAAC0Q,OAAO,IAAI,CAAC,CAAC,CAAC,EAAAmI,IAAA,GAAAC,cAAA,CAAApY,MAAA,EAAAmY,IAAA,IAAE;QAAjC7F,CAAC,GAAA8F,cAAA,CAAAD,IAAA;QACFpU,MAAM,GAAGiM,OAAO,CAACsC,CAAC,CAAC;QACnB,KAAKnK,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG0L,SAAS,CAAC9T,UAAU,CAACC,MAAM,EAAEmI,EAAE,EAAE,EAAE;UAAA,IAAAkQ,iBAAA;UACjDjQ,GAAG,GAAGyL,SAAS,CAAC9T,UAAU,CAACoI,EAAE,CAAC;UAC9B8L,eAAe,GAAGJ,SAAS,CAACxL,aAAa,CAAC,EAAE,EAAEtE,MAAM,EAAEoE,EAAE,CAAC;UACzD9C,GAAG,GAAG4O,eAAe,CAAC5R,KAAK,CAAC8F,EAAE,CAAC;UAC/B4L,EAAE,GAAGzR,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;UACjCrB,EAAE,CAACsB,SAAS,2BAAA/M,MAAA,CAA2BgK,CAAC,CAAE;UAC1C,IAAIvO,MAAM,CAAC/D,MAAM,KAAKuP,QAAQ,CAACvP,MAAM,EAAE;YACnC+T,EAAE,CAACsB,SAAS,yBAAA/M,MAAA,CAAyBvE,MAAM,CAAC/D,MAAM,CAAE;UACxD;UACA+T,EAAE,CAACmE,MAAM,CAAC1W,IAAI,CAAC8S,gBAAgB,CAACL,eAAe,CAAChQ,MAAM,CAACoB,GAAG,CAAC,GAAAgT,iBAAA,GAAEpE,eAAe,cAAAoE,iBAAA,uBAAfA,iBAAA,CAAiB7T,IAAI,EAAE,EAAE,EAAET,MAAM,CAAC,CAAC;UAChGgQ,EAAE,CAACoC,YAAY,CAAC,YAAY,EAAE9Q,GAAG,CAAC;UAClC,IAAIyO,eAAe,IAAI,IAAI,EAAE;YACzBC,EAAE,CAACsC,OAAO,GAAGvC,eAAe,CAACzO,GAAG,EAAE,EAAE,EAAEtB,MAAM,CAAC;UACjD;UACAgQ,EAAE,CAACoC,YAAY,CAAC,UAAU,EAAE,KAAK,GAAG7D,CAAC,CAAC;UACtC4B,EAAE,CAACkC,WAAW,CAACrC,EAAE,CAAC;QACtB;MACJ;MACA,IAAIvS,IAAI,CAAC/B,KAAK,CAACwQ,SAAS,IAAKV,QAAQ,CAACvP,MAAM,KAAK,CAAE,EAAE;QACjD,KAAKmI,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG0L,SAAS,CAAC9T,UAAU,CAACC,MAAM,EAAEmI,EAAE,EAAE,EAAE;UAAA,IAAAmQ,iBAAA;UACjDlQ,GAAG,GAAGyL,SAAS,CAAC9T,UAAU,CAACoI,EAAE,CAAC;UAC9B8L,eAAe,GAAGJ,SAAS,CAACxL,aAAa,CAAC,EAAE,EAAE,EAAE,EAAEF,EAAE,CAAC;UACrD9C,GAAG,GAAG4O,eAAe,CAAC5R,KAAK,CAAC8F,EAAE,CAAC;UAC/B4L,EAAE,GAAGzR,QAAQ,CAAC8S,aAAa,CAAC,IAAI,CAAC;UACjCrB,EAAE,CAACsB,SAAS,GAAG,eAAe;UAC9BtB,EAAE,CAACmE,MAAM,CAAC1W,IAAI,CAAC8S,gBAAgB,CAACL,eAAe,CAAChQ,MAAM,CAACoB,GAAG,CAAC,GAAAiT,iBAAA,GAAErE,eAAe,cAAAqE,iBAAA,uBAAfA,iBAAA,CAAiB9T,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;UAC5FuP,EAAE,CAACoC,YAAY,CAAC,YAAY,EAAE9Q,GAAG,CAAC;UAClC,IAAIyO,eAAe,IAAI,IAAI,EAAE;YACzBC,EAAE,CAACsC,OAAO,GAAGvC,eAAe,CAACzO,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;UAC7C;UACA6O,EAAE,CAACkC,WAAW,CAACrC,EAAE,CAAC;QACtB;MACJ;MACA4C,KAAK,CAACP,WAAW,CAAClC,EAAE,CAAC;IACzB;IACAjS,MAAM,CAACmU,WAAW,CAACO,KAAK,CAAC;;IAEzB;IACA1U,MAAM,CAACkU,YAAY,CAAC,cAAc,EAAEpG,OAAO,CAAC/P,MAAM,CAAC;IACnDiC,MAAM,CAACkU,YAAY,CAAC,cAAc,EAAEnG,OAAO,CAAChQ,MAAM,CAAC;IAEnD,OAAOiC,MAAM;EACjB;;EAEA;AACJ;AACA;;EAEI/C,CAAC,CAACiF,EAAE,CAACoU,KAAK,GAAG,UAAU1J,KAAK,EAAE2J,SAAS,EAAEC,MAAM,EAAE;IAC7C,IAAIpV,CAAC;IACL,IAAIoV,MAAM,IAAI,IAAI,EAAE;MAChBA,MAAM,GAAG,IAAI;IACjB;IACA,IAAKxO,OAAO,CAACwO,MAAM,CAAC,IAAI,IAAI,EAAG;MAC3BA,MAAM,GAAG,IAAI;IACjB;IACA9X,YAAY,GAAG8X,MAAM;IACrBD,SAAS,GAAGA,SAAS,IAAI,CAAC,CAAC;IAC3B,IAAM/W,QAAQ,GAAG;MACb+N,IAAI,EAAE,EAAE;MAAEnQ,IAAI,EAAE,EAAE;MAAEwG,IAAI,EAAE,EAAE;MAC5B8J,QAAQ,EAAE,YAAY;MAAEC,QAAQ,EAAE,YAAY;MAC9C8I,SAAS,EAAE9J,SAAS;MACpBb,MAAM,WAAAA,OAAA,EAAG;QACL,OAAO,IAAI;MACf,CAAC;MACDhO,UAAU,EAAE2D,mBAAmB,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MACzC2L,cAAc,EAAE,OAAO;MACvB9J,OAAO,EAAE,CAAC,CAAC;MACXqK,iBAAiB,EAAE,CAAC,CAAC;MACrB8I,QAAQ,EAAEjP;IACd,CAAC;IAED,IAAMY,aAAa,GAAGpL,CAAC,CAAC4C,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAEmI,OAAO,CAACC,EAAE,CAACI,aAAa,EAAEL,OAAO,CAACwO,MAAM,CAAC,CAACnO,aAAa,CAAC;IACjG,IAAMsO,cAAc,GAAG;MACnBC,eAAe,EAAE;QAAEvO,aAAa,EAAbA;MAAc,CAAC;MAClCA,aAAa,EAAbA;IACJ,CAAC;IAED,IAAM9I,IAAI,GAAGtC,CAAC,CAAC4C,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE8W,cAAc,EAAE1Z,CAAC,CAAC4C,MAAM,CAAC,CAAC,CAAC,EAAEL,QAAQ,EAAE+W,SAAS,CAAC,CAAC;IAElF,IAAIvW,MAAM;IACVuW,SAAS,CAAC3E,SAAS,GAAG,IAAI;IAC1B,IAAI;MACA,IAAMA,SAAS,GAAG,IAAIrS,IAAI,CAACkX,SAAS,CAAC7J,KAAK,EAAErN,IAAI,CAAC;MACjD,IAAI;QACAS,MAAM,GAAGT,IAAI,CAACmX,QAAQ,CAAC9E,SAAS,EAAErS,IAAI,CAACqX,eAAe,CAAC;QACvDL,SAAS,CAAC3E,SAAS,GAAGA,SAAS;MACnC,CAAC,CAAC,OAAOiF,KAAK,EAAE;QACZzV,CAAC,GAAGyV,KAAK;QACT,IAAI,OAAOC,OAAO,KAAK,WAAW,IAAIA,OAAO,KAAK,IAAI,EAAE;UACpDA,OAAO,CAACD,KAAK,CAACzV,CAAC,CAAC2V,KAAK,CAAC;QAC1B;QACA/W,MAAM,GAAG/C,CAAC,CAAC,QAAQ,CAAC,CAAC+Z,IAAI,CAACzX,IAAI,CAAC8I,aAAa,CAACC,WAAW,CAAC;MAC7D;IACJ,CAAC,CAAC,OAAO2O,MAAM,EAAE;MACb7V,CAAC,GAAG6V,MAAM;MACV,IAAI,OAAOH,OAAO,KAAK,WAAW,IAAIA,OAAO,KAAK,IAAI,EAAE;QACpDA,OAAO,CAACD,KAAK,CAACzV,CAAC,CAAC2V,KAAK,CAAC;MAC1B;MACA/W,MAAM,GAAG/C,CAAC,CAAC,QAAQ,CAAC,CAAC+Z,IAAI,CAACzX,IAAI,CAAC8I,aAAa,CAACE,YAAY,CAAC;IAC9D;IAEA,IAAMxJ,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IACjB,OAAOA,CAAC,CAACmY,aAAa,CAAC,CAAC,EAAE;MACtBnY,CAAC,CAACoY,WAAW,CAACpY,CAAC,CAACqY,SAAS,CAAC;IAC9B;IACA,OAAO,IAAI,CAACnB,MAAM,CAACjW,MAAM,CAAC;EAC9B,CAAC;;EAED;AACJ;AACA;;EAEI/C,CAAC,CAACiF,EAAE,CAACmV,OAAO,GAAG,UAAUzK,KAAK,EAAE2J,SAAS,EAAEe,SAAS,EAAEd,MAAM,EAAE;IAAA,IAAAe,MAAA;IAC1D,IAAIhY,IAAI;IACR,IAAIuE,CAAC,EAAE+L,CAAC;IACR,IAAIyH,SAAS,IAAI,IAAI,EAAE;MACnBA,SAAS,GAAG,KAAK;IACrB;IACA,IAAId,MAAM,IAAI,IAAI,EAAE;MAChBA,MAAM,GAAG,IAAI;IACjB;IACA,IAAKxO,OAAO,CAACwO,MAAM,CAAC,IAAI,IAAI,EAAG;MAC3BA,MAAM,GAAG,IAAI;IACjB;IAEA,IAAMhX,QAAQ,GAAG;MACboO,iBAAiB,EAAE,CAAC,CAAC;MACrB6D,WAAW,EAAEnK,kBAAkB;MAC/BC,SAAS,EAAES,OAAO,CAACwO,MAAM,CAAC,CAACjP,SAAS;MACpCiQ,gBAAgB,EAAE,EAAE;MACpBC,qBAAqB,EAAE,EAAE;MACzBC,kBAAkB,EAAE,EAAE;MACtBC,SAAS,EAAE,GAAG;MACdpK,IAAI,EAAE,EAAE;MAAEnQ,IAAI,EAAE,EAAE;MAAEwG,IAAI,EAAE,EAAE;MAC5B8J,QAAQ,EAAE,YAAY;MAAEC,QAAQ,EAAE,YAAY;MAC9C8I,SAAS,EAAE9J,SAAS;MACpBiL,UAAU,EAAE,CAAC,CAAC;MACdC,UAAU,EAAE,CAAC,CAAC;MACdC,mBAAmB,EAAE,EAAE;MACvBC,mBAAmB,EAAE,KAAK;MAC1BC,SAAS,EAAE,IAAI;MACfC,MAAM,EAAE,IAAI;MACZnM,MAAM,WAAAA,OAAA,EAAG;QACL,OAAO,IAAI;MACf,CAAC;MACDvI,OAAO,EAAE,CAAC,CAAC;MACX2U,QAAQ,EAAE,IAAI;MACdC,gBAAgB,EAAE;IACtB,CAAC;IAED,IAAIC,OAAO,GAAG,CAAC;IACf,IAAI3G,WAAW,GAAG,EAAE;IACpB,IAAMpJ,aAAa,GAAGpL,CAAC,CAAC4C,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAEmI,OAAO,CAACC,EAAE,CAACI,aAAa,EAAEL,OAAO,CAACwO,MAAM,CAAC,CAACnO,aAAa,CAAC;IACjG,IAAMsO,cAAc,GAAG;MACnBC,eAAe,EAAE;QAAEvO,aAAa,EAAbA;MAAc,CAAC;MAClCA,aAAa,EAAbA;IACJ,CAAC;IAED,IAAMgQ,YAAY,GAAG,IAAI,CAACzW,IAAI,CAAC,gBAAgB,CAAC;IAChD,IAAKyW,YAAY,IAAI,IAAI,IAAKf,SAAS,EAAE;MACrC/X,IAAI,GAAGtC,CAAC,CAAC4C,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE8W,cAAc,EAAE1Z,CAAC,CAAC4C,MAAM,CAAC,CAAC,CAAC,EAAEL,QAAQ,EAAE+W,SAAS,CAAC,CAAC;IAChF,CAAC,MAAM;MACHhX,IAAI,GAAG8Y,YAAY;IACvB;IAEA,IAAI,EAAC9B,SAAS,aAATA,SAAS,eAATA,SAAS,CAAE9E,WAAW,KAAIzJ,OAAO,CAACwO,MAAM,CAAC,CAACtO,UAAU,EAAE;MACvD3I,IAAI,CAACkS,WAAW,GAAGvK,eAAe,CAC9Bc,OAAO,CAACwO,MAAM,CAAC,CAACtO,UAAU,CAAClG,MAAM,EACjCgG,OAAO,CAACwO,MAAM,CAAC,CAACtO,UAAU,CAACC,SAAS,EACpCH,OAAO,CAACwO,MAAM,CAAC,CAACtO,UAAU,CAACE,SAAS,CAAC;IAC7C;IAEA,IAAI;MACA;MACA;MACA,IAAI7F,IAAI,EAAElE,CAAC,EAAEia,6BAA6B,EAAEvZ,CAAC;MAC7C,IAAMwZ,UAAU,GAAG,CAAC,CAAC;MACrB,IAAMC,iBAAiB,GAAG,EAAE;MAC5B,IAAIC,gBAAgB,GAAG,CAAC;MACxB9L,SAAS,CAAC6B,aAAa,CAAC5B,KAAK,EAAErN,IAAI,CAACqO,iBAAiB,EAAE,UAAUnL,MAAM,EAAE;QACrE,IAAIF,IAAI;QACR,IAAI,CAAChD,IAAI,CAACuM,MAAM,CAACrJ,MAAM,CAAC,EAAE;UACtB;QACJ;QACA+V,iBAAiB,CAACzW,IAAI,CAACU,MAAM,CAAC;QAC9B,SAAAiW,IAAA,MAAAC,cAAA,GAAalP,MAAM,CAACpM,IAAI,CAACoF,MAAM,IAAI,CAAC,CAAC,CAAC,EAAAiW,IAAA,GAAAC,cAAA,CAAA5a,MAAA,EAAA2a,IAAA,IAAE;UAAnCnW,IAAI,GAAAoW,cAAA,CAAAD,IAAA;UACL,IAAKH,UAAU,CAAChW,IAAI,CAAC,IAAI,IAAI,EAAG;YAC5BgW,UAAU,CAAChW,IAAI,CAAC,GAAG,CAAC,CAAC;YACrB,IAAIkW,gBAAgB,GAAG,CAAC,EAAE;cACtBF,UAAU,CAAChW,IAAI,CAAC,CAAC,MAAM,CAAC,GAAGkW,gBAAgB;YAC/C;UACJ;QACJ;QACA,KAAKlW,IAAI,IAAIgW,UAAU,EAAE;UACrB,IAAMnY,KAAK,GAAGqC,MAAM,CAACF,IAAI,CAAC,IAAI,IAAI,GAAGE,MAAM,CAACF,IAAI,CAAC,GAAG,MAAM;UAC1D,IAAIgW,UAAU,CAAChW,IAAI,CAAC,CAACnC,KAAK,CAAC,IAAI,IAAI,EAAE;YACjCmY,UAAU,CAAChW,IAAI,CAAC,CAACnC,KAAK,CAAC,GAAG,CAAC;UAC/B;UACAmY,UAAU,CAAChW,IAAI,CAAC,CAACnC,KAAK,CAAC,EAAE;QAC7B;QACA,OAAOqY,gBAAgB,EAAE;MAC7B,CAAC,CAAC;MAEF,IAAMG,WAAW,GAAG3b,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,OAAO,CAAC;MAEhD,IAAMC,MAAM,GAAG7b,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,WAAW,CAAC;MAC/C,IAAME,YAAY,GAAG9b,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,iBAAiB,CAAC;MAC3D,IAAMG,gBAAgB,GAAG/b,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,gBAAgB,CAAC;MAE9D,IAAMI,eAAe,GAAGhc,CAAC,CAAC,OAAO,CAAC,CAC7B4b,QAAQ,CAAC,qBAAqB,CAAC,CAC/BA,QAAQ,CAAC,oBAAoB,CAAC,CAC9BA,QAAQ,CAAC,QAAQ,CAAC,CAClB1Y,IAAI,CAACkI,aAAa,CAACe,SAAS,CAAC,CAC7B8P,EAAE,CAAC,OAAO,EAAE,YAAY;QACrB3Z,IAAI,CAAC4Y,gBAAgB,GAAG,CAAC5Y,IAAI,CAAC4Y,gBAAgB;QAC9C,IAAI5Y,IAAI,CAAC4Y,gBAAgB,EAAE;UACvBc,eAAe,CAACJ,QAAQ,CAAC,QAAQ,CAAC;UAClC,OAAOE,YAAY,CAACI,IAAI,CAAC,CAAC;QAC9B,CAAC,MAAM;UACHF,eAAe,CAACG,WAAW,CAAC,QAAQ,CAAC;UACrC,OAAOL,YAAY,CAACM,IAAI,CAAC,CAAC;QAC9B;MACJ,CAAC,CAAC,CACDC,QAAQ,CAACR,MAAM,CAAC;MAErB,IAAMS,cAAc,GAAGtc,CAAC,CAAC,OAAO,CAAC,CAC5B4b,QAAQ,CAAC,qBAAqB,CAAC,CAC/BA,QAAQ,CAAC,mBAAmB,CAAC,CAC7B1Y,IAAI,CAACkI,aAAa,CAACiB,WAAW,CAAC,CAC/B4P,EAAE,CAAC,OAAO,EAAE,YAAY;QACrB,IAAI3Z,IAAI,CAAC8O,QAAQ,EAAE;UACfkL,cAAc,CAACH,WAAW,CAAC,QAAQ,CAAC;UACpC7Z,IAAI,CAAC8O,QAAQ,GAAG,KAAK;QACzB,CAAC,MAAM;UACHkL,cAAc,CAACV,QAAQ,CAAC,QAAQ,CAAC;UACjCtZ,IAAI,CAAC8O,QAAQ,GAAG;YACZE,cAAc,EAAE;UACpB,CAAC;QACL;QACA,OAAOiL,OAAO,CAAC,CAAC;MACpB,CAAC,CAAC,CACDF,QAAQ,CAACR,MAAM,CAAC;MAErBF,WAAW,CACN3C,MAAM,CAAC6C,MAAM,CAAC,CACd7C,MAAM,CAAC8C,YAAY,CAAC,CACpB9C,MAAM,CAAC+C,gBAAgB,CAAC;;MAE7B;MACA/b,CAAC,CAAC,OAAO,CAAC,CACL4b,QAAQ,CAAC,mBAAmB,CAAC,CAC7BS,QAAQ,CAACP,YAAY,CAAC,CACtB5Y,IAAI,CAACkI,aAAa,CAACY,aAAa,CAAC;MACtC,IAAIwQ,aAAa,GAAGxc,CAAC,CAAC,OAAO,CAAC,CACzB4b,QAAQ,CAAC,iBAAiB,CAAC,CAC3BA,QAAQ,CAAC,cAAc,CAAC,CACxBS,QAAQ,CAACP,YAAY,CAAC;MAC3B,IAAMrC,QAAQ,GAAGzZ,CAAC,CAAC,UAAU,CAAC,CACzB4b,QAAQ,CAAC,aAAa,CAAC,CACvBS,QAAQ,CAACG,aAAa,CAAC,CACvBzM,IAAI,CAAC,QAAQ,EAAE;QAAA,OAAMwM,OAAO,CAAC,CAAC;MAAA,EAAC,CAAC,CAAC;MACtC,SAAAE,IAAA,MAAAC,cAAA,GAAUlQ,MAAM,CAACpM,IAAI,CAACkC,IAAI,CAACgI,SAAS,IAAI,CAAC,CAAC,CAAC,EAAAmS,IAAA,GAAAC,cAAA,CAAA5b,MAAA,EAAA2b,IAAA,IAAE;QAAxC3a,CAAC,GAAA4a,cAAA,CAAAD,IAAA;QACFzc,CAAC,CAAC,UAAU,CAAC,CAACmG,GAAG,CAACrE,CAAC,CAAC,CAACiY,IAAI,CAACjY,CAAC,CAAC,CAACua,QAAQ,CAAC5C,QAAQ,CAAC;MACnD;;MAGA;MACA,IAAMkD,MAAM,GAAG3c,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,4BAA4B,CAAC;MAChE,IAAMgB,eAAe,GAAG,EAAE;MAC1B,KAAK/V,CAAC,IAAIyU,UAAU,EAAE;QAClB,IAAI,CAAChZ,IAAI,CAACiY,gBAAgB,CAAC9U,QAAQ,CAACoB,CAAC,CAAC,EAAE;UACpC+V,eAAe,CAAC9X,IAAI,CAAC+B,CAAC,CAAC;QAC3B;MACJ;MACA,IAAMgW,kBAAkB,GAAG,EAAE;MAC7B,SAAAC,IAAA,MAAAC,gBAAA,GAAUH,eAAe,EAAAE,IAAA,GAAAC,gBAAA,CAAAjc,MAAA,EAAAgc,IAAA,IAAE;QAAtBlK,CAAC,GAAAmK,gBAAA,CAAAD,IAAA;QACF,IAAI,CAACxa,IAAI,CAACkY,qBAAqB,CAAC/U,QAAQ,CAACmN,CAAC,CAAC,EAAE;UACzCiK,kBAAkB,CAAC/X,IAAI,CAAC8N,CAAC,CAAC;QAC9B;MACJ;MACA,IAAMoK,eAAe,GAAG,EAAE;MAC1B,SAAAC,IAAA,MAAAC,iBAAA,GAAUN,eAAe,EAAAK,IAAA,GAAAC,iBAAA,CAAApc,MAAA,EAAAmc,IAAA,IAAE;QAAtBrK,CAAC,GAAAsK,iBAAA,CAAAD,IAAA;QACF,IAAI,CAAC3a,IAAI,CAACmY,kBAAkB,CAAChV,QAAQ,CAACmN,CAAC,CAAC,EAAE;UACtCoK,eAAe,CAAClY,IAAI,CAAC8N,CAAC,CAAC;QAC3B;MACJ;MAEA,IAAIuK,+BAA+B,GAAG,KAAK;MAC3C,IAAI7a,IAAI,CAACuY,mBAAmB,KAAK,MAAM,EAAE;QACrCQ,6BAA6B,GAAG,GAAG,CAAC,CAAC;MACzC,CAAC,MAAM;QACHA,6BAA6B,GAAGrE,QAAQ,CAAC1U,IAAI,CAACuY,mBAAmB,CAAC;MACtE;MAEA,IAAI,CAAChY,KAAK,CAACwY,6BAA6B,CAAC,EAAE;QACvC,IAAI+B,UAAU,GAAG,CAAC;QAAC,IAAAC,UAAA,GAAAlL,0BAAA,CACT6K,eAAe;UAAAM,MAAA;QAAA;UAAzB,KAAAD,UAAA,CAAA9V,CAAA,MAAA+V,MAAA,GAAAD,UAAA,CAAAhW,CAAA,IAAAgL,IAAA,GAA2B;YAAtBxL,CAAC,GAAAyW,MAAA,CAAAna,KAAA;YACFia,UAAU,IAAIvW,CAAC,CAAC/F,MAAM;UAC1B;QAAC,SAAAwR,GAAA;UAAA+K,UAAA,CAAAlZ,CAAA,CAAAmO,GAAA;QAAA;UAAA+K,UAAA,CAAA/T,CAAA;QAAA;QACD6T,+BAA+B,GAAGC,UAAU,GAAG/B,6BAA6B;MAChF;MAAC,IAAAkC,MAAA,YAAAA,OAAA,EAE6C;QAAzCnc,CAAC,GAAAoc,cAAA,CAAAC,IAAA;QACFnY,IAAI,GAAG0X,eAAe,CAAC5b,CAAC,CAAC;QACzB,IAAMsc,MAAM,GAAG,EAAE;QACjB,KAAK,IAAM3L,CAAC,IAAIuJ,UAAU,CAAChW,IAAI,CAAC,EAAE;UAC9BoY,MAAM,CAAC5Y,IAAI,CAACiN,CAAC,CAAC;QAClB;QACA,IAAI4L,eAAe,GAAG,KAAK;QAC3B,IAAMC,SAAS,GAAG5d,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,cAAc,CAAC,CAACQ,IAAI,CAAC,CAAC;QAE5DwB,SAAS,CAAC5E,MAAM,CAAChZ,CAAC,CAAC,MAAM,CAAC,CAACgZ,MAAM,CACzBhZ,CAAC,CAAC,QAAQ,CAAC,CAACkD,IAAI,CAACoC,IAAI,CAAC,EACtBtF,CAAC,CAAC,QAAQ,CAAC,CAAC4b,QAAQ,CAAC,OAAO,CAAC,CAAC1Y,IAAI,KAAAkG,MAAA,CAAKsU,MAAM,CAAC5c,MAAM,MAAG,CAC3D,CACJ,CAAC;QACD,IAAI4c,MAAM,CAAC5c,MAAM,GAAGwB,IAAI,CAACoY,SAAS,EAAE;UAChCkD,SAAS,CAAC5E,MAAM,CAAChZ,CAAC,CAAC,KAAK,CAAC,CAAC+Z,IAAI,CAACzX,IAAI,CAAC8I,aAAa,CAACM,OAAO,CAAC,CAAC;QAC/D,CAAC,MAAM;UACH,IAAIgS,MAAM,CAAC5c,MAAM,GAAG,CAAC,EAAE;YACnB,IAAM+c,QAAQ,GAAG7d,CAAC,CAAC,KAAK,CAAC,CAACqc,QAAQ,CAACuB,SAAS,CAAC;YAC7C,IAAMxX,MAAM,GAAGC,OAAO,CAAC/D,IAAI,CAACgE,OAAO,EAAEhB,IAAI,CAAC;YAC1C,IAAMwY,WAAW,GAAGxb,IAAI,CAAC8I,aAAa,CAACO,aAAa;YACpD3L,CAAC,CAAC,SAAS,EAAE;cAAEwD,IAAI,EAAE;YAAO,CAAC,CAAC,CAAC6Y,QAAQ,CAACwB,QAAQ,CAAC,CAC5CvY,IAAI,CAAC;cAAEwY,WAAW,EAAXA,WAAW;cAAEC,KAAK,EAAE;YAAY,CAAC,CAAC,CACzChO,IAAI,CAAC,OAAO,EAAE,YAAY;cACvB,IAAMlB,MAAM,GAAG7O,CAAC,CAAC,IAAI,CAAC,CAACmG,GAAG,CAAC,CAAC,CAACuI,WAAW,CAAC,CAAC,CAACsP,IAAI,CAAC,CAAC;cACjD,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAIvb,MAAM,EAAEwb,QAAQ;gBAAA,OAAM,UAAUnM,CAAC,EAAE;kBACnD,IAAMoM,WAAW,GAAGtP,MAAM,CAACuP,SAAS,CAAC1b,MAAM,CAAC5B,MAAM,CAAC,CAACkd,IAAI,CAAC,CAAC;kBAC1D,IAAIG,WAAW,CAACrd,MAAM,KAAK,CAAC,EAAE;oBAC1B,OAAO,IAAI;kBACf;kBACA,IAAIud,MAAM,GAAG1d,IAAI,CAAC0H,IAAI,CAACjC,MAAM,CAAC2L,CAAC,CAACrD,WAAW,CAAC,CAAC,EAAEyP,WAAW,CAAC,CAAC;kBAC5D,OAAOD,QAAQ,CAACzY,QAAQ,CAAC4Y,MAAM,CAAC;gBACpC,CAAC;cAAA,CAAC;cACF,IAAMC,MAAM,GACRzP,MAAM,CAAC0P,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAGN,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAC/CpP,MAAM,CAAC0P,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAGN,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAClDpP,MAAM,CAAC0P,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAGN,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,GAC5CpP,MAAM,CAAC0P,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAGN,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAC7CpP,MAAM,CAAC0P,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,UAAUxM,CAAC,EAAE;gBACnC,IAAIlD,MAAM,CAACuP,SAAS,CAAC,CAAC,CAAC,CAACJ,IAAI,CAAC,CAAC,CAACld,MAAM,KAAK,CAAC,EAAE;kBACzC,OAAO,IAAI;gBACf;gBACA,OAAOiR,CAAC,CAACrD,WAAW,CAAC,CAAC,CAACR,KAAK,CAACW,MAAM,CAACuP,SAAS,CAAC,CAAC,CAAC,CAAC;cACrD,CAAC,GACC,UAAArM,CAAC;gBAAA,OAAIA,CAAC,CAACrD,WAAW,CAAC,CAAC,CAAC6P,OAAO,CAAC1P,MAAM,CAAC,KAAK,CAAC,CAAC;cAAA;cAErE,OAAO+O,SAAS,CAACY,IAAI,CAAC,uCAAuC,CAAC,CAACnK,IAAI,CAAC,YAAY;gBAC5E,IAAIiK,MAAM,CAACte,CAAC,CAAC,IAAI,CAAC,CAACkD,IAAI,CAAC,CAAC,CAAC,EAAE;kBACxB,OAAOlD,CAAC,CAAC,IAAI,CAAC,CAACM,MAAM,CAAC,CAAC,CAACA,MAAM,CAAC,CAAC,CAAC4b,IAAI,CAAC,CAAC;gBAC3C,CAAC,MAAM;kBACH,OAAOlc,CAAC,CAAC,IAAI,CAAC,CAACM,MAAM,CAAC,CAAC,CAACA,MAAM,CAAC,CAAC,CAAC8b,IAAI,CAAC,CAAC;gBAC3C;cACJ,CAAC,CAAC;YACN,CAAC,CAAC;YACNyB,QAAQ,CAAC7E,MAAM,CAAChZ,CAAC,CAAC,MAAM,CAAC,CAAC;YAC1BA,CAAC,CAAC,UAAU,EAAE;cAAEwD,IAAI,EAAE;YAAS,CAAC,CAAC,CAAC6Y,QAAQ,CAACwB,QAAQ,CAAC,CAC/C9D,IAAI,CAACzX,IAAI,CAAC8I,aAAa,CAACI,SAAS,CAAC,CAClCuE,IAAI,CAAC,OAAO,EAAE,YAAY;cACvB6N,SAAS,CAACY,IAAI,CAAC,6BAA6B,CAAC,CACxCC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAACC,WAAW,CAAC,SAAS,CAAC;cACjD,OAAO,KAAK;YAChB,CAAC,CAAC;YACN1e,CAAC,CAAC,UAAU,EAAE;cAAEwD,IAAI,EAAE;YAAS,CAAC,CAAC,CAAC6Y,QAAQ,CAACwB,QAAQ,CAAC,CAC/C9D,IAAI,CAACzX,IAAI,CAAC8I,aAAa,CAACK,UAAU,CAAC,CACnCsE,IAAI,CAAC,OAAO,EAAE,YAAY;cACvB6N,SAAS,CAACY,IAAI,CAAC,uBAAuB,CAAC,CAClCC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAACC,WAAW,CAAC,SAAS,CAAC;cAClD,OAAO,KAAK;YAChB,CAAC,CAAC;UACV;UAEA,IAAMC,cAAc,GAAG3e,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,mBAAmB,CAAC,CAACS,QAAQ,CAACuB,SAAS,CAAC;UAAC,IAAAgB,UAAA,GAAAzM,0BAAA,CAElEuL,MAAM,CAAC9W,IAAI,CAACP,OAAO,CAAC/D,IAAI,CAACgE,OAAO,EAAEhB,IAAI,CAAC,CAAC;YAAAuZ,MAAA;UAAA;YAA1D,KAAAD,UAAA,CAAArX,CAAA,MAAAsX,MAAA,GAAAD,UAAA,CAAAvX,CAAA,IAAAgL,IAAA,GAA4D;cAAA,IAAnDlP,KAAK,GAAA0b,MAAA,CAAA1b,KAAA;cACV,IAAM2b,UAAU,GAAGxD,UAAU,CAAChW,IAAI,CAAC,CAACnC,KAAK,CAAC;cAC1C,IAAM4b,UAAU,GAAG/e,CAAC,CAAC,SAAS,CAAC;cAC/B,IAAIgf,kBAAkB,GAAG,KAAK;cAC9B,IAAI1c,IAAI,CAACsY,UAAU,CAACtV,IAAI,CAAC,EAAE;gBACvB0Z,kBAAkB,GAAI,CAAC1c,IAAI,CAACsY,UAAU,CAACtV,IAAI,CAAC,CAACG,QAAQ,CAACtC,KAAK,CAAE;cACjE,CAAC,MAAM,IAAIb,IAAI,CAACqY,UAAU,CAACrV,IAAI,CAAC,EAAE;gBAC9B0Z,kBAAkB,GAAI1c,IAAI,CAACqY,UAAU,CAACrV,IAAI,CAAC,CAACG,QAAQ,CAACtC,KAAK,CAAE;cAChE;cACA,IAAI,CAACwa,eAAe,EAAE;gBAClBA,eAAe,GAAGqB,kBAAkB;cACxC;cACAhf,CAAC,CAAC,SAAS,CAAC,CACPsF,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,CAACsW,QAAQ,CAAC,WAAW,CAAC,CAC9CtW,IAAI,CAAC,SAAS,EAAE,CAAC0Z,kBAAkB,CAAC,CAACra,IAAI,CAAC,QAAQ,EAAE,CAACW,IAAI,EAAEnC,KAAK,CAAC,CAAC,CAClEkZ,QAAQ,CAAC0C,UAAU,CAAC,CACpBhP,IAAI,CAAC,QAAQ,EAAE,YAAY;gBACxB,OAAO/P,CAAC,CAAC,IAAI,CAAC,CAAC0e,WAAW,CAAC,SAAS,CAAC;cACzC,CAAC,CAAC;cACNK,UAAU,CAAC/F,MAAM,CAAChZ,CAAC,CAAC,QAAQ,CAAC,CAAC4b,QAAQ,CAAC,OAAO,CAAC,CAAC1Y,IAAI,CAACC,KAAK,CAAC,CAAC;cAC5D4b,UAAU,CAAC/F,MAAM,CAAChZ,CAAC,CAAC,QAAQ,CAAC,CAAC4b,QAAQ,CAAC,OAAO,CAAC,CAAC1Y,IAAI,CAAC,GAAG,GAAG4b,UAAU,GAAG,GAAG,CAAC,CAAC;cAC7EH,cAAc,CAAC3F,MAAM,CAAChZ,CAAC,CAAC,KAAK,CAAC,CAACgZ,MAAM,CAAC+F,UAAU,CAAC,CAAC;YACtD;UAAC,SAAAzM,GAAA;YAAAsM,UAAA,CAAAza,CAAA,CAAAmO,GAAA;UAAA;YAAAsM,UAAA,CAAAtV,CAAA;UAAA;QACL;QAEA,IAAM2V,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAe;UAC/B,IAAIrB,SAAS,CAACY,IAAI,CAAC,qBAAqB,CAAC,CAAC1d,MAAM,GAC5C8c,SAAS,CAACY,IAAI,CAAC,6BAA6B,CAAC,CAAC1d,MAAM,EAAE;YACtDoe,QAAQ,CAACtD,QAAQ,CAAC,sBAAsB,CAAC;UAC7C,CAAC,MAAM;YACHsD,QAAQ,CAAC/C,WAAW,CAAC,sBAAsB,CAAC;UAChD;UAEAyB,SAAS,CAACY,IAAI,CAAC,YAAY,CAAC,CAACrY,GAAG,CAAC,EAAE,CAAC;UACpCyX,SAAS,CAACY,IAAI,CAAC,sBAAsB,CAAC,CAACtC,IAAI,CAAC,CAAC;UAC7C,OAAO0B,SAAS,CAACxB,IAAI,CAAC,CAAC;QAC3B,CAAC;QAGD,IAAM+C,YAAY,GAAGnf,CAAC,CAAC,KAAK,CAAC,CAACqc,QAAQ,CAACuB,SAAS,CAAC;QAEjD,IAAIF,MAAM,CAAC5c,MAAM,IAAIwB,IAAI,CAACoY,SAAS,EAAE;UACjC1a,CAAC,CAAC,UAAU,EAAE;YAAEwD,IAAI,EAAE;UAAS,CAAC,CAAC,CAACN,IAAI,CAACZ,IAAI,CAAC8I,aAAa,CAAC3H,KAAK,CAAC,CAC3D4Y,QAAQ,CAAC8C,YAAY,CAAC,CAACpP,IAAI,CAAC,OAAO,EAAE,YAAY;YAClD,IAAI6N,SAAS,CAACY,IAAI,CAAC,UAAU,CAAC,CAACrC,WAAW,CAAC,SAAS,CAAC,CAACrb,MAAM,EAAE;cAC1Dyb,OAAO,CAAC,CAAC;YACb;YACA,OAAO0C,cAAc,CAAC,CAAC;UAC3B,CAAC,CAAC;QACN;QAEAjf,CAAC,CAAC,UAAU,EAAE;UAAEwD,IAAI,EAAE;QAAS,CAAC,CAAC,CAACN,IAAI,CAACZ,IAAI,CAAC8I,aAAa,CAACQ,MAAM,CAAC,CAC5DyQ,QAAQ,CAAC8C,YAAY,CAAC,CAACpP,IAAI,CAAC,OAAO,EAAE,YAAY;UAClD6N,SAAS,CAACY,IAAI,CAAC,kBAAkB,CAAC,CAC7BrC,WAAW,CAAC,SAAS,CAAC,CAACsC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;UAClDb,SAAS,CAACY,IAAI,CAAC,wBAAwB,CAAC,CACnCrC,WAAW,CAAC,SAAS,CAAC,CAACsC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;UACjD,OAAOQ,cAAc,CAAC,CAAC;QAC3B,CAAC,CAAC;QAEF,IAAMG,YAAY,GAAGpf,CAAC,CAAC,QAAQ,CAAC,CAAC4b,QAAQ,CAAC,aAAa,CAAC,CACnD7B,IAAI,CAAC,WAAW,CAAC,CAAChK,IAAI,CAAC,OAAO,EAAE,UAAU5L,CAAC,EAAE;UAC1C,IAAAkb,WAAA,GAAsBrf,CAAC,CAACmE,CAAC,CAACmb,aAAa,CAAC,CAACC,QAAQ,CAAC,CAAC;YAA3C3L,IAAI,GAAAyL,WAAA,CAAJzL,IAAI;YAAE4L,GAAG,GAAAH,WAAA,CAAHG,GAAG;UACjB,OAAO5B,SAAS,CAAC6B,GAAG,CAAC;YAAE7L,IAAI,EAAEA,IAAI,GAAG,EAAE;YAAE4L,GAAG,EAAEA,GAAG,GAAG;UAAG,CAAC,CAAC,CAACtD,IAAI,CAAC,CAAC;QACnE,CAAC,CAAC;QAEN,IAAMgD,QAAQ,GAAGlf,CAAC,CAAC,MAAM,CAAC,CAAC4b,QAAQ,SAAAxS,MAAA,CAAShI,CAAC,CAAE,CAAC,CAC3C4X,MAAM,CAAChZ,CAAC,CAAC,QAAQ,CAAC,CAAC4b,QAAQ,CAAC,SAAS,CAAC,CAAC1Y,IAAI,CAACoC,IAAI,CAAC,CAACX,IAAI,CAAC,UAAU,EAAEW,IAAI,CAAC,CAAC0T,MAAM,CAACoG,YAAY,CAAC,CAAC;QAEnG,IAAIzB,eAAe,EAAE;UACjBuB,QAAQ,CAACtD,QAAQ,CAAC,sBAAsB,CAAC;QAC7C;QACAe,MAAM,CAAC3D,MAAM,CAACkG,QAAQ,CAAC,CAAClG,MAAM,CAAC4E,SAAS,CAAC;MAC7C,CAAC;MAlJD,SAAAH,IAAA,MAAAD,cAAA,GAAUhR,MAAM,CAACpM,IAAI,CAAC4c,eAAe,IAAI,CAAC,CAAC,CAAC,EAAAS,IAAA,GAAAD,cAAA,CAAA1c,MAAA,EAAA2c,IAAA;QAAAF,MAAA;MAAA;MAoJ5Cvd,CAAC,CAAC,OAAO,CAAC,CACL4b,QAAQ,CAAC,mBAAmB,CAAC,CAC7BS,QAAQ,CAACP,YAAY,CAAC,CACtB5Y,IAAI,CAACkI,aAAa,CAACa,WAAW,CAAC;;MAEpC;MACA,IAAMyT,aAAa,GAAG1f,CAAC,CAAC,OAAO,CAAC,CAC3B4b,QAAQ,CAAC,qBAAqB,CAAC,CAC/BA,QAAQ,CAAC,cAAc,CAAC,CACxBS,QAAQ,CAACP,YAAY,CAAC;MAE3B,IAAMjb,UAAU,GAAGb,CAAC,CAAC,UAAU,CAAC,CAC3B4b,QAAQ,CAAC,eAAe,CAAC,CACzBS,QAAQ,CAACqD,aAAa,CAAC,CACvB3P,IAAI,CAAC,QAAQ,EAAE,YAAM;QAClB,IAAI,CAACzN,IAAI,CAAC2Y,QAAQ,EAAE;UAChBX,MAAI,CAACkE,IAAI,CAAC,2BAA2B,CAAC,CAACnK,IAAI,CAAC,YAAY;YACpD,OAAO,IAAI,CAACsL,MAAM,CAAC,CAAC;UACxB,CAAC,CAAC;UACFnL,WAAW,GAAG,CAAC;YAAEvL,EAAE,EAAE,CAAC;YAAE9F,KAAK,EAAEtC,UAAU,CAACsF,GAAG,CAAC;UAAE,CAAC,CAAC;UAClD,OAAOoW,OAAO,CAAC,CAAC;QACpB;MACJ,CAAC,CAAC,CAAC,CAAC;;MAER,SAAAqD,IAAA,MAAAC,cAAA,GAAUrT,MAAM,CAACpM,IAAI,CAACkC,IAAI,CAACkS,WAAW,IAAI,CAAC,CAAC,CAAC,EAAAoL,IAAA,GAAAC,cAAA,CAAA/e,MAAA,EAAA8e,IAAA,IAAE;QAA1C9d,CAAC,GAAA+d,cAAA,CAAAD,IAAA;QACF/e,UAAU,CAACmY,MAAM,CAAChZ,CAAC,CAAC,UAAU,CAAC,CAACmG,GAAG,CAACrE,CAAC,CAAC,CAACiY,IAAI,CAAChP,OAAO,CAACwO,MAAM,CAAC,CAACnO,aAAa,CAACtJ,CAAC,CAAC,IAAIiJ,OAAO,CAAC,IAAI,CAAC,CAACK,aAAa,CAACtJ,CAAC,CAAC,IAAIA,CAAC,CAAC,CAAC;MACzH;MAEA,IAAIQ,IAAI,CAAC2Y,QAAQ,EAAE;QACfjb,CAAC,CAAC,KAAK,EAAE;UAAE8f,IAAI,EAAE;QAAS,CAAC,CAAC,CACvBlE,QAAQ,CAAC,kBAAkB,CAAC,CAC5BA,QAAQ,CAAC,eAAe,CAAC,CACzBS,QAAQ,CAACqD,aAAa,CAAC,CACvB3F,IAAI,CAAC,GAAG,CAAC,CACThK,IAAI,CAAC,OAAO,EAAE,YAAY;UACvByE,WAAW,CAAC1P,IAAI,CAAC;YAAEmE,EAAE,EAAE,EAAEkS,OAAO;YAAEhY,KAAK,EAAEtC,UAAU,CAACsF,GAAG,CAAC;UAAE,CAAC,CAAC;UAC5DoO,iBAAiB,CAACC,WAAW,CAAC;UAC9B,OAAO+H,OAAO,CAAC,CAAC;QACpB,CAAC,CAAC;MACV;MAEA,IAAMwD,QAAQ,GAAG;QACbC,UAAU,EAAE;UAAEC,SAAS,EAAE,QAAQ;UAAEC,SAAS,EAAE,QAAQ;UAAEC,IAAI,EAAE;QAAe,CAAC;QAC9EC,YAAY,EAAE;UAAEH,SAAS,EAAE,QAAQ;UAAEC,SAAS,EAAE,QAAQ;UAAEC,IAAI,EAAE;QAAe,CAAC;QAChFE,YAAY,EAAE;UAAEJ,SAAS,EAAE,QAAQ;UAAEC,SAAS,EAAE,QAAQ;UAAEC,IAAI,EAAE;QAAa;MACjF,CAAC;MAED,IAAMG,aAAa,GAAGtgB,CAAC,CAAC,KAAK,EAAE;QAAE8f,IAAI,EAAE;MAAS,CAAC,CAAC,CAC7ClE,QAAQ,CAAC,aAAa,CAAC,CACvBA,QAAQ,CAAC,eAAe,CAAC,CACzBS,QAAQ,CAACqD,aAAa,CAAC,CACvB/a,IAAI,CAAC,OAAO,EAAErC,IAAI,CAACmO,QAAQ,CAAC,CAACsJ,IAAI,CAACgG,QAAQ,CAACzd,IAAI,CAACmO,QAAQ,CAAC,CAACwP,SAAS,CAAC,CACpElQ,IAAI,CAAC,OAAO,EAAE,YAAY;QACvB/P,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,EAAEob,QAAQ,CAAC/f,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,CAAC,CAAC,CAACwb,IAAI,CAAC;QAC3DngB,CAAC,CAAC,IAAI,CAAC,CAAC+Z,IAAI,CAACgG,QAAQ,CAAC/f,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,CAAC,CAAC,CAACsb,SAAS,CAAC;QACvD,OAAO1D,OAAO,CAAC,CAAC;MACpB,CAAC,CAAC;MAEN,IAAMgE,aAAa,GAAGvgB,CAAC,CAAC,KAAK,EAAE;QAAE8f,IAAI,EAAE;MAAS,CAAC,CAAC,CAC7ClE,QAAQ,CAAC,aAAa,CAAC,CACvBA,QAAQ,CAAC,eAAe,CAAC,CACzBS,QAAQ,CAACqD,aAAa,CAAC,CACvB/a,IAAI,CAAC,OAAO,EAAErC,IAAI,CAACoO,QAAQ,CAAC,CAACqJ,IAAI,CAACgG,QAAQ,CAACzd,IAAI,CAACoO,QAAQ,CAAC,CAACwP,SAAS,CAAC,CACpEnQ,IAAI,CAAC,OAAO,EAAE,YAAY;QACvB/P,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,EAAEob,QAAQ,CAAC/f,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,CAAC,CAAC,CAACwb,IAAI,CAAC;QAC3DngB,CAAC,CAAC,IAAI,CAAC,CAAC+Z,IAAI,CAACgG,QAAQ,CAAC/f,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,CAAC,CAAC,CAACub,SAAS,CAAC;QACvD,OAAO3D,OAAO,CAAC,CAAC;MACpB,CAAC,CAAC;MAEN,IAAMiE,MAAM,GAAGxgB,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,SAAS,CAAC,CACxCA,QAAQ,CAAC,cAAc,CAAC,CACxBS,QAAQ,CAACP,YAAY,CAAC;MAE3BA,YAAY,CAAC9C,MAAM,CAACwH,MAAM,CAAC;;MAE3B;MACAxgB,CAAC,CAAC,OAAO,CAAC,CACL4b,QAAQ,CAAC,mBAAmB,CAAC,CAC7BS,QAAQ,CAACP,YAAY,CAAC,CACtB5Y,IAAI,CAACkI,aAAa,CAACc,WAAW,CAAC;MAEpC4P,YAAY,CAAC9C,MAAM,CAAC2D,MAAM,CAAC;;MAE3B;MACA3c,CAAC,CAAC,OAAO,CAAC,CACL4b,QAAQ,CAAC,mBAAmB,CAAC,CAC7BS,QAAQ,CAACP,YAAY,CAAC,CACtB5Y,IAAI,CAACkI,aAAa,CAACe,SAAS,CAAC;MAElCnM,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,0BAA0B,CAAC,CAACS,QAAQ,CAACP,YAAY,CAAC;;MAEtE;MACA9b,CAAC,CAAC,OAAO,CAAC,CACL4b,QAAQ,CAAC,mBAAmB,CAAC,CAC7BS,QAAQ,CAACP,YAAY,CAAC,CACtB5Y,IAAI,CAACkI,aAAa,CAACgB,SAAS,CAAC;MAClCpM,CAAC,CAAC,OAAO,CAAC,CAAC4b,QAAQ,CAAC,0BAA0B,CAAC,CAACS,QAAQ,CAACP,YAAY,CAAC;;MAEtE;MACA,IAAM2E,UAAU,GAAGzgB,CAAC,CAAC,OAAO,CAAC,CACxB4b,QAAQ,CAAC,iBAAiB,CAAC,CAC3BS,QAAQ,CAACN,gBAAgB,CAAC;;MAE/B;MACA,IAAI,CAAChC,IAAI,CAAC4B,WAAW,CAAC;MAEtB,IAAI,CAACrZ,IAAI,CAAC4Y,gBAAgB,EAAE;QACxBc,eAAe,CAACG,WAAW,CAAC,QAAQ,CAAC;QACrCL,YAAY,CAACM,IAAI,CAAC,CAAC;MACvB;;MAEA;;MAEA,IAAIsE,aAAa,GAAG,IAAI;;MAExB;MACA,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;QACzB,IAAIha,IAAI;QACR,IAAMia,OAAO,GAAG;UACZjQ,iBAAiB,EAAErO,IAAI,CAACqO,iBAAiB;UACzCvF,aAAa,EAAE9I,IAAI,CAAC8I,aAAa;UACjCuO,eAAe,EAAErX,IAAI,CAACqX,eAAe;UACrCrT,OAAO,EAAEhE,IAAI,CAACgE,OAAO;UACrBgK,IAAI,EAAE,EAAE;UAAEnQ,IAAI,EAAE,EAAE;UAClBqZ,SAAS,EAAElX,IAAI,CAACkX,SAAS;UACzBpI,QAAQ,EAAE9O,IAAI,CAAC8O;QACnB,CAAC;QAEDkJ,MAAI,CAACkE,IAAI,CAAC,0BAA0B,CAAC,CAACnK,IAAI,CAAC,YAAY;UACnD,OAAOuM,OAAO,CAACzgB,IAAI,CAAC2E,IAAI,CAAC9E,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,UAAU,CAAC,CAAC;QACtD,CAAC,CAAC;QACF2V,MAAI,CAACkE,IAAI,CAAC,0BAA0B,CAAC,CAACnK,IAAI,CAAC,YAAY;UACnD,OAAOuM,OAAO,CAACtQ,IAAI,CAACxL,IAAI,CAAC9E,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,UAAU,CAAC,CAAC;QACtD,CAAC,CAAC;QAEF,IAAIkc,kBAAkB,GAAG,CAAC;QAE1B,IAAMC,OAAO,GAAG,EAAE;QAClB,IAAI1N,CAAC,GAAG,CAAC;UAAE2N,GAAG,GAAG3N,CAAC;QAAC,IAAA4N,MAAA,YAAAA,OAAA,EAC0B;UACzC,IAAIC,cAAc;UAClB,IAAM/X,GAAG,GAAGsL,WAAW,CAACuM,GAAG,CAAC;UAC5B,IAAIG,OAAA,CAAOhY,GAAG,MAAK,QAAQ,EAAE;YACzB+X,cAAc,GAAG/X,GAAG,CAAC/F,KAAK;UAC9B;UACA,IAAMge,MAAM,GAAGjY,GAAG,CAACD,EAAE;UACrB,IAAMmY,WAAW,GAAGlY,GAAG,CAACvC,IAAI;UAE5B,IAAMiN,IAAI,GAAGtR,IAAI,CAACkS,WAAW,CAACyM,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACvb,SAAS;UAC7D,IAAIkO,IAAI,IAAI,IAAI,EAAE;YACdiN,kBAAkB,GAAGjN,IAAI;UAC7B,CAAC,MAAM;YACHiN,kBAAkB,GAAG,CAAC;UAC1B;UACAla,IAAI,GAAG,EAAE;UACT2T,MAAI,CAACkE,IAAI,CAAC,iCAAiC,GAAG2C,MAAM,CAAC,CAAC9M,IAAI,CAAC,YAAY;YACnE,IAAIwM,kBAAkB,KAAK,CAAC,EAAE;cAC1BA,kBAAkB,EAAE;cACpB,IAAI7gB,CAAC,CAAC,IAAI,CAAC,CAACmG,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;gBACtB,OAAOQ,IAAI,CAAC7B,IAAI,CAAC9E,CAAC,CAAC,IAAI,CAAC,CAACmG,GAAG,CAAC,CAAC,CAAC;cACnC;YACJ;UACJ,CAAC,CAAC;UAGF,IAAMkb,OAAO,GAAG/G,MAAI,CAACkE,IAAI,CAAC,UAAU,CAAC;UACrC,IAAI8C,SAAS,GAAGhH,MAAI,CAACkE,IAAI,CAAC,oCAAoC,GAAG2C,MAAM,CAAC;UACxE,IAAMI,KAAK,GAAGD,SAAS,CAACxgB,MAAM,GAAG,CAAC;UAClC,IAAIwB,IAAI,CAAC2Y,QAAQ,EAAE;YACf,IAAIuG,eAAe;YACnB,IAAI,CAACD,KAAK,EAAE;cACRD,SAAS,GAAGthB,CAAC,CAAC,OAAO,CAAC,CACjB4b,QAAQ,CAAC,0BAA0B,CAAC,CACpCA,QAAQ,CAAC,0BAA0B,GAAGuF,MAAM,CAAC,CAC7C9E,QAAQ,CAACgF,OAAO,CAAC;cACtBG,eAAe,GAAGzW,OAAO,CAACwO,MAAM,CAAC,CAACnO,aAAa,CAAC6V,cAAc,CAAC,IAAIlW,OAAO,CAAC,IAAI,CAAC,CAACK,aAAa,CAAC6V,cAAc,CAAC,IAAIA,cAAc;cAChIjhB,CAAC,CAAC,SAAS,CAAC,CACP4b,QAAQ,CAAC,iBAAiB,CAAC,CAC3BA,QAAQ,CAAC,iBAAiB,GAAGuF,MAAM,CAAC,CACpC9E,QAAQ,CAACiF,SAAS,CAAC,CACnBvH,IAAI,CAAC,KAAK,GAAG7Q,GAAG,CAACuL,WAAW,GAAG,QAAQ,GAAG+M,eAAe,CAAC;cAC/Dd,aAAa,GAAG,IAAI;YACxB;YAEA,IAAI,CAACA,aAAa,EAAE;cAChBpG,MAAI,CAACkE,IAAI,CAAC,oCAAoC,GAAG2C,MAAM,GAAG,wBAAwB,CAAC,CAC9E9M,IAAI,CAAC,YAAY;gBACdmN,eAAe,GAAGzW,OAAO,CAACwO,MAAM,CAAC,CAACnO,aAAa,CAAC6V,cAAc,CAAC,IAAIlW,OAAO,CAAC,IAAI,CAAC,CAACK,aAAa,CAAC6V,cAAc,CAAC,IAAIA,cAAc;gBAChI,OAAOjhB,CAAC,CAAC,IAAI,CAAC,CAAC+Z,IAAI,CAAC,KAAK,GAAG7Q,GAAG,CAACuL,WAAW,GAAG,QAAQ,GAAG+M,eAAe,CAAC;cAC7E,CAAC,CAAC;YACV;UACJ,CAAC,MAAM;YACHF,SAAS,GAAGD,OAAO;UACvB;UAEA,IAAIR,kBAAkB,KAAK,CAAC,EAAE;YAC1B,IAAIvK,GAAG,EAAEC,GAAG;YACZ,KAAKzU,CAAC,GAAG,CAAC,EAAEyU,GAAG,GAAGsK,kBAAkB,EAAEvK,GAAG,GAAG,CAAC,IAAIC,GAAG,EAAED,GAAG,GAAGxU,CAAC,GAAGyU,GAAG,GAAGzU,CAAC,GAAGyU,GAAG,EAAED,GAAG,GAAGxU,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE;cAC5F,IAAM2f,WAAW,GAAGzhB,CAAC,CAAC,UAAU,CAAC,CAC5B4b,QAAQ,CAAC,iBAAiB,GAAGuF,MAAM,CAAC,CACpCvF,QAAQ,CAAC,iBAAiB,CAAC,CAC3B5C,MAAM,CAAChZ,CAAC,CAAC,UAAU,CAAC,CAAC,CACrB+P,IAAI,CAAC,QAAQ,EAAE;gBAAA,OAAMwM,OAAO,CAAC,CAAC;cAAA,EAAC;cACpC,SAAAmF,IAAA,MAAAC,mBAAA,GAAa9E,kBAAkB,EAAA6E,IAAA,GAAAC,mBAAA,CAAA7gB,MAAA,EAAA4gB,IAAA,IAAE;gBAA5Bpc,IAAI,GAAAqc,mBAAA,CAAAD,IAAA;gBACLD,WAAW,CAACzI,MAAM,CAAChZ,CAAC,CAAC,UAAU,CAAC,CAACmG,GAAG,CAACb,IAAI,CAAC,CAACpC,IAAI,CAACoC,IAAI,CAAC,CAAC;cAC1D;cACAgc,SAAS,CAACtI,MAAM,CAACyI,WAAW,CAAC;YACjC;UACJ;UAGA,IAAInf,IAAI,CAAC2Y,QAAQ,IAAI,CAACsG,KAAK,EAAE;YACzBvhB,CAAC,CAAC,KAAK,CAAC,CACH+Z,IAAI,CAAC,GAAG,CAAC,CACT6B,QAAQ,CAAC,qBAAqB,CAAC,CAC/BA,QAAQ,CAAC,eAAe,CAAC,CACzBA,QAAQ,CAAC,iBAAiB,GAAGuF,MAAM,CAAC,CACpC9E,QAAQ,CAACiF,SAAS,CAAC,CACnBvR,IAAI,CAAC,OAAO,EAAG,YAAY;cAAA,IAAA6R,MAAA;cACpB,IAAI,CAACC,QAAQ,CAACrD,IAAI,CAAC,oCAAoC,GAAG,IAAI,CAAC2C,MAAM,CAAC,CAACxB,MAAM,CAAC,CAAC;cAC/EoB,GAAG,GAAGvM,WAAW,CAACsN,SAAS,CAAC,UAAA5Y,GAAG;gBAAA,OAAIA,GAAG,CAACD,EAAE,KAAK2Y,MAAI,CAACT,MAAM;cAAA,EAAC;cAC1D3M,WAAW,CAACuN,MAAM,CAAChB,GAAG,EAAE,CAAC,CAAC;cAC1BxM,iBAAiB,CAACC,WAAW,CAAC;cAC9B,OAAO+H,OAAO,CAAC,CAAC;YACpB,CAAC,CAAExM,IAAI,CAAC;cAAE8R,QAAQ,EAAEvH,MAAI;cAAE6G,MAAM,EAANA;YAAO,CAAC,CACtC,CAAC;UACT;UAEA,IAAIT,aAAa,EAAE;YACf/Z,IAAI,GAAGya,WAAW,IAAI,IAAI,GAAGA,WAAW,GAAG9e,IAAI,CAACqE,IAAI;YACpDvF,CAAC,GAAG,CAAC;YACLkZ,MAAI,CAACkE,IAAI,CAAC,iCAAiC,GAAG2C,MAAM,CAAC,CAAC9M,IAAI,CAAC,YAAY;cACnErU,CAAC,CAAC,IAAI,CAAC,CAACmG,GAAG,CAACQ,IAAI,CAACvF,CAAC,CAAC,CAAC;cACpB,OAAOA,CAAC,EAAE;YACd,CAAC,CAAC;YACFsf,aAAa,GAAG,KAAK;UACzB;UAEAI,OAAO,CAAChc,IAAI,CAAC6B,IAAI,CAAC;QACtB,CAAC;QApGD,OAAOyM,CAAC,GAAGoB,WAAW,CAAC1T,MAAM,EAAEsS,CAAC,EAAE,EAAE2N,GAAG,GAAG3N,CAAC;UAAA4N,MAAA;QAAA;QAsG3CJ,OAAO,CAACxQ,cAAc,GAAGoE,WAAW,CAACxF,GAAG,CAAC,UAAA9F,GAAG;UAAA,OAAIA,GAAG,CAAC/F,KAAK;QAAA,EAAC;QAC1Dyd,OAAO,CAACja,IAAI,GAAGma,OAAO;QACtBF,OAAO,CAAC/f,UAAU,GAAG2T,WAAW,CAACxF,GAAG,CAAC,UAAC9F,GAAG,EAAE9H,CAAC;UAAA,OAAKkB,IAAI,CAACkS,WAAW,CAACtL,GAAG,CAAC/F,KAAK,CAAC,CAAC2d,OAAO,CAAC1f,CAAC,CAAC,CAAC;QAAA,EAAC;QACzFwf,OAAO,CAACnH,QAAQ,GAAGnX,IAAI,CAACgI,SAAS,CAACmP,QAAQ,CAACtT,GAAG,CAAC,CAAC,CAAC;QACjDya,OAAO,CAACnQ,QAAQ,GAAG6P,aAAa,CAAC3b,IAAI,CAAC,OAAO,CAAC;QAC9Cic,OAAO,CAAClQ,QAAQ,GAAG6P,aAAa,CAAC5b,IAAI,CAAC,OAAO,CAAC;QAC9C,IAAIrC,IAAI,CAAC2Y,QAAQ,EAAE;UACf2F,OAAO,CAACzP,gBAAgB,GAAGqD,WAAW,CAACxF,GAAG,CAAC,UAAA9F,GAAG;YAAA,OAAIA,GAAG,CAACuL,WAAW;UAAA,EAAC;QACtE;;QAEA;QACA,IAAMkG,UAAU,GAAG,CAAC,CAAC;QACrBL,MAAI,CAACkE,IAAI,CAAC,iBAAiB,CAAC,CAACwD,GAAG,CAAC,UAAU,CAAC,CAAC3N,IAAI,CAAC,YAAY;UAC1D,IAAMxF,MAAM,GAAG7O,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,QAAQ,CAAC;UACrC,IAAIgW,UAAU,CAAC9L,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;YAC/B,OAAO8L,UAAU,CAAC9L,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC/J,IAAI,CAAC+J,MAAM,CAAC,CAAC,CAAC,CAAC;UAChD,CAAC,MAAM;YACH,OAAO8L,UAAU,CAAC9L,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAACA,MAAM,CAAC,CAAC,CAAC,CAAC;UAC9C;QACJ,CAAC,CAAC;QACF;QACA,IAAM+L,UAAU,GAAG,CAAC,CAAC;QACrBN,MAAI,CAACkE,IAAI,CAAC,yBAAyB,CAAC,CAACnK,IAAI,CAAC,YAAY;UAClD,IAAMxF,MAAM,GAAG7O,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,QAAQ,CAAC;UACrC,IAAIgW,UAAU,CAAC9L,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;YAC/B,IAAI+L,UAAU,CAAC/L,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;cAC/B,OAAO+L,UAAU,CAAC/L,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC/J,IAAI,CAAC+J,MAAM,CAAC,CAAC,CAAC,CAAC;YAChD,CAAC,MAAM;cACH,OAAO+L,UAAU,CAAC/L,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAACA,MAAM,CAAC,CAAC,CAAC,CAAC;YAC9C;UACJ;QACJ,CAAC,CAAC;QAEF+R,OAAO,CAAC/R,MAAM,GAAG,UAAUrJ,MAAM,EAAE;UAC/B,IAAI,CAAClD,IAAI,CAACuM,MAAM,CAACrJ,MAAM,CAAC,EAAE;YACtB,OAAO,KAAK;UAChB;UACA,KAAK,IAAIsM,CAAC,IAAI6I,UAAU,EAAE;YACtB,IAAMsH,aAAa,GAAGtH,UAAU,CAAC7I,CAAC,CAAC;YACnC,IAAImQ,aAAa,CAACxc,QAAQ,CAAC,EAAE,IAAID,MAAM,CAACsM,CAAC,CAAC,IAAI,IAAI,GAAGtM,MAAM,CAACsM,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,EAAE;cACvE,OAAO,KAAK;YAChB;UACJ;UACA,OAAO,IAAI;QACf,CAAC;QAED2O,UAAU,CAACpH,KAAK,CAACkC,iBAAiB,EAAEqF,OAAO,EAAErH,MAAM,CAAC;QACpD,IAAM2I,cAAc,GAAGliB,CAAC,CAAC4C,MAAM,CAAC,CAAC,CAAC,EAAEN,IAAI,EAAE;UAClCgO,IAAI,EAAEsQ,OAAO,CAACtQ,IAAI;UAClBnQ,IAAI,EAAEygB,OAAO,CAACzgB,IAAI;UAClBuQ,QAAQ,EAAEkQ,OAAO,CAAClQ,QAAQ;UAC1BD,QAAQ,EAAEmQ,OAAO,CAACnQ,QAAQ;UAC1B9J,IAAI,EAAEma,OAAO;UACbnG,UAAU,EAAVA,UAAU;UACVC,UAAU,EAAVA,UAAU;UACV/Z,UAAU,EAAE+f,OAAO,CAAC/f,UAAU;UAC9BshB,cAAc,EAAEvH,UAAU;UAAE;UAC5BxK,cAAc,EAAEwQ,OAAO,CAACxQ,cAAc;UACtCgS,YAAY,EAAE3I,QAAQ,CAACtT,GAAG,CAAC;QAC/B,CACJ,CAAC;QAED,IAAMkc,gBAAgB,GAAGzB,OAAO,CAACjM,SAAS;QAC1C,OAAOiM,OAAO,CAACjM,SAAS;QACxB2F,MAAI,CAAC3V,IAAI,CAAC,gBAAgB,EAAEud,cAAc,CAAC;;QAE3C;QACA,IAAI5f,IAAI,CAACwY,mBAAmB,EAAE;UAC1B,IAAMwH,oBAAoB,GAAGhI,MAAI,CAACkE,IAAI,CAAC,+BAA+B,CAAC;UACvExe,CAAC,CAACsiB,oBAAoB,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAC,CACjC3b,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;YAAA,OAAK0C,WAAW,CAACxJ,CAAC,CAAC6G,CAAC,CAAC,CAAC3D,IAAI,CAAC,CAAC,EAAElD,CAAC,CAAC8G,CAAC,CAAC,CAAC5D,IAAI,CAAC,CAAC,CAAC;UAAA,EAAC,CACrDmZ,QAAQ,CAACiG,oBAAoB,CAAC;QACvC;QAEA7B,UAAU,CAAChB,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC;QAC5B,IAAInd,IAAI,CAACyY,SAAS,IAAI,IAAI,EAAE;UACxB,OAAOzY,IAAI,CAACyY,SAAS,CAACmH,cAAc,EAAEG,gBAAgB,CAAC;QAC3D;MACJ,CAAC;MAED,IAAM9F,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAS;QAClBkE,UAAU,CAAChB,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC;QAC9B,OAAO+C,UAAU,CAAC7B,cAAc,EAAE,EAAE,CAAC;MACzC,CAAC;MAAC,IAAA8B,UAAA,GAAAtQ,0BAAA,CAEQ7P,IAAI,CAACgO,IAAI;QAAAoS,MAAA;MAAA;QAAnB,KAAAD,UAAA,CAAAlb,CAAA,MAAAmb,MAAA,GAAAD,UAAA,CAAApb,CAAA,IAAAgL,IAAA,GAAqB;UAAhBvQ,CAAC,GAAA4gB,MAAA,CAAAvf,KAAA;UACF,IAAI,CAACqb,IAAI,CAAC,UAAU,CAAC,CAACxF,MAAM,CAAC,IAAI,CAACwF,IAAI,UAAApV,MAAA,CAAUpJ,CAAC,CAAC2iB,OAAO,CAAC7gB,CAAC,EAAEkb,eAAe,CAAC,CAAE,CAAC,CAAC;QACrF;MAAC,SAAA1K,GAAA;QAAAmQ,UAAA,CAAAte,CAAA,CAAAmO,GAAA;MAAA;QAAAmQ,UAAA,CAAAnZ,CAAA;MAAA;MAAA,IAAAsZ,WAAA,GAAAzQ,0BAAA,CACS7P,IAAI,CAACnC,IAAI;QAAA0iB,OAAA;MAAA;QAAnB,KAAAD,WAAA,CAAArb,CAAA,MAAAsb,OAAA,GAAAD,WAAA,CAAAvb,CAAA,IAAAgL,IAAA,GAAqB;UAAhBvQ,CAAC,GAAA+gB,OAAA,CAAA1f,KAAA;UACF,IAAI,CAACqb,IAAI,CAAC,UAAU,CAAC,CAACxF,MAAM,CAAC,IAAI,CAACwF,IAAI,UAAApV,MAAA,CAAUpJ,CAAC,CAAC2iB,OAAO,CAAC7gB,CAAC,EAAEkb,eAAe,CAAC,CAAE,CAAC,CAAC;QACrF;MAAC,SAAA1K,GAAA;QAAAsQ,WAAA,CAAAze,CAAA,CAAAmO,GAAA;MAAA;QAAAsQ,WAAA,CAAAtZ,CAAA;MAAA;MACD,IAAIhH,IAAI,CAAC8N,cAAc,IAAI,IAAI,EAAE;QAC7B,IAAI9N,IAAI,CAAC2Y,QAAQ,EAAE;UACf3Y,IAAI,CAAC8N,cAAc,GAAG3H,KAAK,CAAC0H,OAAO,CAAC7N,IAAI,CAAC8N,cAAc,CAAC,GAAG9N,IAAI,CAAC8N,cAAc,GAAG,CAAC9N,IAAI,CAAC8N,cAAc,CAAC;UACtG,KAAK,IAAI2Q,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGze,IAAI,CAAC8N,cAAc,CAACtP,MAAM,EAAEigB,GAAG,EAAE,EAAE;YACvD,IAAM7X,IAAG,GAAG5G,IAAI,CAAC8N,cAAc,CAAC2Q,GAAG,CAAC;YACpCvM,WAAW,CAAC1P,IAAI,CAAC;cACbmE,EAAE,EAAE,EAAEkS,OAAO;cACbhY,KAAK,EAAE+F,IAAG;cACVvC,IAAI,EAAGrE,IAAI,CAACqE,IAAI,IAAI,IAAI,GAAGrE,IAAI,CAACqE,IAAI,CAACoa,GAAG,CAAC,GAAG5b;YAChD,CAAC,CAAC;YACFoP,iBAAiB,CAACC,WAAW,CAAC;UAClC;QACJ,CAAC,MAAM;UACH,IAAI,CAACgK,IAAI,CAAC,UAAU,CAAC,CAACxF,MAAM,CAAC,IAAI,CAACwF,IAAI,CAAC,kBAAkB,CAAC,CAAC;UAC3D,IAAI,CAACA,IAAI,CAAC,gBAAgB,CAAC,CAACrY,GAAG,CAAC7D,IAAI,CAAC8N,cAAc,CAAC,CAACnP,MAAM,CAAC,CAAC;QACjE;MACJ,CAAC,MAAM;QACH,IAAI,CAACud,IAAI,CAAC,gBAAgB,CAAC,CAACvd,MAAM,CAAC,CAAC;MACxC;MACA,IAAIqB,IAAI,CAAC8f,YAAY,IAAI,IAAI,EAAE;QAC3B,IAAI,CAAC5D,IAAI,CAAC,cAAc,CAAC,CAACrY,GAAG,CAAC7D,IAAI,CAAC8f,YAAY,CAAC;MACpD;MAEA,IAAI,CAAC9f,IAAI,CAAC0Y,MAAM,EAAE;QACd,IAAI,CAACwD,IAAI,CAAC,YAAY,CAAC,CAACpC,IAAI,CAAC,CAAC;MAClC;;MAEA;MACAG,OAAO,CAAC,CAAC;MAET,IAAI,CAACiC,IAAI,CAAC,mBAAmB,CAAC,CAACsE,QAAQ,CAAC;QACpCC,MAAM,WAAAA,OAAC5e,CAAC,EAAE6e,EAAE,EAAE;UACV,IAAKA,EAAE,CAACC,MAAM,IAAI,IAAI,EAAG;YACrB,OAAO1G,OAAO,CAAC,CAAC;UACpB;QACJ,CAAC;QACD2G,WAAW,EAAE,IAAI,CAAC1E,IAAI,CAAC,mBAAmB,CAAC;QAC3C2E,KAAK,EAAE,IAAI;QACXrF,WAAW,EAAE;MACjB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOlE,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB,IAAI,CAACG,IAAI,CAACzX,IAAI,CAAC8I,aAAa,CAACG,aAAa,CAAC;IAC/C;IACA,OAAO,IAAI;EACf,CAAC;;EAED;AACJ;AACA;;EAEIvL,CAAC,CAACiF,EAAE,CAAC2F,OAAO,GAAG,UAAUwY,KAAK,EAAE9gB,IAAI,EAAE;IAAA,IAAA+gB,aAAA;MAAAC,MAAA;IAClC,IAAIF,KAAK,IAAI,IAAI,EAAE;MACfA,KAAK,GAAG,SAAS;IACrB;IACA,IAAMG,OAAO,GAAG,IAAI,CAAC5e,IAAI,CAAC,SAAS,CAAC;IACpC,IAAM6e,OAAO,GAAG,IAAI,CAAC7e,IAAI,CAAC,SAAS,CAAC;;IAEpC;IACA;IACA,IAAI8e,mBAAmB,GAAGnhB,IAAI,aAAJA,IAAI,gBAAA+gB,aAAA,GAAJ/gB,IAAI,CAAEsI,OAAO,cAAAyY,aAAA,uBAAbA,aAAA,CAAeI,mBAAmB;IAC5D,IAAIA,mBAAmB,IAAI,IAAI,EAAE;MAC7BA,mBAAmB,GAAG,SAAAA,oBAAU/F,MAAM,EAAE;QACpC,IAAMhU,GAAG,GAAG/I,IAAI,CAAC+I,GAAG,CAAAjG,KAAA,CAAR9C,IAAI,EAAAqI,kBAAA,CAAS0U,MAAM,IAAI,EAAE,CAAC,CAAC;QACvC,IAAM9c,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAA6C,KAAA,CAAR9C,IAAI,EAAAqI,kBAAA,CAAS0U,MAAM,IAAI,EAAE,CAAC,CAAC;QACvC,OAAO,UAAU5b,CAAC,EAAE;UAChB,IAAM4hB,MAAM,GAAG,GAAG,GAAG/iB,IAAI,CAACgjB,KAAK,CAAE,GAAG,IAAI7hB,CAAC,GAAG4H,GAAG,CAAC,IAAK9I,GAAG,GAAG8I,GAAG,CAAC,CAAC;UAChE,kBAAAN,MAAA,CAAkBsa,MAAM,OAAAta,MAAA,CAAIsa,MAAM;QACtC,CAAC;MACL,CAAC;IACL;IAEA,IAAME,UAAU,GAAG,SAAbA,UAAUA,CAAGR,KAAK,EAAI;MACxB,IAAMS,WAAW,GAAG,SAAdA,WAAWA,CAAGva,CAAC,EAAI;QACrB,OAAOga,MAAI,CAAC9E,IAAI,CAAC4E,KAAK,CAAC,CAAC/O,IAAI,CAAC,YAAY;UACrC,IAAMvS,CAAC,GAAG9B,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,CAAC;UAC/B,IAAK7C,CAAC,IAAI,IAAI,IAAKgB,QAAQ,CAAChB,CAAC,CAAC,EAAE;YAC5B,OAAOwH,CAAC,CAACxH,CAAC,EAAE9B,CAAC,CAAC,IAAI,CAAC,CAAC;UACxB;QACJ,CAAC,CAAC;MACN,CAAC;MAED,IAAM0d,MAAM,GAAG,EAAE;MACjBmG,WAAW,CAAC,UAAA/hB,CAAC;QAAA,OAAI4b,MAAM,CAAC5Y,IAAI,CAAChD,CAAC,CAAC;MAAA,EAAC;MAChC,IAAMgiB,UAAU,GAAGL,mBAAmB,CAAC/F,MAAM,CAAC;MAC9C,OAAOmG,WAAW,CAAC,UAAC/hB,CAAC,EAAEiiB,IAAI;QAAA,OAAKA,IAAI,CAACtE,GAAG,CAAC,kBAAkB,EAAEqE,UAAU,CAAChiB,CAAC,CAAC,CAAC;MAAA,EAAC;IAChF,CAAC;IAED,QAAQshB,KAAK;MACT,KAAK,SAAS;QACVQ,UAAU,CAAC,SAAS,CAAC;QACrB;MACJ,KAAK,YAAY;QACb,KAAK,IAAIxiB,CAAC,GAAG,CAAC,EAAEmV,GAAG,GAAGgN,OAAO,EAAEjN,GAAG,GAAG,CAAC,IAAIC,GAAG,EAAED,GAAG,GAAGlV,CAAC,GAAGmV,GAAG,GAAGnV,CAAC,GAAGmV,GAAG,EAAED,GAAG,GAAGlV,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE;UACrFwiB,UAAU,eAAAxa,MAAA,CAAehI,CAAC,CAAE,CAAC;QACjC;QACA;MACJ,KAAK,YAAY;QACb,KAAK,IAAIgS,CAAC,GAAG,CAAC,EAAEuD,IAAI,GAAG6M,OAAO,EAAE9M,IAAI,GAAG,CAAC,IAAIC,IAAI,EAAED,IAAI,GAAGtD,CAAC,GAAGuD,IAAI,GAAGvD,CAAC,GAAGuD,IAAI,EAAED,IAAI,GAAGtD,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE;UAC5FwQ,UAAU,eAAAxa,MAAA,CAAegK,CAAC,CAAE,CAAC;QACjC;QACA;IACR;IAEAwQ,UAAU,CAAC,oBAAoB,CAAC;IAChCA,UAAU,CAAC,oBAAoB,CAAC;IAEhC,OAAO,IAAI;EACf,CAAC;;EAED;AACJ;AACA;;EAEI5jB,CAAC,CAACiF,EAAE,CAACyF,QAAQ,GAAG,UAAUpI,IAAI,EAAE;IAAA,IAAA0hB,MAAA;IAC5B,IAAMT,OAAO,GAAG,IAAI,CAAC5e,IAAI,CAAC,SAAS,CAAC;IACpC,IAAM6e,OAAO,GAAG,IAAI,CAAC7e,IAAI,CAAC,SAAS,CAAC;IAEpC,IAAMsf,UAAU,GAAG,SAAbA,UAAUA,CAAGb,KAAK,EAAI;MACxB,IAAMS,WAAW,GAAG,SAAdA,WAAWA,CAAGva,CAAC,EAAI;QACrB,OAAO0a,MAAI,CAACxF,IAAI,CAAC4E,KAAK,CAAC,CAAC/O,IAAI,CAAC,YAAY;UACrC,IAAMvS,CAAC,GAAG9B,CAAC,CAAC,IAAI,CAAC,CAAC2E,IAAI,CAAC,OAAO,CAAC;UAC/B,IAAK7C,CAAC,IAAI,IAAI,IAAKgB,QAAQ,CAAChB,CAAC,CAAC,EAAE;YAC5B,OAAOwH,CAAC,CAACxH,CAAC,EAAE9B,CAAC,CAAC,IAAI,CAAC,CAAC;UACxB;QACJ,CAAC,CAAC;MACN,CAAC;MAED,IAAM0d,MAAM,GAAG,EAAE;MACjBmG,WAAW,CAAC,UAAA/hB,CAAC;QAAA,OAAI4b,MAAM,CAAC5Y,IAAI,CAAChD,CAAC,CAAC;MAAA,EAAC;MAChC,IAAIlB,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAA6C,KAAA,CAAR9C,IAAI,EAAAqI,kBAAA,CAAS0U,MAAM,IAAI,EAAE,CAAC,CAAC;MACrC,IAAI9c,GAAG,GAAG,CAAC,EAAE;QACTA,GAAG,GAAG,CAAC;MACX;MACA,IAAIsjB,KAAK,GAAGtjB,GAAG;MACf,IAAM8I,GAAG,GAAG/I,IAAI,CAAC+I,GAAG,CAAAjG,KAAA,CAAR9C,IAAI,EAAAqI,kBAAA,CAAS0U,MAAM,IAAI,EAAE,CAAC,CAAC;MACvC,IAAIhU,GAAG,GAAG,CAAC,EAAE;QACTwa,KAAK,GAAGtjB,GAAG,GAAG8I,GAAG;MACrB;MACA,IAAMjH,MAAM,GAAG,SAATA,MAAMA,CAAGX,CAAC;QAAA,OAAK,GAAG,GAAGA,CAAC,IAAK,GAAG,GAAGoiB,KAAK,CAAC;MAAA;MAC7C,OAAOL,WAAW,CAAC,UAAU/hB,CAAC,EAAEiiB,IAAI,EAAE;QAClC,IAAM7gB,IAAI,GAAG6gB,IAAI,CAAC7gB,IAAI,CAAC,CAAC;QACxB,IAAMihB,OAAO,GAAGnkB,CAAC,CAAC,OAAO,CAAC,CAACyf,GAAG,CAAC;UAC3B,UAAU,EAAE,UAAU;UACtB,QAAQ,EAAE;QACd,CAAC,CAAC;QACF,IAAI2E,OAAO,GAAG,MAAM;QACpB,IAAIC,KAAK,GAAG,CAAC;QACb,IAAI3a,GAAG,GAAG,CAAC,EAAE;UACT2a,KAAK,GAAG5hB,MAAM,CAAC,CAACiH,GAAG,CAAC;QACxB;QACA,IAAI5H,CAAC,GAAG,CAAC,EAAE;UACPuiB,KAAK,IAAI5hB,MAAM,CAACX,CAAC,CAAC;UAClBsiB,OAAO,GAAG,SAAS;UACnBtiB,CAAC,GAAG,CAACA,CAAC;QACV;QACAqiB,OAAO,CAACnL,MAAM,CAAChZ,CAAC,CAAC,OAAO,CAAC,CAACyf,GAAG,CAAC;UACtB,UAAU,EAAE,UAAU;UACtB,QAAQ,EAAE4E,KAAK,GAAG,GAAG;UACrB,MAAM,EAAE,CAAC;UACT,OAAO,EAAE,CAAC;UACV,QAAQ,EAAE5hB,MAAM,CAACX,CAAC,CAAC,GAAG,GAAG;UACzB,kBAAkB,EAAEsiB;QACxB,CAAC,CACL,CAAC;QACDD,OAAO,CAACnL,MAAM,CAAChZ,CAAC,CAAC,OAAO,CAAC,CAACkD,IAAI,CAACA,IAAI,CAAC,CAACuc,GAAG,CAAC;UACjC,UAAU,EAAE,UAAU;UACtB,cAAc,EAAE,KAAK;UACrB,eAAe,EAAE;QACrB,CAAC,CACL,CAAC;QAED,OAAOsE,IAAI,CAACtE,GAAG,CAAC;UAAE,SAAS,EAAE,CAAC;UAAE,aAAa,EAAE,KAAK;UAAE,YAAY,EAAE;QAAS,CAAC,CAAC,CAAC1F,IAAI,CAACoK,OAAO,CAAC;MACjG,CAAC,CAAC;IACN,CAAC;IAED,KAAK,IAAI/iB,CAAC,GAAG,CAAC,EAAEmV,GAAG,GAAGgN,OAAO,EAAEjN,GAAG,GAAG,CAAC,IAAIC,GAAG,EAAED,GAAG,GAAGlV,CAAC,GAAGmV,GAAG,GAAGnV,CAAC,GAAGmV,GAAG,EAAED,GAAG,GAAGlV,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE;MACrF6iB,UAAU,eAAA7a,MAAA,CAAehI,CAAC,CAAE,CAAC;IACjC;IACA6iB,UAAU,CAAC,oBAAoB,CAAC;IAEhC,OAAO,IAAI;EACf,CAAC;;EAED;AACJ;AACA;;EAEI,IAAMK,UAAU,GAAG,SAAbA,UAAUA,CAAGC,EAAE;IAAA,OAAI9b,KAAK,CAAC+b,SAAS,CAACjG,OAAO,CAACkG,IAAI,CAACF,EAAE,CAACG,UAAU,CAACnC,QAAQ,EAAEgC,EAAE,CAAC;EAAA;EAEjF,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAavkB,IAAI,EAAEiH,CAAC,EAAE;IACxC,IAAMud,EAAE,GAAGxkB,IAAI,CAAC,CAAC,CAAC,CAACU,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACxC,IAAM2V,GAAG,GAAGrW,IAAI,CAACiH,CAAC,CAAC,CAACvG,MAAM;IAE1B,IAAMiC,MAAM,GAAG,EAAE;IACjBsE,CAAC,GAAGA,CAAC,GAAGud,EAAE;IACV,IAAIpV,GAAG,GAAGpP,IAAI,CAACiH,CAAC,CAAC;IACjB,OAAOmI,GAAG,IAAIA,GAAG,CAAC1O,MAAM,GAAG2V,GAAG,EAAE;MAC5B,IAAIjH,GAAG,CAAC1O,MAAM,KAAM2V,GAAG,GAAG,CAAE,EAAE;QAC1B1T,MAAM,CAAC+B,IAAI,CAACuC,CAAC,CAAC;MAClB,CAAC,MAAM;QACH;MACJ;MACAA,CAAC,GAAGA,CAAC,GAAGud,EAAE;MACVpV,GAAG,GAAGpP,IAAI,CAACiH,CAAC,CAAC;IACjB;IACA,OAAOtE,MAAM;EACjB,CAAC;EAED,IAAM5B,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAaf,IAAI,EAAEiH,CAAC,EAAE;IACzC,IAAMud,EAAE,GAAGxkB,IAAI,CAAC,CAAC,CAAC,CAACU,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACxC,IAAMiC,MAAM,GAAG,EAAE;IACjB,IAAI0T,GAAG,GAAGrW,IAAI,CAACiH,CAAC,CAAC,CAACvG,MAAM;IACxB,OAAO2V,GAAG,GAAG,CAAC,EAAE;MACZ,IAAIjH,GAAG;MACPnI,CAAC,GAAGA,CAAC,GAAGud,EAAE;MACVpV,GAAG,GAAGpP,IAAI,CAACiH,CAAC,CAAC;MACb,OAAOmI,GAAG,IAAIA,GAAG,CAAC1O,MAAM,IAAI2V,GAAG,EAAE;QAC7BpP,CAAC,GAAGA,CAAC,GAAGud,EAAE;QACVpV,GAAG,GAAGpP,IAAI,CAACiH,CAAC,CAAC;MACjB;MACAtE,MAAM,CAAC+B,IAAI,CAACuC,CAAC,CAAC;MAEdoP,GAAG,GAAGrW,IAAI,CAACiH,CAAC,CAAC,CAACvG,MAAM;IACxB;IACA,OAAOiC,MAAM;EACjB,CAAC;EAED,IAAM8hB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIzkB,IAAI,EAAE0kB,KAAK;IAAA,OAAM1kB,IAAI,CAACyO,MAAM,CAAC,UAAAI,CAAC;MAAA,OAAIA,CAAC,CAACnO,MAAM,KAAKgkB,KAAK;IAAA,EAAC,CAAE9V,GAAG,CAAC5O,IAAI,CAACme,OAAO,CAACxO,IAAI,CAAC3P,IAAI,CAAC,CAAC;EAAA;EAE7G,IAAM2kB,OAAO,GAAG,SAAVA,OAAOA,CAAaxkB,KAAK,EAAEJ,IAAI,EAAE2kB,KAAK,EAAE;IAC1C,IAAI3kB,IAAI,EAAE;MACN,OAAOI,KAAK,CAACie,IAAI,oDAAApV,MAAA,CAAoD0b,KAAK,MAAG,CAAC;IAClF,CAAC,MAAM;MACH,OAAOvkB,KAAK,CAACie,IAAI,uBAAApV,MAAA,CAAuB0b,KAAK,sBAAmB,CAAC;IACrE;EACJ,CAAC;EAED,IAAMxjB,SAAS,GAAG,SAAZA,SAASA,CAAIf,KAAK,EAAEJ,IAAI,EAAEkH,CAAC;IAAA,OAAK9G,KAAK,CAACie,IAAI,CAACre,IAAI,qBAAAiJ,MAAA,CAAqB/B,CAAC,mBAAA+B,MAAA,CAAoB/B,CAAC,CAAE,CAAC;EAAA;EAEnG,IAAM2d,SAAS,GAAG,SAAZA,SAASA,CAAazkB,KAAK,EAAE;IAC/B,IAAM0kB,UAAU,GAAG1kB,KAAK,CAACie,IAAI,CAAC,UAAU,CAAC;IACzC,OAAO,UAAAnX,CAAC;MAAA,OAAIrH,CAAC,CAACilB,UAAU,CAAC5d,CAAC,CAAC,CAAC;IAAA;EAChC,CAAC;EAED,IAAM6d,SAAS,GAAG,SAAZA,SAASA,CAAa3kB,KAAK,EAAE;IAC/B,IAAM0kB,UAAU,GAAG1kB,KAAK,CAACie,IAAI,CAAC,IAAI,CAAC;IACnC,OAAO,UAAAnX,CAAC;MAAA,OAAI4d,UAAU,CAACzG,IAAI,QAAApV,MAAA,CAAQ/B,CAAC,CAAE,CAAC;IAAA;EAC3C,CAAC;EAED,IAAM8d,QAAQ,GAAG,SAAXA,QAAQA,CAAaC,MAAM,EAAEhlB,IAAI,EAAEC,GAAG,EAAEglB,MAAM,EAAEnJ,IAAI,EAAE;IACxD,IAAMhb,MAAM,GAAGyjB,gBAAgB,CAACvkB,IAAI,EAAEC,GAAG,CAAC;IAC1C,KAAK,IAAIe,CAAC,IAAIF,MAAM,EAAE;MAClB,IAAMmG,CAAC,GAAGnG,MAAM,CAACE,CAAC,CAAC;MACnB,IAAMyH,GAAG,GAAGuc,MAAM,CAAC/d,CAAC,GAAGge,MAAM,CAAC;MAC9B,IAAMpgB,EAAE,GAAGiX,IAAI,GAAGlc,CAAC,CAACiF,EAAE,CAACiX,IAAI,GAAGlc,CAAC,CAACiF,EAAE,CAACmX,IAAI;MACvCnX,EAAE,CAACwf,IAAI,CAAC5b,GAAG,CAAC;MACZ,IAAI,CAACA,GAAG,CAACyc,QAAQ,CAAC,WAAW,CAAC,EAAE;QAC5BH,QAAQ,CAACC,MAAM,EAAEhlB,IAAI,EAAEiH,CAAC,EAAEge,MAAM,EAAEnJ,IAAI,CAAC;MAC3C;IACJ;IACA,OAAO,IAAI;EACf,CAAC;EAED,IAAMpG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAa5V,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAE;IAC1D,IAAME,KAAK,GAAGP,CAAC,CAACE,IAAI,CAAC,CAACM,OAAO,CAAC,OAAO,CAAC;IACtC,IAAM+kB,SAAS,GAAGjB,UAAU,CAACpkB,IAAI,CAACwkB,UAAU,CAAC;IAC7C,IAAMU,MAAM,GAAGJ,SAAS,CAACzkB,KAAK,CAAC;IAC/B,IAAMsI,GAAG,GAAGuc,MAAM,CAAC/kB,GAAG,CAAC;IAEvB,IAAMmlB,WAAW,GAAG3c,GAAG,CAACyc,QAAQ,CAAC,WAAW,CAAC,GAAGF,MAAM,CAACllB,IAAI,CAACulB,IAAI,CAAC,GAAG5c,GAAG;IACvE,IAAI,CAACA,GAAG,CAACyc,QAAQ,CAAC,WAAW,CAAC,EAAE;MAC5BplB,IAAI,CAACulB,IAAI,GAAGnB,UAAU,CAACpkB,IAAI,CAACwkB,UAAU,CAAC;IAC3C;IACAc,WAAW,CAACE,OAAO,CAACxlB,IAAI,CAAC;IAEzB,IAAMgB,MAAM,GAAGC,iBAAiB,CAACf,IAAI,EAAEC,GAAG,CAAC;IAC3C,KAAK,IAAIe,CAAC,IAAIF,MAAM,EAAE;MAClB,IAAMG,CAAC,GAAGH,MAAM,CAACE,CAAC,CAAC;MACnB,IAAMd,MAAM,GAAIgB,SAAS,CAACf,KAAK,EAAEJ,IAAI,EAAEkB,CAAC,CAAC,CAAE,CAAC,CAAC;MAC7C,IAAMskB,WAAW,GAAGrB,UAAU,CAAChkB,MAAM,CAACokB,UAAU,CAAC;MACjDpkB,MAAM,CAACmlB,IAAI,GAAGnlB,MAAM,CAACmlB,IAAI,IAAI,IAAI,GAAGnlB,MAAM,CAACmlB,IAAI,GAAGE,WAAW;MAC7D,IAAKrlB,MAAM,CAACmlB,IAAI,KAAKF,SAAS,IAAMjlB,MAAM,CAACslB,OAAO,KAAK,CAAE,EAAE;QACvDtlB,MAAM,CAACmlB,IAAI,IAAIF,SAAS,GAAGjB,UAAU,CAACpkB,IAAI,CAACwkB,UAAU,CAAC;MAC1D;MAEA,IAAIa,SAAS,KAAKI,WAAW,EAAE;QAC3BH,WAAW,CAACE,OAAO,CAACplB,MAAM,CAAC;MAC/B;IACJ;IAEA,OAAOL,cAAc,CAACC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,CAAC;EAChD,CAAC;EAED,IAAMkB,YAAY,GAAG,SAAfA,YAAYA,CAAarB,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAEC,MAAM,EAAE;IAC1D,IAAMC,KAAK,GAAGP,CAAC,CAACE,IAAI,CAAC,CAACM,OAAO,CAAC,OAAO,CAAC;IACtC,IAAM4kB,MAAM,GAAGjlB,IAAI,GAAG6kB,SAAS,CAACzkB,KAAK,CAAC,GAAG2kB,SAAS,CAAC3kB,KAAK,CAAC;IACzD,IAAME,IAAI,GAAGN,IAAI,GAAG,SAAS,GAAG,SAAS;IAEzC,IAAMklB,MAAM,GAAGllB,IAAI,IAAK,IAAI,CAACU,UAAU,CAACC,MAAM,GAAG,CAAE,GAAG,CAAC,GAAG,CAAC;IAC3D,IAAI,CAACR,MAAM,IAAI,IAAI,GAAGA,MAAM,CAACG,IAAI,CAAC,GAAG0E,SAAS,MAAM,CAAC,EAAE;MACnDggB,QAAQ,CAACC,MAAM,EAAEhlB,IAAI,EAAEC,GAAG,EAAEglB,MAAM,EAAED,MAAM,CAAC/kB,GAAG,GAAGglB,MAAM,CAAC,CAACC,QAAQ,CAAC,WAAW,CAAC,CAAC;IACnF;IACAF,MAAM,CAAC/kB,GAAG,GAAGglB,MAAM,CAAC,CAAC3G,WAAW,CAAC,WAAW,CAAC;IAC7C,OAAO1e,CAAC,CAACE,IAAI,CAAC,CAACwe,WAAW,CAAC,YAAY,CAAC;EAC5C,CAAC;EAED,IAAMmH,SAAS,GAAG,SAAZA,SAASA,CAAalR,SAAS,EAAEpU,KAAK,EAAEukB,KAAK,EAAE3kB,IAAI,EAAE2lB,MAAM,EAAE;IAC/D,IAAI1kB,CAAC;IACL,IAAI0kB,MAAM,IAAKhB,KAAK,GAAG,CAAE,EAAE;MACvBC,OAAO,CAACxkB,KAAK,EAAEJ,IAAI,EAAE2kB,KAAK,GAAG,CAAC,CAAC,CAAC3I,WAAW,CAAC,OAAO,CAAC,CAACP,QAAQ,CAAC,MAAM,CAAC;MACrEiK,SAAS,CAAClR,SAAS,EAAEpU,KAAK,EAAEukB,KAAK,GAAG,CAAC,EAAE3kB,IAAI,EAAE2lB,MAAM,CAAC;IACxD;IAEA,IAAMC,MAAM,GAAG,CAAC5lB,IAAI,GAAGwU,SAAS,CAACpE,QAAQ,GAAGoE,SAAS,CAACtE,QAAQ,EAAEvP,MAAM,GAAG,CAAC;IAC1E,IAAI,CAACglB,MAAM,IAAKhB,KAAK,GAAGiB,MAAO,EAAE;MAC7B,IAAIzP,GAAG,EAAEC,GAAG,EAAEyP,KAAK;MACnB,KAAKA,KAAK,GAAGlB,KAAK,GAAG,CAAC,EAAE1jB,CAAC,GAAG4kB,KAAK,EAAEzP,GAAG,GAAGwP,MAAM,EAAEzP,GAAG,GAAG0P,KAAK,IAAIzP,GAAG,EAAED,GAAG,GAAGlV,CAAC,IAAImV,GAAG,GAAGnV,CAAC,IAAImV,GAAG,EAAED,GAAG,GAAGlV,CAAC,EAAE,GAAGA,CAAC,EAAE,EAAE;QAC7G2jB,OAAO,CAACxkB,KAAK,EAAEJ,IAAI,EAAEiB,CAAC,CAAC,CAAC+a,WAAW,CAAC,MAAM,CAAC,CAACP,QAAQ,CAAC,OAAO,CAAC;MACjE;IACJ;IAEA,IAAMxb,IAAI,GAAGD,IAAI,GAAGwU,SAAS,CAAC9D,OAAO,GAAG8D,SAAS,CAAC7D,OAAO;IACzD,IAAM5P,MAAM,GAAG2jB,gBAAgB,CAACzkB,IAAI,EAAE0kB,KAAK,CAAC;IAC5C,KAAK1jB,CAAC,IAAIF,MAAM,EAAE;MACd,IAAMmG,CAAC,GAAGnG,MAAM,CAACE,CAAC,CAAC;MACnB,IAAMmjB,EAAE,GAAGjjB,SAAS,CAACf,KAAK,EAAEJ,IAAI,EAAEkH,CAAC,CAAC;MACpC,IAAIye,MAAM,KAAKvB,EAAE,CAACe,QAAQ,CAAC,OAAO,CAAC,EAAE;QACjCf,EAAE,CAAC0B,OAAO,CAAC,OAAO,CAAC;MACvB;IACJ;IACA,OAAO,IAAI;EACf,CAAC;EAED,IAAMjQ,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAI5V,IAAI,EAAED,IAAI,EAAE+lB,OAAO;IAAA,OAAM,UAAUC,EAAE,EAAE;MAC7D,IAAMjY,KAAK,GAAGiY,EAAE,CAACC,MAAM,CAACjQ,SAAS,CAACjI,KAAK,CAAC/N,IAAI,GAAG,UAAU,GAAG,UAAU,CAAC;MACvE,IAAI+N,KAAK,EAAE;QACP,OAAOgY,OAAO,CAACC,EAAE,CAACC,MAAM,EAAEjmB,IAAI,EAAEC,IAAI,EAAE,CAAC8N,KAAK,CAAC,CAAC,CAAC,CAAC;MACpD;IACJ,CAAC;EAAA,CAAC;EAEF,OAAO1M,mBAAmB,GAAG,SAAAA,oBAACmT,SAAS,EAAEmQ,KAAK,EAAE3kB,IAAI;IAAA,OAAM,UAAUgmB,EAAE,EAAE;MACpEN,SAAS,CAAClR,SAAS,EAAE3U,CAAC,CAACmmB,EAAE,CAACC,MAAM,CAAC,CAAC5lB,OAAO,CAAC,OAAO,CAAC,EAAEskB,KAAK,GAAG,CAAC,EAAE3kB,IAAI,EAAEH,CAAC,CAACmmB,EAAE,CAACC,MAAM,CAAC,CAACd,QAAQ,CAAC,OAAO,CAAC,CAAC;MACpG,OAAOtlB,CAAC,CAACmmB,EAAE,CAACC,MAAM,CAAC,CAAC1H,WAAW,CAAC,YAAY,CAAC;IACjD,CAAC;EAAA,CAAC;AACN,CAAC,EAAE2H,MAAM,CAAC","ignoreList":[]}