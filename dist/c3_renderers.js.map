{"version":3,"file":"c3_renderers.js","names":["$","c3","exports","module","require","define","amd","_c3","window","makeC3Chart","chartOpts","pivotData","opts","colKey","columns","groupByTitle","hAxisTitle","rowKey","scatterData","series","titleText","vAxisTitle","y","c","x","defaults","localeStrings","vs","by","extend","size","width","innerWidth","height","innerHeight","type","horizontal","stacked","rowKeys","getRowKeys","length","push","colKeys","getColKeys","headers","map","h","join","rotationAngle","fullAggName","aggregatorName","valAttrs","t","attrs","rowAttrs","concat","colAttrs","slice","agg","getAggregator","value","vals","numCharsInHAxis","Array","from","rowHeader","row","val","parseFloat","isFinite","title","style","text","formatter","format","params","axis","rotated","label","tick","rotate","multiline","data","order","tooltip","grouped","color","pattern","xs","numSeries","dataColumns","s","fit","legend","show","name","a","b","d","e","categories","v","shift","unshift","rows","result","groups","renderArea","appendTo","bindto","generate","detach","remove","append","pivotUtilities","c3_renderers","jQuery"],"sources":["c3_renderers.js"],"sourcesContent":["\n(function ($) {\n\n    let c3;\n    if ((typeof exports === 'object') && (typeof module === 'object')) { // CommonJS\n        c3 = require('c3');\n    } else if ((typeof define === 'function') && define.amd) { // AMD\n        define(['c3'], (_c3) => (c3 = _c3));\n    } else {\n        c3 = window.c3;\n    }\n\n    const makeC3Chart = function (chartOpts) {\n        if (chartOpts == null) {\n            chartOpts = {};\n        }\n        return function (pivotData, opts) {\n            let colKey, columns, groupByTitle, hAxisTitle, rowKey, scatterData, series, titleText, vAxisTitle, y;\n            let c, x;\n            const defaults = {\n                localeStrings: { vs: 'vs', by: 'by' },\n                c3: {},\n            };\n\n            opts = $.extend(true, {}, defaults, opts);\n            if (opts.c3.size == null) {\n                opts.c3.size = {};\n            }\n            if (opts.c3.size.width == null) {\n                opts.c3.size.width = window.innerWidth / 1.4;\n            }\n            if (opts.c3.size.height == null) {\n                opts.c3.size.height = (window.innerHeight / 1.4) - 50;\n            }\n            if (chartOpts.type == null) {\n                chartOpts.type = 'line';\n            }\n            if (chartOpts.horizontal == null) {\n                chartOpts.horizontal = false;\n            }\n            if (chartOpts.stacked == null) {\n                chartOpts.stacked = false;\n            }\n\n            const rowKeys = pivotData.getRowKeys();\n            if (rowKeys.length === 0) {\n                rowKeys.push([]);\n            }\n            const colKeys = pivotData.getColKeys();\n            if (colKeys.length === 0) {\n                colKeys.push([]);\n            }\n\n            let headers = colKeys.map((h) => h.join('-'));\n            let rotationAngle = 0;\n\n            let fullAggName = pivotData.aggregatorName;\n            if (pivotData.valAttrs.length) {\n                fullAggName += `(${pivotData.valAttrs.join(', ')})`;\n            }\n\n            if (chartOpts.type === 'scatter') {\n                scatterData = { x: {}, y: {}, t: {} };\n                const attrs = pivotData.rowAttrs.concat(pivotData.colAttrs);\n                vAxisTitle = attrs[0] != null ? attrs[0] : '';\n                hAxisTitle = attrs[1] != null ? attrs[1] : '';\n                groupByTitle = attrs.slice(2).join('-');\n                titleText = vAxisTitle;\n                if (hAxisTitle !== '') {\n                    titleText += ` ${opts.localeStrings.vs} ${hAxisTitle}`;\n                }\n                if (groupByTitle !== '') {\n                    titleText += ` ${opts.localeStrings.by} ${groupByTitle}`;\n                }\n                for (rowKey of rowKeys) {\n                    for (colKey of colKeys) {\n                        var agg = pivotData.getAggregator(rowKey, colKey);\n                        if (agg.value() != null) {\n                            var vals = rowKey.concat(colKey);\n                            series = vals.slice(2).join('-');\n                            if (series === '') {\n                                series = 'series';\n                            }\n                            if (scatterData.x[series] == null) {\n                                scatterData.x[series] = [];\n                            }\n                            if (scatterData.y[series] == null) {\n                                scatterData.y[series] = [];\n                            }\n                            y = vals[0] != null ? vals[0] : 0;\n                            x = vals[1] != null ? vals[1] : 0;\n                            scatterData.y[series].push(y);\n                            scatterData.x[series].push(x);\n                            if (scatterData.t[series] == null) {\n                                scatterData.t[series] = {};\n                            }\n                            if (scatterData.t[series][x] == null) {\n                                scatterData.t[series][x] = {};\n                            }\n                            scatterData.t[series][x][y] = agg.value();\n                        }\n                    }\n                }\n            } else {\n                let numCharsInHAxis = 0;\n                for (x of Array.from(headers)) {\n                    numCharsInHAxis += x.length;\n                }\n                if (numCharsInHAxis > 50) {\n                    rotationAngle = 45;\n                }\n\n                columns = [];\n                for (rowKey of rowKeys) {\n                    var rowHeader = rowKey.join('-');\n                    var row = [rowHeader === '' ? fullAggName : rowHeader];\n                    for (colKey of Array.from(colKeys)) {\n                        var val = parseFloat(pivotData.getAggregator(rowKey, colKey).value());\n                        if (isFinite(val)) {\n                            row.push(val);\n                        } else {\n                            row.push(null);\n                        }\n                    }\n                    columns.push(row);\n                }\n\n                vAxisTitle = fullAggName;\n\n                if (chartOpts.horizontal) {\n                    hAxisTitle = pivotData.rowAttrs.join('-');\n                    groupByTitle = pivotData.colAttrs.join('-');\n                } else {\n                    hAxisTitle = pivotData.colAttrs.join('-');\n                    groupByTitle = pivotData.rowAttrs.join('-');\n                }\n                titleText = fullAggName;\n                if (hAxisTitle !== '') {\n                    titleText += ` ${opts.localeStrings.vs} ${hAxisTitle}`;\n                }\n                if (groupByTitle !== '') {\n                    titleText += ` ${opts.localeStrings.by} ${groupByTitle}`;\n                }\n            }\n\n            const title = $('<p>', { style: 'text-align: center; font-weight: bold' });\n            title.text(titleText);\n\n            const formatter = pivotData.getAggregator([], []).format;\n\n            let params = {\n                axis: {\n                    rotated: chartOpts.horizontal,\n                    y: {\n                        label: vAxisTitle,\n                        tick: {},\n                    },\n                    x: {\n                        label: hAxisTitle,\n                        tick: {\n                            rotate: rotationAngle,\n                            multiline: false,\n                        },\n                    },\n                },\n                data: {\n                    type: chartOpts.type,\n                    order: null,\n                },\n                tooltip: {\n                    grouped: false,\n                },\n                color: {\n                    pattern: ['#3366cc', '#dc3912', '#ff9900', '#109618',\n                        '#990099', '#0099c6', '#dd4477', '#66aa00',\n                        '#b82e2e', '#316395', '#994499', '#22aa99',\n                        '#aaaa11', '#6633cc', '#e67300', '#8b0707',\n                        '#651067', '#329262', '#5574a6', '#3b3eac'],\n                },\n            };\n\n\n            params = $.extend(true, {}, params, opts.c3);\n            if (chartOpts.type === 'scatter') {\n                const xs = {};\n                let numSeries = 0;\n                const dataColumns = [];\n                for (var s in scatterData.x) {\n                    numSeries += 1;\n                    xs[s] = s + '_x';\n                    dataColumns.push([s + '_x'].concat(scatterData.x[s]));\n                    dataColumns.push([s].concat(scatterData.y[s]));\n                }\n                params.data.xs = xs;\n                params.data.columns = dataColumns;\n                params.axis.x.tick = { fit: false };\n                if (numSeries === 1) {\n                    params.legend = { show: false };\n                }\n                params.tooltip.format = {\n                    title() {\n                        return fullAggName;\n                    },\n                    name() {\n                        return '';\n                    },\n                    value(a, b, c, d, e) {\n                        ({ name: series, value: y, x } = e[0]);\n                        return formatter(scatterData.t[series][x][y]);\n                    },\n                };\n            } else {\n                let categories;\n                params.axis.x.type = 'category';\n                if (params.axis.y.tick.format == null) {\n                    params.axis.y.tick.format = v => formatter(v);\n                }\n                params.tooltip.format = {\n                    value(v) {\n                        return formatter(v);\n                    },\n                };\n\n                if (chartOpts.horizontal) {\n                    categories = [];\n                    for (c of Array.from(columns)) {\n                        categories.push(c.shift());\n                    }\n\n                    if ((categories.length === 1) && (categories[0] === fullAggName)) {\n                        categories = [''];\n                    }\n\n                    params.axis.x.categories = categories;\n                    if ((headers.length === 1) && (headers[0] === '')) {\n                        headers = [fullAggName];\n                    }\n\n                    columns.unshift(headers);\n                    params.data.rows = columns;\n                } else {\n                    params.axis.x.categories = headers;\n                    params.data.columns = columns;\n                }\n            }\n\n\n            if (chartOpts.stacked) {\n                if (chartOpts.horizontal) {\n                    const result = [];\n                    for (x of Array.from(colKeys)) {\n                        result.push(x.join('-'));\n                    }\n\n                    params.data.groups = [result];\n                } else {\n                    const result = [];\n                    for (x of rowKeys) {\n                        result.push(x.join('-'));\n                    }\n\n                    params.data.groups = [result];\n                }\n            }\n\n            const renderArea = $('<div>', { style: 'display:none;' }).appendTo($('body'));\n            const result = $('<div>').appendTo(renderArea);\n            params.bindto = result[0];\n            c3.generate(params);\n            result.detach();\n            renderArea.remove();\n            return $('<div>').append(title, result);\n        };\n    };\n\n    return $.pivotUtilities.c3_renderers = {\n        'Horizontal Bar Chart': makeC3Chart({ type: 'bar', horizontal: true }),\n        'Horizontal Stacked Bar Chart': makeC3Chart({ type: 'bar', stacked: true, horizontal: true }),\n        'Bar Chart': makeC3Chart({ type: 'bar' }),\n        'Stacked Bar Chart': makeC3Chart({ type: 'bar', stacked: true }),\n        'Line Chart': makeC3Chart(),\n        'Area Chart': makeC3Chart({ type: 'area', stacked: true }),\n        'Scatter Chart': makeC3Chart({ type: 'scatter' }),\n    };\n})(jQuery);\n"],"mappings":"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","ignoreList":[]}