{"version":3,"file":"c3_renderers.js","names":["$","c3","exports","_typeof","module","require","define","amd","_c3","window","makeC3Chart","chartOpts","pivotData","opts","colKey","columns","groupByTitle","hAxisTitle","rowKey","scatterData","series","titleText","vAxisTitle","y","c","x","defaults","localeStrings","vs","by","extend","size","width","innerWidth","height","innerHeight","type","horizontal","stacked","rowKeys","getRowKeys","length","push","colKeys","getColKeys","headers","map","h","join","rotationAngle","fullAggName","aggregatorName","valAttrs","concat","t","attrs","rowAttrs","colAttrs","slice","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","_iterator2","_step2","agg","getAggregator","vals","err","e","f","numCharsInHAxis","_i","_Array$from","Array","from","_iterator3","_step3","rowHeader","row","_i2","_Array$from2","val","parseFloat","isFinite","title","style","text","formatter","format","params","axis","rotated","label","tick","rotate","multiline","data","order","tooltip","grouped","color","pattern","xs","numSeries","dataColumns","fit","legend","show","name","a","b","d","_e$","categories","v","_i3","_Array$from3","shift","unshift","rows","result","_i4","_Array$from4","groups","_iterator4","_step4","renderArea","appendTo","bindto","generate","detach","remove","append","pivotUtilities","c3_renderers","jQuery"],"sources":["c3_renderers.js"],"sourcesContent":["\n(function ($) {\n\n    let c3;\n    if ((typeof exports === 'object') && (typeof module === 'object')) { // CommonJS\n        c3 = require('c3');\n    } else if ((typeof define === 'function') && define.amd) { // AMD\n        define(['c3'], (_c3) => (c3 = _c3));\n    } else {\n        c3 = window.c3;\n    }\n\n    const makeC3Chart = function (chartOpts) {\n        if (chartOpts == null) {\n            chartOpts = {};\n        }\n        return function (pivotData, opts) {\n            let colKey, columns, groupByTitle, hAxisTitle, rowKey, scatterData, series, titleText, vAxisTitle, y;\n            let c, x;\n            const defaults = {\n                localeStrings: { vs: 'vs', by: 'by' },\n                c3: {},\n            };\n\n            opts = $.extend(true, {}, defaults, opts);\n            if (opts.c3.size == null) {\n                opts.c3.size = {};\n            }\n            if (opts.c3.size.width == null) {\n                opts.c3.size.width = window.innerWidth / 1.4;\n            }\n            if (opts.c3.size.height == null) {\n                opts.c3.size.height = (window.innerHeight / 1.4) - 50;\n            }\n            if (chartOpts.type == null) {\n                chartOpts.type = 'line';\n            }\n            if (chartOpts.horizontal == null) {\n                chartOpts.horizontal = false;\n            }\n            if (chartOpts.stacked == null) {\n                chartOpts.stacked = false;\n            }\n\n            const rowKeys = pivotData.getRowKeys();\n            if (rowKeys.length === 0) {\n                rowKeys.push([]);\n            }\n            const colKeys = pivotData.getColKeys();\n            if (colKeys.length === 0) {\n                colKeys.push([]);\n            }\n\n            let headers = colKeys.map((h) => h.join('-'));\n            let rotationAngle = 0;\n\n            let fullAggName = pivotData.aggregatorName;\n            if (pivotData.valAttrs.length) {\n                fullAggName += `(${pivotData.valAttrs.join(', ')})`;\n            }\n\n            if (chartOpts.type === 'scatter') {\n                scatterData = { x: {}, y: {}, t: {} };\n                const attrs = pivotData.rowAttrs.concat(pivotData.colAttrs);\n                vAxisTitle = attrs[0] != null ? attrs[0] : '';\n                hAxisTitle = attrs[1] != null ? attrs[1] : '';\n                groupByTitle = attrs.slice(2).join('-');\n                titleText = vAxisTitle;\n                if (hAxisTitle !== '') {\n                    titleText += ` ${opts.localeStrings.vs} ${hAxisTitle}`;\n                }\n                if (groupByTitle !== '') {\n                    titleText += ` ${opts.localeStrings.by} ${groupByTitle}`;\n                }\n                for (rowKey of rowKeys) {\n                    for (colKey of colKeys) {\n                        var agg = pivotData.getAggregator(rowKey, colKey);\n                        if (agg.value() != null) {\n                            var vals = rowKey.concat(colKey);\n                            series = vals.slice(2).join('-');\n                            if (series === '') {\n                                series = 'series';\n                            }\n                            if (scatterData.x[series] == null) {\n                                scatterData.x[series] = [];\n                            }\n                            if (scatterData.y[series] == null) {\n                                scatterData.y[series] = [];\n                            }\n                            y = vals[0] != null ? vals[0] : 0;\n                            x = vals[1] != null ? vals[1] : 0;\n                            scatterData.y[series].push(y);\n                            scatterData.x[series].push(x);\n                            if (scatterData.t[series] == null) {\n                                scatterData.t[series] = {};\n                            }\n                            if (scatterData.t[series][x] == null) {\n                                scatterData.t[series][x] = {};\n                            }\n                            scatterData.t[series][x][y] = agg.value();\n                        }\n                    }\n                }\n            } else {\n                let numCharsInHAxis = 0;\n                for (x of Array.from(headers)) {\n                    numCharsInHAxis += x.length;\n                }\n                if (numCharsInHAxis > 50) {\n                    rotationAngle = 45;\n                }\n\n                columns = [];\n                for (rowKey of rowKeys) {\n                    var rowHeader = rowKey.join('-');\n                    var row = [rowHeader === '' ? fullAggName : rowHeader];\n                    for (colKey of Array.from(colKeys)) {\n                        var val = parseFloat(pivotData.getAggregator(rowKey, colKey).value());\n                        if (isFinite(val)) {\n                            row.push(val);\n                        } else {\n                            row.push(null);\n                        }\n                    }\n                    columns.push(row);\n                }\n\n                vAxisTitle = fullAggName;\n\n                if (chartOpts.horizontal) {\n                    hAxisTitle = pivotData.rowAttrs.join('-');\n                    groupByTitle = pivotData.colAttrs.join('-');\n                } else {\n                    hAxisTitle = pivotData.colAttrs.join('-');\n                    groupByTitle = pivotData.rowAttrs.join('-');\n                }\n                titleText = fullAggName;\n                if (hAxisTitle !== '') {\n                    titleText += ` ${opts.localeStrings.vs} ${hAxisTitle}`;\n                }\n                if (groupByTitle !== '') {\n                    titleText += ` ${opts.localeStrings.by} ${groupByTitle}`;\n                }\n            }\n\n            const title = $('<p>', { style: 'text-align: center; font-weight: bold' });\n            title.text(titleText);\n\n            const formatter = pivotData.getAggregator([], []).format;\n\n            let params = {\n                axis: {\n                    rotated: chartOpts.horizontal,\n                    y: {\n                        label: vAxisTitle,\n                        tick: {},\n                    },\n                    x: {\n                        label: hAxisTitle,\n                        tick: {\n                            rotate: rotationAngle,\n                            multiline: false,\n                        },\n                    },\n                },\n                data: {\n                    type: chartOpts.type,\n                    order: null,\n                },\n                tooltip: {\n                    grouped: false,\n                },\n                color: {\n                    pattern: ['#3366cc', '#dc3912', '#ff9900', '#109618',\n                        '#990099', '#0099c6', '#dd4477', '#66aa00',\n                        '#b82e2e', '#316395', '#994499', '#22aa99',\n                        '#aaaa11', '#6633cc', '#e67300', '#8b0707',\n                        '#651067', '#329262', '#5574a6', '#3b3eac'],\n                },\n            };\n\n\n            params = $.extend(true, {}, params, opts.c3);\n            if (chartOpts.type === 'scatter') {\n                const xs = {};\n                let numSeries = 0;\n                const dataColumns = [];\n                for (var s in scatterData.x) {\n                    numSeries += 1;\n                    xs[s] = s + '_x';\n                    dataColumns.push([s + '_x'].concat(scatterData.x[s]));\n                    dataColumns.push([s].concat(scatterData.y[s]));\n                }\n                params.data.xs = xs;\n                params.data.columns = dataColumns;\n                params.axis.x.tick = { fit: false };\n                if (numSeries === 1) {\n                    params.legend = { show: false };\n                }\n                params.tooltip.format = {\n                    title() {\n                        return fullAggName;\n                    },\n                    name() {\n                        return '';\n                    },\n                    value(a, b, c, d, e) {\n                        ({ name: series, value: y, x } = e[0]);\n                        return formatter(scatterData.t[series][x][y]);\n                    },\n                };\n            } else {\n                let categories;\n                params.axis.x.type = 'category';\n                if (params.axis.y.tick.format == null) {\n                    params.axis.y.tick.format = v => formatter(v);\n                }\n                params.tooltip.format = {\n                    value(v) {\n                        return formatter(v);\n                    },\n                };\n\n                if (chartOpts.horizontal) {\n                    categories = [];\n                    for (c of Array.from(columns)) {\n                        categories.push(c.shift());\n                    }\n\n                    if ((categories.length === 1) && (categories[0] === fullAggName)) {\n                        categories = [''];\n                    }\n\n                    params.axis.x.categories = categories;\n                    if ((headers.length === 1) && (headers[0] === '')) {\n                        headers = [fullAggName];\n                    }\n\n                    columns.unshift(headers);\n                    params.data.rows = columns;\n                } else {\n                    params.axis.x.categories = headers;\n                    params.data.columns = columns;\n                }\n            }\n\n\n            if (chartOpts.stacked) {\n                if (chartOpts.horizontal) {\n                    const result = [];\n                    for (x of Array.from(colKeys)) {\n                        result.push(x.join('-'));\n                    }\n\n                    params.data.groups = [result];\n                } else {\n                    const result = [];\n                    for (x of rowKeys) {\n                        result.push(x.join('-'));\n                    }\n\n                    params.data.groups = [result];\n                }\n            }\n\n            const renderArea = $('<div>', { style: 'display:none;' }).appendTo($('body'));\n            const result = $('<div>').appendTo(renderArea);\n            params.bindto = result[0];\n            c3.generate(params);\n            result.detach();\n            renderArea.remove();\n            return $('<div>').append(title, result);\n        };\n    };\n\n    return $.pivotUtilities.c3_renderers = {\n        'Horizontal Bar Chart': makeC3Chart({ type: 'bar', horizontal: true }),\n        'Horizontal Stacked Bar Chart': makeC3Chart({ type: 'bar', stacked: true, horizontal: true }),\n        'Bar Chart': makeC3Chart({ type: 'bar' }),\n        'Stacked Bar Chart': makeC3Chart({ type: 'bar', stacked: true }),\n        'Line Chart': makeC3Chart(),\n        'Area Chart': makeC3Chart({ type: 'area', stacked: true }),\n        'Scatter Chart': makeC3Chart({ type: 'scatter' }),\n    };\n})(jQuery);\n"],"mappings":";;;;;;AACA,CAAC,UAAUA,CAAC,EAAE;EAEV,IAAIC,EAAE;EACN,IAAK,QAAOC,OAAO,iCAAAC,OAAA,CAAPD,OAAO,OAAK,QAAQ,IAAM,QAAOE,MAAM,iCAAAD,OAAA,CAANC,MAAM,OAAK,QAAS,EAAE;IAAE;IACjEH,EAAE,GAAGI,OAAO,CAAC,IAAI,CAAC;EACtB,CAAC,MAAM,IAAK,OAAOC,MAAM,KAAK,UAAU,IAAKA,MAAM,CAACC,GAAG,EAAE;IAAE;IACvDD,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,UAACE,GAAG;MAAA,OAAMP,EAAE,GAAGO,GAAG;IAAA,CAAC,CAAC;EACvC,CAAC,MAAM;IACHP,EAAE,GAAGQ,MAAM,CAACR,EAAE;EAClB;EAEA,IAAMS,WAAW,GAAG,SAAdA,WAAWA,CAAaC,SAAS,EAAE;IACrC,IAAIA,SAAS,IAAI,IAAI,EAAE;MACnBA,SAAS,GAAG,CAAC,CAAC;IAClB;IACA,OAAO,UAAUC,SAAS,EAAEC,IAAI,EAAE;MAC9B,IAAIC,MAAM,EAAEC,OAAO,EAAEC,YAAY,EAAEC,UAAU,EAAEC,MAAM,EAAEC,WAAW,EAAEC,MAAM,EAAEC,SAAS,EAAEC,UAAU,EAAEC,CAAC;MACpG,IAAIC,CAAC,EAAEC,CAAC;MACR,IAAMC,QAAQ,GAAG;QACbC,aAAa,EAAE;UAAEC,EAAE,EAAE,IAAI;UAAEC,EAAE,EAAE;QAAK,CAAC;QACrC5B,EAAE,EAAE,CAAC;MACT,CAAC;MAEDY,IAAI,GAAGb,CAAC,CAAC8B,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAEJ,QAAQ,EAAEb,IAAI,CAAC;MACzC,IAAIA,IAAI,CAACZ,EAAE,CAAC8B,IAAI,IAAI,IAAI,EAAE;QACtBlB,IAAI,CAACZ,EAAE,CAAC8B,IAAI,GAAG,CAAC,CAAC;MACrB;MACA,IAAIlB,IAAI,CAACZ,EAAE,CAAC8B,IAAI,CAACC,KAAK,IAAI,IAAI,EAAE;QAC5BnB,IAAI,CAACZ,EAAE,CAAC8B,IAAI,CAACC,KAAK,GAAGvB,MAAM,CAACwB,UAAU,GAAG,GAAG;MAChD;MACA,IAAIpB,IAAI,CAACZ,EAAE,CAAC8B,IAAI,CAACG,MAAM,IAAI,IAAI,EAAE;QAC7BrB,IAAI,CAACZ,EAAE,CAAC8B,IAAI,CAACG,MAAM,GAAIzB,MAAM,CAAC0B,WAAW,GAAG,GAAG,GAAI,EAAE;MACzD;MACA,IAAIxB,SAAS,CAACyB,IAAI,IAAI,IAAI,EAAE;QACxBzB,SAAS,CAACyB,IAAI,GAAG,MAAM;MAC3B;MACA,IAAIzB,SAAS,CAAC0B,UAAU,IAAI,IAAI,EAAE;QAC9B1B,SAAS,CAAC0B,UAAU,GAAG,KAAK;MAChC;MACA,IAAI1B,SAAS,CAAC2B,OAAO,IAAI,IAAI,EAAE;QAC3B3B,SAAS,CAAC2B,OAAO,GAAG,KAAK;MAC7B;MAEA,IAAMC,OAAO,GAAG3B,SAAS,CAAC4B,UAAU,CAAC,CAAC;MACtC,IAAID,OAAO,CAACE,MAAM,KAAK,CAAC,EAAE;QACtBF,OAAO,CAACG,IAAI,CAAC,EAAE,CAAC;MACpB;MACA,IAAMC,OAAO,GAAG/B,SAAS,CAACgC,UAAU,CAAC,CAAC;MACtC,IAAID,OAAO,CAACF,MAAM,KAAK,CAAC,EAAE;QACtBE,OAAO,CAACD,IAAI,CAAC,EAAE,CAAC;MACpB;MAEA,IAAIG,OAAO,GAAGF,OAAO,CAACG,GAAG,CAAC,UAACC,CAAC;QAAA,OAAKA,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;MAAA,EAAC;MAC7C,IAAIC,aAAa,GAAG,CAAC;MAErB,IAAIC,WAAW,GAAGtC,SAAS,CAACuC,cAAc;MAC1C,IAAIvC,SAAS,CAACwC,QAAQ,CAACX,MAAM,EAAE;QAC3BS,WAAW,QAAAG,MAAA,CAAQzC,SAAS,CAACwC,QAAQ,CAACJ,IAAI,CAAC,IAAI,CAAC,MAAG;MACvD;MAEA,IAAIrC,SAAS,CAACyB,IAAI,KAAK,SAAS,EAAE;QAC9BjB,WAAW,GAAG;UAAEM,CAAC,EAAE,CAAC,CAAC;UAAEF,CAAC,EAAE,CAAC,CAAC;UAAE+B,CAAC,EAAE,CAAC;QAAE,CAAC;QACrC,IAAMC,KAAK,GAAG3C,SAAS,CAAC4C,QAAQ,CAACH,MAAM,CAACzC,SAAS,CAAC6C,QAAQ,CAAC;QAC3DnC,UAAU,GAAGiC,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE;QAC7CtC,UAAU,GAAGsC,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE;QAC7CvC,YAAY,GAAGuC,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC,CAACV,IAAI,CAAC,GAAG,CAAC;QACvC3B,SAAS,GAAGC,UAAU;QACtB,IAAIL,UAAU,KAAK,EAAE,EAAE;UACnBI,SAAS,QAAAgC,MAAA,CAAQxC,IAAI,CAACc,aAAa,CAACC,EAAE,OAAAyB,MAAA,CAAIpC,UAAU,CAAE;QAC1D;QACA,IAAID,YAAY,KAAK,EAAE,EAAE;UACrBK,SAAS,QAAAgC,MAAA,CAAQxC,IAAI,CAACc,aAAa,CAACE,EAAE,OAAAwB,MAAA,CAAIrC,YAAY,CAAE;QAC5D;QAAC,IAAA2C,SAAA,GAAAC,0BAAA,CACcrB,OAAO;UAAAsB,KAAA;QAAA;UAAtB,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAwB;YAAnB9C,MAAM,GAAA2C,KAAA,CAAAI,KAAA;YAAA,IAAAC,UAAA,GAAAN,0BAAA,CACQjB,OAAO;cAAAwB,MAAA;YAAA;cAAtB,KAAAD,UAAA,CAAAJ,CAAA,MAAAK,MAAA,GAAAD,UAAA,CAAAH,CAAA,IAAAC,IAAA,GAAwB;gBAAnBlD,MAAM,GAAAqD,MAAA,CAAAF,KAAA;gBACP,IAAIG,GAAG,GAAGxD,SAAS,CAACyD,aAAa,CAACnD,MAAM,EAAEJ,MAAM,CAAC;gBACjD,IAAIsD,GAAG,CAACH,KAAK,CAAC,CAAC,IAAI,IAAI,EAAE;kBACrB,IAAIK,IAAI,GAAGpD,MAAM,CAACmC,MAAM,CAACvC,MAAM,CAAC;kBAChCM,MAAM,GAAGkD,IAAI,CAACZ,KAAK,CAAC,CAAC,CAAC,CAACV,IAAI,CAAC,GAAG,CAAC;kBAChC,IAAI5B,MAAM,KAAK,EAAE,EAAE;oBACfA,MAAM,GAAG,QAAQ;kBACrB;kBACA,IAAID,WAAW,CAACM,CAAC,CAACL,MAAM,CAAC,IAAI,IAAI,EAAE;oBAC/BD,WAAW,CAACM,CAAC,CAACL,MAAM,CAAC,GAAG,EAAE;kBAC9B;kBACA,IAAID,WAAW,CAACI,CAAC,CAACH,MAAM,CAAC,IAAI,IAAI,EAAE;oBAC/BD,WAAW,CAACI,CAAC,CAACH,MAAM,CAAC,GAAG,EAAE;kBAC9B;kBACAG,CAAC,GAAG+C,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;kBACjC7C,CAAC,GAAG6C,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;kBACjCnD,WAAW,CAACI,CAAC,CAACH,MAAM,CAAC,CAACsB,IAAI,CAACnB,CAAC,CAAC;kBAC7BJ,WAAW,CAACM,CAAC,CAACL,MAAM,CAAC,CAACsB,IAAI,CAACjB,CAAC,CAAC;kBAC7B,IAAIN,WAAW,CAACmC,CAAC,CAAClC,MAAM,CAAC,IAAI,IAAI,EAAE;oBAC/BD,WAAW,CAACmC,CAAC,CAAClC,MAAM,CAAC,GAAG,CAAC,CAAC;kBAC9B;kBACA,IAAID,WAAW,CAACmC,CAAC,CAAClC,MAAM,CAAC,CAACK,CAAC,CAAC,IAAI,IAAI,EAAE;oBAClCN,WAAW,CAACmC,CAAC,CAAClC,MAAM,CAAC,CAACK,CAAC,CAAC,GAAG,CAAC,CAAC;kBACjC;kBACAN,WAAW,CAACmC,CAAC,CAAClC,MAAM,CAAC,CAACK,CAAC,CAAC,CAACF,CAAC,CAAC,GAAG6C,GAAG,CAACH,KAAK,CAAC,CAAC;gBAC7C;cACJ;YAAC,SAAAM,GAAA;cAAAL,UAAA,CAAAM,CAAA,CAAAD,GAAA;YAAA;cAAAL,UAAA,CAAAO,CAAA;YAAA;UACL;QAAC,SAAAF,GAAA;UAAAZ,SAAA,CAAAa,CAAA,CAAAD,GAAA;QAAA;UAAAZ,SAAA,CAAAc,CAAA;QAAA;MACL,CAAC,MAAM;QACH,IAAIC,eAAe,GAAG,CAAC;QACvB,SAAAC,EAAA,MAAAC,WAAA,GAAUC,KAAK,CAACC,IAAI,CAACjC,OAAO,CAAC,EAAA8B,EAAA,GAAAC,WAAA,CAAAnC,MAAA,EAAAkC,EAAA,IAAE;UAA1BlD,CAAC,GAAAmD,WAAA,CAAAD,EAAA;UACFD,eAAe,IAAIjD,CAAC,CAACgB,MAAM;QAC/B;QACA,IAAIiC,eAAe,GAAG,EAAE,EAAE;UACtBzB,aAAa,GAAG,EAAE;QACtB;QAEAlC,OAAO,GAAG,EAAE;QAAC,IAAAgE,UAAA,GAAAnB,0BAAA,CACErB,OAAO;UAAAyC,MAAA;QAAA;UAAtB,KAAAD,UAAA,CAAAjB,CAAA,MAAAkB,MAAA,GAAAD,UAAA,CAAAhB,CAAA,IAAAC,IAAA,GAAwB;YAAnB9C,MAAM,GAAA8D,MAAA,CAAAf,KAAA;YACP,IAAIgB,SAAS,GAAG/D,MAAM,CAAC8B,IAAI,CAAC,GAAG,CAAC;YAChC,IAAIkC,GAAG,GAAG,CAACD,SAAS,KAAK,EAAE,GAAG/B,WAAW,GAAG+B,SAAS,CAAC;YACtD,SAAAE,GAAA,MAAAC,YAAA,GAAeP,KAAK,CAACC,IAAI,CAACnC,OAAO,CAAC,EAAAwC,GAAA,GAAAC,YAAA,CAAA3C,MAAA,EAAA0C,GAAA,IAAE;cAA/BrE,MAAM,GAAAsE,YAAA,CAAAD,GAAA;cACP,IAAIE,GAAG,GAAGC,UAAU,CAAC1E,SAAS,CAACyD,aAAa,CAACnD,MAAM,EAAEJ,MAAM,CAAC,CAACmD,KAAK,CAAC,CAAC,CAAC;cACrE,IAAIsB,QAAQ,CAACF,GAAG,CAAC,EAAE;gBACfH,GAAG,CAACxC,IAAI,CAAC2C,GAAG,CAAC;cACjB,CAAC,MAAM;gBACHH,GAAG,CAACxC,IAAI,CAAC,IAAI,CAAC;cAClB;YACJ;YACA3B,OAAO,CAAC2B,IAAI,CAACwC,GAAG,CAAC;UACrB;QAAC,SAAAX,GAAA;UAAAQ,UAAA,CAAAP,CAAA,CAAAD,GAAA;QAAA;UAAAQ,UAAA,CAAAN,CAAA;QAAA;QAEDnD,UAAU,GAAG4B,WAAW;QAExB,IAAIvC,SAAS,CAAC0B,UAAU,EAAE;UACtBpB,UAAU,GAAGL,SAAS,CAAC4C,QAAQ,CAACR,IAAI,CAAC,GAAG,CAAC;UACzChC,YAAY,GAAGJ,SAAS,CAAC6C,QAAQ,CAACT,IAAI,CAAC,GAAG,CAAC;QAC/C,CAAC,MAAM;UACH/B,UAAU,GAAGL,SAAS,CAAC6C,QAAQ,CAACT,IAAI,CAAC,GAAG,CAAC;UACzChC,YAAY,GAAGJ,SAAS,CAAC4C,QAAQ,CAACR,IAAI,CAAC,GAAG,CAAC;QAC/C;QACA3B,SAAS,GAAG6B,WAAW;QACvB,IAAIjC,UAAU,KAAK,EAAE,EAAE;UACnBI,SAAS,QAAAgC,MAAA,CAAQxC,IAAI,CAACc,aAAa,CAACC,EAAE,OAAAyB,MAAA,CAAIpC,UAAU,CAAE;QAC1D;QACA,IAAID,YAAY,KAAK,EAAE,EAAE;UACrBK,SAAS,QAAAgC,MAAA,CAAQxC,IAAI,CAACc,aAAa,CAACE,EAAE,OAAAwB,MAAA,CAAIrC,YAAY,CAAE;QAC5D;MACJ;MAEA,IAAMwE,KAAK,GAAGxF,CAAC,CAAC,KAAK,EAAE;QAAEyF,KAAK,EAAE;MAAwC,CAAC,CAAC;MAC1ED,KAAK,CAACE,IAAI,CAACrE,SAAS,CAAC;MAErB,IAAMsE,SAAS,GAAG/E,SAAS,CAACyD,aAAa,CAAC,EAAE,EAAE,EAAE,CAAC,CAACuB,MAAM;MAExD,IAAIC,MAAM,GAAG;QACTC,IAAI,EAAE;UACFC,OAAO,EAAEpF,SAAS,CAAC0B,UAAU;UAC7Bd,CAAC,EAAE;YACCyE,KAAK,EAAE1E,UAAU;YACjB2E,IAAI,EAAE,CAAC;UACX,CAAC;UACDxE,CAAC,EAAE;YACCuE,KAAK,EAAE/E,UAAU;YACjBgF,IAAI,EAAE;cACFC,MAAM,EAAEjD,aAAa;cACrBkD,SAAS,EAAE;YACf;UACJ;QACJ,CAAC;QACDC,IAAI,EAAE;UACFhE,IAAI,EAAEzB,SAAS,CAACyB,IAAI;UACpBiE,KAAK,EAAE;QACX,CAAC;QACDC,OAAO,EAAE;UACLC,OAAO,EAAE;QACb,CAAC;QACDC,KAAK,EAAE;UACHC,OAAO,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAChD,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC1C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC1C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAC1C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;QAClD;MACJ,CAAC;MAGDZ,MAAM,GAAG7F,CAAC,CAAC8B,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE+D,MAAM,EAAEhF,IAAI,CAACZ,EAAE,CAAC;MAC5C,IAAIU,SAAS,CAACyB,IAAI,KAAK,SAAS,EAAE;QAC9B,IAAMsE,EAAE,GAAG,CAAC,CAAC;QACb,IAAIC,SAAS,GAAG,CAAC;QACjB,IAAMC,WAAW,GAAG,EAAE;QACtB,KAAK,IAAI9C,CAAC,IAAI3C,WAAW,CAACM,CAAC,EAAE;UACzBkF,SAAS,IAAI,CAAC;UACdD,EAAE,CAAC5C,CAAC,CAAC,GAAGA,CAAC,GAAG,IAAI;UAChB8C,WAAW,CAAClE,IAAI,CAAC,CAACoB,CAAC,GAAG,IAAI,CAAC,CAACT,MAAM,CAAClC,WAAW,CAACM,CAAC,CAACqC,CAAC,CAAC,CAAC,CAAC;UACrD8C,WAAW,CAAClE,IAAI,CAAC,CAACoB,CAAC,CAAC,CAACT,MAAM,CAAClC,WAAW,CAACI,CAAC,CAACuC,CAAC,CAAC,CAAC,CAAC;QAClD;QACA+B,MAAM,CAACO,IAAI,CAACM,EAAE,GAAGA,EAAE;QACnBb,MAAM,CAACO,IAAI,CAACrF,OAAO,GAAG6F,WAAW;QACjCf,MAAM,CAACC,IAAI,CAACrE,CAAC,CAACwE,IAAI,GAAG;UAAEY,GAAG,EAAE;QAAM,CAAC;QACnC,IAAIF,SAAS,KAAK,CAAC,EAAE;UACjBd,MAAM,CAACiB,MAAM,GAAG;YAAEC,IAAI,EAAE;UAAM,CAAC;QACnC;QACAlB,MAAM,CAACS,OAAO,CAACV,MAAM,GAAG;UACpBJ,KAAK,WAAAA,MAAA,EAAG;YACJ,OAAOtC,WAAW;UACtB,CAAC;UACD8D,IAAI,WAAAA,KAAA,EAAG;YACH,OAAO,EAAE;UACb,CAAC;UACD/C,KAAK,WAAAA,MAACgD,CAAC,EAAEC,CAAC,EAAE1F,CAAC,EAAE2F,CAAC,EAAE3C,CAAC,EAAE;YAAA,IAAA4C,GAAA,GACgB5C,CAAC,CAAC,CAAC,CAAC;YAA5BpD,MAAM,GAAAgG,GAAA,CAAZJ,IAAI;YAAiBzF,CAAC,GAAA6F,GAAA,CAARnD,KAAK;YAAKxC,CAAC,GAAA2F,GAAA,CAAD3F,CAAC;YAC5B,OAAOkE,SAAS,CAACxE,WAAW,CAACmC,CAAC,CAAClC,MAAM,CAAC,CAACK,CAAC,CAAC,CAACF,CAAC,CAAC,CAAC;UACjD;QACJ,CAAC;MACL,CAAC,MAAM;QACH,IAAI8F,UAAU;QACdxB,MAAM,CAACC,IAAI,CAACrE,CAAC,CAACW,IAAI,GAAG,UAAU;QAC/B,IAAIyD,MAAM,CAACC,IAAI,CAACvE,CAAC,CAAC0E,IAAI,CAACL,MAAM,IAAI,IAAI,EAAE;UACnCC,MAAM,CAACC,IAAI,CAACvE,CAAC,CAAC0E,IAAI,CAACL,MAAM,GAAG,UAAA0B,CAAC;YAAA,OAAI3B,SAAS,CAAC2B,CAAC,CAAC;UAAA;QACjD;QACAzB,MAAM,CAACS,OAAO,CAACV,MAAM,GAAG;UACpB3B,KAAK,WAAAA,MAACqD,CAAC,EAAE;YACL,OAAO3B,SAAS,CAAC2B,CAAC,CAAC;UACvB;QACJ,CAAC;QAED,IAAI3G,SAAS,CAAC0B,UAAU,EAAE;UACtBgF,UAAU,GAAG,EAAE;UACf,SAAAE,GAAA,MAAAC,YAAA,GAAU3C,KAAK,CAACC,IAAI,CAAC/D,OAAO,CAAC,EAAAwG,GAAA,GAAAC,YAAA,CAAA/E,MAAA,EAAA8E,GAAA,IAAE;YAA1B/F,CAAC,GAAAgG,YAAA,CAAAD,GAAA;YACFF,UAAU,CAAC3E,IAAI,CAAClB,CAAC,CAACiG,KAAK,CAAC,CAAC,CAAC;UAC9B;UAEA,IAAKJ,UAAU,CAAC5E,MAAM,KAAK,CAAC,IAAM4E,UAAU,CAAC,CAAC,CAAC,KAAKnE,WAAY,EAAE;YAC9DmE,UAAU,GAAG,CAAC,EAAE,CAAC;UACrB;UAEAxB,MAAM,CAACC,IAAI,CAACrE,CAAC,CAAC4F,UAAU,GAAGA,UAAU;UACrC,IAAKxE,OAAO,CAACJ,MAAM,KAAK,CAAC,IAAMI,OAAO,CAAC,CAAC,CAAC,KAAK,EAAG,EAAE;YAC/CA,OAAO,GAAG,CAACK,WAAW,CAAC;UAC3B;UAEAnC,OAAO,CAAC2G,OAAO,CAAC7E,OAAO,CAAC;UACxBgD,MAAM,CAACO,IAAI,CAACuB,IAAI,GAAG5G,OAAO;QAC9B,CAAC,MAAM;UACH8E,MAAM,CAACC,IAAI,CAACrE,CAAC,CAAC4F,UAAU,GAAGxE,OAAO;UAClCgD,MAAM,CAACO,IAAI,CAACrF,OAAO,GAAGA,OAAO;QACjC;MACJ;MAGA,IAAIJ,SAAS,CAAC2B,OAAO,EAAE;QACnB,IAAI3B,SAAS,CAAC0B,UAAU,EAAE;UACtB,IAAMuF,OAAM,GAAG,EAAE;UACjB,SAAAC,GAAA,MAAAC,YAAA,GAAUjD,KAAK,CAACC,IAAI,CAACnC,OAAO,CAAC,EAAAkF,GAAA,GAAAC,YAAA,CAAArF,MAAA,EAAAoF,GAAA,IAAE;YAA1BpG,CAAC,GAAAqG,YAAA,CAAAD,GAAA;YACFD,OAAM,CAAClF,IAAI,CAACjB,CAAC,CAACuB,IAAI,CAAC,GAAG,CAAC,CAAC;UAC5B;UAEA6C,MAAM,CAACO,IAAI,CAAC2B,MAAM,GAAG,CAACH,OAAM,CAAC;QACjC,CAAC,MAAM;UACH,IAAMA,QAAM,GAAG,EAAE;UAAC,IAAAI,UAAA,GAAApE,0BAAA,CACRrB,OAAO;YAAA0F,MAAA;UAAA;YAAjB,KAAAD,UAAA,CAAAlE,CAAA,MAAAmE,MAAA,GAAAD,UAAA,CAAAjE,CAAA,IAAAC,IAAA,GAAmB;cAAdvC,CAAC,GAAAwG,MAAA,CAAAhE,KAAA;cACF2D,QAAM,CAAClF,IAAI,CAACjB,CAAC,CAACuB,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5B;UAAC,SAAAuB,GAAA;YAAAyD,UAAA,CAAAxD,CAAA,CAAAD,GAAA;UAAA;YAAAyD,UAAA,CAAAvD,CAAA;UAAA;UAEDoB,MAAM,CAACO,IAAI,CAAC2B,MAAM,GAAG,CAACH,QAAM,CAAC;QACjC;MACJ;MAEA,IAAMM,UAAU,GAAGlI,CAAC,CAAC,OAAO,EAAE;QAAEyF,KAAK,EAAE;MAAgB,CAAC,CAAC,CAAC0C,QAAQ,CAACnI,CAAC,CAAC,MAAM,CAAC,CAAC;MAC7E,IAAM4H,MAAM,GAAG5H,CAAC,CAAC,OAAO,CAAC,CAACmI,QAAQ,CAACD,UAAU,CAAC;MAC9CrC,MAAM,CAACuC,MAAM,GAAGR,MAAM,CAAC,CAAC,CAAC;MACzB3H,EAAE,CAACoI,QAAQ,CAACxC,MAAM,CAAC;MACnB+B,MAAM,CAACU,MAAM,CAAC,CAAC;MACfJ,UAAU,CAACK,MAAM,CAAC,CAAC;MACnB,OAAOvI,CAAC,CAAC,OAAO,CAAC,CAACwI,MAAM,CAAChD,KAAK,EAAEoC,MAAM,CAAC;IAC3C,CAAC;EACL,CAAC;EAED,OAAO5H,CAAC,CAACyI,cAAc,CAACC,YAAY,GAAG;IACnC,sBAAsB,EAAEhI,WAAW,CAAC;MAAE0B,IAAI,EAAE,KAAK;MAAEC,UAAU,EAAE;IAAK,CAAC,CAAC;IACtE,8BAA8B,EAAE3B,WAAW,CAAC;MAAE0B,IAAI,EAAE,KAAK;MAAEE,OAAO,EAAE,IAAI;MAAED,UAAU,EAAE;IAAK,CAAC,CAAC;IAC7F,WAAW,EAAE3B,WAAW,CAAC;MAAE0B,IAAI,EAAE;IAAM,CAAC,CAAC;IACzC,mBAAmB,EAAE1B,WAAW,CAAC;MAAE0B,IAAI,EAAE,KAAK;MAAEE,OAAO,EAAE;IAAK,CAAC,CAAC;IAChE,YAAY,EAAE5B,WAAW,CAAC,CAAC;IAC3B,YAAY,EAAEA,WAAW,CAAC;MAAE0B,IAAI,EAAE,MAAM;MAAEE,OAAO,EAAE;IAAK,CAAC,CAAC;IAC1D,eAAe,EAAE5B,WAAW,CAAC;MAAE0B,IAAI,EAAE;IAAU,CAAC;EACpD,CAAC;AACL,CAAC,EAAEuG,MAAM,CAAC","ignoreList":[]}