{"version":3,"sources":["pivot.ru.coffee","pivot.ru.min.js"],"names":["callWithJQuery","pivotModule","exports","module","require","define","amd","jQuery","$","frFmt","frFmtInt","frFmtPct","nf","tpl","pivotUtilities","numberFormat","aggregatorTemplates","thousandsSep","decimalSep","digitsAfterDecimal","scaler","suffix","locales","ru","localeStrings","renderError","computeError","uiRenderError","selectAll","selectNone","tooMany","filterResults","totals","vs","by","rendererLabel","valuesLabel","fieldsLabel","colsLabel","rowsLabel","groupsLabel","aggregators","Кол-во","count","Кол-во уникальных","countUnique","Список уникальных","listUnique","Сумма","sum","Сумма целых","Среднее","average","Минимум","min","Максимум","max","Сумма по сумме","sumOverSum","80% верхней границы","sumOverSumBound80","80% нижней границы","Доля по всему","fractionOf","Доля по строке","Доля по столбцу","Кол-во по всему","Кол-во по строке","Кол-во по столбцу","renderers","Таблица","График столбцы","Тепловая карта","Тепловая карта по строке","Тепловая карта по столбцу","call","this"],"mappings":"CAAA,WAAA,GAAAA,IAAAA,EAAiB,SAACC,GACd,MAAqB,gBAAXC,UAAyC,gBAAVC,QACrCF,EAAYG,QAAQ,WACC,kBAAVC,SAAyBA,OAAOC,IAC3CD,QAAQ,UAAWJ,GAGnBA,EAAYM,UAEL,SAACC,GACZ,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,CCuBA,ODvBAD,GAAKJ,EAAEM,eAAeC,aACtBF,EAAML,EAAEM,eAAeE,oBAEvBP,EAAWG,GAAGK,aAAc,IAAKC,WAAY,MAC7CR,EAAWE,GAAGO,mBAAoB,EAAGF,aAAc,IAAKC,WAAY,MACpEP,EAAWC,GAAGO,mBAAoB,EAAGC,OAAQ,IAAKC,OAAQ,IAAKJ,aAAc,IAAKC,WAAY,MAE9FV,EAAEM,eAAeQ,QAAQC,IACrBC,eACIC,YAAa,8BACbC,aAAc,6BACdC,cAAe,8DACfC,UAAW,cACXC,WAAY,kBACZC,QAAS,mCACTC,cAAe,qBACfC,OAAQ,QACRC,GAAI,KACJC,GAAI,IACJC,cAAe,kBACfC,YAAa,WACbC,YAAa,OACbC,UAAW,UACXC,UAAW,SACXC,YAAa,UAEjBC,aACIC,SAAU7B,EAAI8B,MAAMjC,GACpBkC,oBAAqB/B,EAAIgC,YAAYnC,GACrCoC,oBAAqBjC,EAAIkC,WAAW,MACpCC,QAASnC,EAAIoC,IAAIxC,GACjByC,cAAerC,EAAIoC,IAAIvC,GACvByC,UAAWtC,EAAIuC,QAAQ3C,GACvB4C,UAAWxC,EAAIyC,IAAI7C,GACnB8C,WAAY1C,EAAI2C,IAAI/C,GACpBgD,iBAAkB5C,EAAI6C,WAAWjD,GACjCkD,sBAAuB9C,EAAI+C,mBAAkB,EAAMnD,GACnDoD,qBAAsBhD,EAAI+C,mBAAkB,EAAOnD,GACnDqD,gBAAiBjD,EAAIkD,WAAWlD,EAAIoC,MAAO,QAAStC,GACpDqD,iBAAkBnD,EAAIkD,WAAWlD,EAAIoC,MAAO,MAAOtC,GACnDsD,kBAAmBpD,EAAIkD,WAAWlD,EAAIoC,MAAO,MAAOtC,GACpDuD,kBAAmBrD,EAAIkD,WAAWlD,EAAI8B,QAAS,QAAShC,GACxDwD,mBAAoBtD,EAAIkD,WAAWlD,EAAI8B,QAAS,MAAOhC,GACvDyD,oBAAqBvD,EAAIkD,WAAWlD,EAAI8B,QAAS,MAAOhC,IAE5D0D,WACIC,UAAW9D,EAAEM,eAAeuD,UAAU,MACtCE,iBAAkB/D,EAAEM,eAAeuD,UAAU,kBAC7CG,iBAAkBhE,EAAEM,eAAeuD,UAAU,QAC7CI,2BAA4BjE,EAAEM,eAAeuD,UAAU,eACvDK,4BAA6BlE,EAAEM,eAAeuD,UAAU,qBCqBjEM,KAAKC","file":"pivot.ru.min.js","sourcesContent":["callWithJQuery = (pivotModule) ->\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\n        pivotModule require(\"jquery\")\n    else if typeof define is \"function\" and define.amd # AMD\n        define [\"jquery\"], pivotModule\n    # Plain browser env\n    else\n        pivotModule jQuery\n\ncallWithJQuery ($) ->\n    nf = $.pivotUtilities.numberFormat\n    tpl = $.pivotUtilities.aggregatorTemplates\n\n    frFmt =    nf(thousandsSep: \".\", decimalSep: \",\")\n    frFmtInt = nf(digitsAfterDecimal: 0, thousandsSep: \".\", decimalSep: \",\")\n    frFmtPct = nf(digitsAfterDecimal: 1, scaler: 100, suffix: \"%\", thousandsSep: \".\", decimalSep: \",\")\n\n    $.pivotUtilities.locales.ru =\n        localeStrings:\n            renderError: \"Ошибка рендеринга страницы.\",\n            computeError: \"Ошибка табличных расчетов.\",\n            uiRenderError: \"Ошибка во время прорисовки и динамического расчета таблицы.\",\n            selectAll: \"Выбрать все\",\n            selectNone: \"Снять выделение\",\n            tooMany: \"(Выбрано слишком много значений)\",\n            filterResults: \"Возможные значения\",\n            totals: \"Всего\",\n            vs: \"на\",\n            by: \"с\"\n            rendererLabel: \"Тип отображения\"\n            valuesLabel: \"Значения\"\n            fieldsLabel: \"Поля\"\n            colsLabel: \"Колонки\"\n            rowsLabel: \"Строки\"\n            groupsLabel: \"Группы\"\n\n        aggregators:\n            \"Кол-во\": tpl.count(frFmtInt),\n            \"Кол-во уникальных\": tpl.countUnique(frFmtInt),\n            \"Список уникальных\": tpl.listUnique(\", \"),\n            \"Сумма\": tpl.sum(frFmt),\n            \"Сумма целых\": tpl.sum(frFmtInt),\n            \"Среднее\": tpl.average(frFmt),\n            \"Минимум\": tpl.min(frFmt),\n            \"Максимум\": tpl.max(frFmt),\n            \"Сумма по сумме\": tpl.sumOverSum(frFmt),\n            \"80% верхней границы\": tpl.sumOverSumBound80(true, frFmt),\n            \"80% нижней границы\": tpl.sumOverSumBound80(false, frFmt),\n            \"Доля по всему\": tpl.fractionOf(tpl.sum(), \"total\", frFmtPct),\n            \"Доля по строке\": tpl.fractionOf(tpl.sum(), \"row\", frFmtPct),\n            \"Доля по столбцу\": tpl.fractionOf(tpl.sum(), \"col\", frFmtPct),\n            \"Кол-во по всему\": tpl.fractionOf(tpl.count(), \"total\", frFmtPct),\n            \"Кол-во по строке\": tpl.fractionOf(tpl.count(), \"row\", frFmtPct),\n            \"Кол-во по столбцу\": tpl.fractionOf(tpl.count(), \"col\", frFmtPct)\n\n        renderers:\n            \"Таблица\": $.pivotUtilities.renderers[\"Table\"]\n            \"График столбцы\": $.pivotUtilities.renderers[\"Table Barchart\"] # TODO придумать более понятный вариант\n            \"Тепловая карта\": $.pivotUtilities.renderers[\"Heatmap\"]\n            \"Тепловая карта по строке\": $.pivotUtilities.renderers[\"Row Heatmap\"]\n            \"Тепловая карта по столбцу\": $.pivotUtilities.renderers[\"Col Heatmap\"]\n\n","(function() {\n  var callWithJQuery;\n\n  callWithJQuery = function(pivotModule) {\n    if (typeof exports === \"object\" && typeof module === \"object\") {\n      return pivotModule(require(\"jquery\"));\n    } else if (typeof define === \"function\" && define.amd) {\n      return define([\"jquery\"], pivotModule);\n    } else {\n      return pivotModule(jQuery);\n    }\n  };\n\n  callWithJQuery(function($) {\n    var frFmt, frFmtInt, frFmtPct, nf, tpl;\n    nf = $.pivotUtilities.numberFormat;\n    tpl = $.pivotUtilities.aggregatorTemplates;\n    frFmt = nf({\n      thousandsSep: \".\",\n      decimalSep: \",\"\n    });\n    frFmtInt = nf({\n      digitsAfterDecimal: 0,\n      thousandsSep: \".\",\n      decimalSep: \",\"\n    });\n    frFmtPct = nf({\n      digitsAfterDecimal: 1,\n      scaler: 100,\n      suffix: \"%\",\n      thousandsSep: \".\",\n      decimalSep: \",\"\n    });\n    return $.pivotUtilities.locales.ru = {\n      localeStrings: {\n        renderError: \"Ошибка рендеринга страницы.\",\n        computeError: \"Ошибка табличных расчетов.\",\n        uiRenderError: \"Ошибка во время прорисовки и динамического расчета таблицы.\",\n        selectAll: \"Выбрать все\",\n        selectNone: \"Снять выделение\",\n        tooMany: \"(Выбрано слишком много значений)\",\n        filterResults: \"Возможные значения\",\n        totals: \"Всего\",\n        vs: \"на\",\n        by: \"с\",\n        rendererLabel: \"Тип отображения\",\n        valuesLabel: \"Значения\",\n        fieldsLabel: \"Поля\",\n        colsLabel: \"Колонки\",\n        rowsLabel: \"Строки\",\n        groupsLabel: \"Группы\"\n      },\n      aggregators: {\n        \"Кол-во\": tpl.count(frFmtInt),\n        \"Кол-во уникальных\": tpl.countUnique(frFmtInt),\n        \"Список уникальных\": tpl.listUnique(\", \"),\n        \"Сумма\": tpl.sum(frFmt),\n        \"Сумма целых\": tpl.sum(frFmtInt),\n        \"Среднее\": tpl.average(frFmt),\n        \"Минимум\": tpl.min(frFmt),\n        \"Максимум\": tpl.max(frFmt),\n        \"Сумма по сумме\": tpl.sumOverSum(frFmt),\n        \"80% верхней границы\": tpl.sumOverSumBound80(true, frFmt),\n        \"80% нижней границы\": tpl.sumOverSumBound80(false, frFmt),\n        \"Доля по всему\": tpl.fractionOf(tpl.sum(), \"total\", frFmtPct),\n        \"Доля по строке\": tpl.fractionOf(tpl.sum(), \"row\", frFmtPct),\n        \"Доля по столбцу\": tpl.fractionOf(tpl.sum(), \"col\", frFmtPct),\n        \"Кол-во по всему\": tpl.fractionOf(tpl.count(), \"total\", frFmtPct),\n        \"Кол-во по строке\": tpl.fractionOf(tpl.count(), \"row\", frFmtPct),\n        \"Кол-во по столбцу\": tpl.fractionOf(tpl.count(), \"col\", frFmtPct)\n      },\n      renderers: {\n        \"Таблица\": $.pivotUtilities.renderers[\"Table\"],\n        \"График столбцы\": $.pivotUtilities.renderers[\"Table Barchart\"],\n        \"Тепловая карта\": $.pivotUtilities.renderers[\"Heatmap\"],\n        \"Тепловая карта по строке\": $.pivotUtilities.renderers[\"Row Heatmap\"],\n        \"Тепловая карта по столбцу\": $.pivotUtilities.renderers[\"Col Heatmap\"]\n      }\n    };\n  });\n\n}).call(this);\n\n//# sourceMappingURL=pivot.ru.js.map\n"]}